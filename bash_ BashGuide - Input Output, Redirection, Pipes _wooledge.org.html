<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html data-darkreader-mode=dynamic data-darkreader-scheme=dark style><!--
 Page saved with SingleFile 
 url: https://mywiki.wooledge.org/BashGuide/InputAndOutput 
 saved date: Tue Jul 04 2023 00:47:13 GMT-0700 (Pacific Daylight Time)
--><meta charset=utf-8><style>:root{--sf-img-0: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1QQaBywH5hnejwAAADV0RVh0Q29tbWVudAAoYykgMjAwNCBKYWt1YiBTdGVpbmVyCgpDcmVhdGVkIHdpdGggVGhlIEdJTVCQ2YtvAAAC7ElEQVQ4y62TXWhbZRyHn/ec95xjkzRpm+ajjW3W0KIsuHWyyMSrKagwFG+UKd1FZTgQb4ShoLdSEMX7XYgVR0HE6Y1MhjezMLWzlo12K67rXD+znCwfTXKSc5Kc1wvZxO3W5/r/ey7+/H6CBzj+3uwp4C1dyv0KLOX7DaVY0HTt7NzM1BcP3ov7wfe/nDR17ceJsWTiyIE0Y6koAcuiXG+ytmmzuLLJjY3CZSHEybmZqav/Ebz27ue5YLjnt1eOHhQHJ+KU603snQ1kKA49/eDYpBJRFla2OT+/chchnr0nkQDRaOin55/JiicyA5SKeQZHs0QGh3BabfKb60jfQ+s2eS6Xoeur6IVL188ATwNob3741UfJeH/4aG4cQ/PpyBBoAkNKTEMSsCSJaC9D8RixviC57KOkhweOvPHB2WkALRwJnDycHaVSLnLHDRAf3odS4CtAaAjfY7fU4PuLy1yYXyRiKfaPDwO8CiBrTjuWTvazcKNAZiKOr/79bL1S4qnJLEIIlFJs796h1WwyFIsAHAbQWl5HsywTLRSnUm9h1zwct0vN8fDqNkL8oxNCkIhFubp6E8uQAAMAUtc1v9poacHWDiFpUWgMUjRMOl2fVqnDZLuN63r0hoI4jsO+VIxC0wMoAUhD0/K3torDh8aTZEaGuL25zfzaHh4mTS/Ip99ewRJd3n75ALVajaVrN6E3DfA7gKa63XNLq1t4vgQgPZLi2KEYu4USd6sNqq7gdtnHtm2q1SqP9KdYXc8DfAOgL/187vx47qXTQtfNSNCgx9T5ZXGZ5byi1nDZa7jsOS65EZ3CnsdW2efa2s6vczNT79wvUqVQPHHxsv+d78OTjyX44UqVsmfidbq4XgfLEGxUFH8V2lz6Y60shDj10BaOTX/8+mhmZDYc6TMfzyRJDoaxLAOn1WbXrvDnrTxbO8XrQpfHH9rCPfoGxswXTpye1a3Ai+iyD4RQyu+oTntdCe2zrz+ZPsP/zd9wbDf3MdodlQAAAABJRU5ErkJggg==")}</style><style class="darkreader darkreader--user-agent" media=screen>.jfk-bubble.gtx-bubble,.captcheck_answer_label>input+img,span#closed_text>img[src^="https://www.gstatic.com/images/branding/googlelogo"],span[data-href^="https://www.hcaptcha.com/"]>#icon,#bit-notification-bar-iframe,::-webkit-calendar-picker-indicator{filter:invert(100%) hue-rotate(180deg) contrast(90%) sepia(5%)!important}:root{--darkreader-neutral-background:#131516;--darkreader-neutral-text:#dcd6cf;--darkreader-selection-background:#054da5;--darkreader-selection-text:#ece8e2}html{background-color:#191a1b!important}html{color-scheme:dark!important}html,body,input,select{background-color:#191a1b}html,body,input,select{border-color:#756c5e;color:#ece8e2}a{color:#3992f8}::placeholder{color:#b5ada1}input:-webkit-autofill,textarea:-webkit-autofill,select:-webkit-autofill{background-color:#414403!important;color:#ece8e2!important}::-webkit-scrollbar{background-color:#212324;color:#aea699}::-webkit-scrollbar-thumb{background-color:#464b4d}::-webkit-scrollbar-corner{background-color:#191a1b}*{scrollbar-color:#464b4d #212324}::selection{background-color:#054da5!important;color:#ece8e2!important}::-moz-selection{background-color:#054da5!important;color:#ece8e2!important}</style>
<meta http-equiv=X-UA-Compatible content="IE=Edge">
<meta name=viewport content="width=device-width, initial-scale=1">
<style>.backtick{background-color:#eeeeee;font-size:larger}</style><style class="darkreader darkreader--sync" media=screen>.backtick{background-color:rgb(35,36,38)}</style>
<meta name=robots content=index,nofollow>
<title>BashGuide/InputAndOutput - Greg's Wiki</title>
<meta name=darkreader content=e72c4f6b73cc45e7bc8f55b9cfa451b7><style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style>
<style>html{background-color:white;color:black;font-family:sans-serif;font-size:1em}body{margin:0}a{color:#0044B3}a:visited{color:#FF7BB3}a.http:before{content:var(--sf-img-0);margin:0 0.2em}a.https:before{content:var(--sf-img-0);margin:0 0.2em}li p{margin:.25em 0}a,img{border:0}pre{border:1pt solid #AEBDCC;background-color:#F3F5F7;padding:5pt;font-family:courier,monospace;white-space:pre-wrap;word-wrap:break-word;white-space:-moz-pre-wrap;white-space:-o-pre-wrap}div.table-of-contents{border:1px solid #bbbbbb;color:black;background-color:#eeeeee;font-size:80%;text-align:left;margin:0.5em 0 0.5em 1em;padding:0.5em 0.75em 0.5em 0.5em;max-width:50%;display:inline-table}div.table-of-contents ol{margin:0;padding:0 0 0 2em}div.table-of-contents li{margin:0;padding:0}p.table-of-contents-heading{font-weight:bold;padding:0;margin:0 0 0.5em 0;letter-spacing:0.075em}.info{float:right;font-size:0.7em;color:gray}#pageinfo{margin-top:2em}#pagebottom{clear:both}hr{height:1pt;background-color:#9C9C9C;border:0}.hr4{height:5pt}</style><style class="darkreader darkreader--sync" media=screen>html{background-color:rgb(25,26,27);color:rgb(236,232,226)}a{color:rgb(103,178,250)}a:visited{color:rgb(253,116,171)}a,img{border-color:currentcolor}pre{border-color:rgb(68,73,75);background-color:rgb(31,32,33)}div.table-of-contents{border-color:rgb(68,74,76);color:rgb(236,232,226);background-color:rgb(35,36,38)}.info{color:rgb(154,144,129)}hr{background-color:rgb(82,88,90);border-color:currentcolor}body{padding:0;border:0}a:link{color:#47f;text-decoration:none}a:link:hover,a:link:active{text-decoration:underline;color:green}a:visited{text-decoration:none;color:#04a}a:visited:hover{text-decoration:none;color:red}.disabled{color:gray}#header{margin:1px;padding:1px;background:#e6eaf0;line-height:1.1em}#logo{float:left;margin:5px 10px;padding:0;font-size:1.4em;line-height:1em;font-weight:bold}#logo img{vertical-align:middle}#logo a{color:black;text-decoration:none}#username{display:block;margin:8px 12px 4px 12px;padding:0;font-size:0.82em}#searchform{margin:4px 0.5em 8px 0.5em;padding:0;font-size:0.82em;float:right;clear:right;text-align:right}#searchform input{font-size:100%;vertical-align:middle}#locationline{padding:0;font-size:100%;font-weight:normal;margin:0.25em 12px 5px 12px;clear:right}#pagelocation{font-size:1.5em;letter-spacing:0.05em}#navibar{clear:both;display:block;margin:0;padding:0 10px;font-size:0.82em}#navibar li{float:left;display:inline;margin:0 2px;padding:2px 5px;border:1px solid #acd;border-bottom:none;white-space:nowrap}#navibar li.wikilink{background:white}#navibar a,#navibar a:visited{color:black;text-decoration:none}#navibar li.current a{font-weight:bold}#navibar li:hover{background:#d6e4f9}#navibar li.current,#navibar li.current:hover{background:#81BBF2;border:1px solid #4d7da9;border-bottom:1px solid #81bbf2;margin-bottom:-1px}#pageline{clear:both;margin:0;padding:0;width:100%;height:4px;line-height:4px;border-bottom:1px solid #4d7da9;border-top:1px solid #4d7da9;background:#81BBF2}.editbar{clear:both;display:block;margin:0;padding:2px 8px;background:#d6e4f9;font-size:0.8em;border-bottom:1px solid #4d7da9;border-top:1px solid #4d7da9;margin-top:-1px}.editbar form,.editbar form div{display:inline;margin:0}.editbar select{font-size:100%;vertical-align:middle}.editbar li{display:inline;padding:0;margin:4px 6px}.editbar a,.editbar a:visited{color:#0044B3}#page{background-color:white;margin:0;padding:2px 20px 20px 20px}#footer{clear:both;margin:0;padding:0}#credits{margin:5px 10px;padding:0;text-align:center;font-size:0.88em;color:#6C7680}#credits li{display:inline;padding:0 2px;margin:0 4px}body{border-color:currentcolor}a:link{color:rgb(79,159,249);text-decoration-color:currentcolor}a:link:hover,a:link:active{text-decoration-color:currentcolor;color:rgb(121,254,117)}a:visited{text-decoration-color:currentcolor;color:rgb(108,182,250)}a:visited:hover{text-decoration-color:currentcolor;color:rgb(249,30,29)}.disabled{color:rgb(154,144,129)}#header{background-color:rgb(36,38,40);background-image:none}#logo a{color:rgb(236,232,226);text-decoration-color:currentcolor}#navibar li{border-color:rgb(42,79,96) rgb(42,79,96) currentcolor}#navibar li.wikilink{background-color:rgb(25,26,27);background-image:none}#navibar a,#navibar a:visited{color:rgb(236,232,226);text-decoration-color:currentcolor}#navibar li:hover{background-color:rgb(38,40,42);background-image:none}#navibar li.current,#navibar li.current:hover{background-color:rgb(16,69,119);background-image:none;border-color:rgb(60,93,122) rgb(60,93,122) rgb(17,73,126)}#pageline{border-bottom-color:rgb(60,93,122);border-top-color:rgb(60,93,122);background-color:rgb(16,69,119);background-image:none}.editbar{background-color:rgb(38,40,42);background-image:none;border-bottom-color:rgb(60,93,122);border-top-color:rgb(60,93,122)}.editbar a,.editbar a:visited{color:rgb(103,178,250)}#page{background-color:rgb(25,26,27)}#credits{color:rgb(159,151,136)}body{padding:0;border:0}a:link{color:#47f;text-decoration:none}a:link:hover,a:link:active{text-decoration:underline;color:green}a:visited{text-decoration:none;color:#04a}a:visited:hover{text-decoration:none;color:red}.disabled{color:gray}#header{margin:1px;padding:1px;background:#e6eaf0;line-height:1.1em}#logo{float:left;margin:5px 10px;padding:0;font-size:1.4em;line-height:1em;font-weight:bold}#logo img{vertical-align:middle}#logo a{color:black;text-decoration:none}#username{display:block;margin:8px 12px 4px 12px;padding:0;font-size:0.82em}#searchform{margin:4px 0.5em 8px 0.5em;padding:0;font-size:0.82em;float:right;clear:right;text-align:right}#searchform input{font-size:100%;vertical-align:middle}#locationline{padding:0;font-size:100%;font-weight:normal;margin:0.25em 12px 5px 12px;clear:right}#pagelocation{font-size:1.5em;letter-spacing:0.05em}#navibar{clear:both;display:block;margin:0;padding:0 10px;font-size:0.82em}#navibar li{float:left;display:inline;margin:0 2px;padding:2px 5px;border:1px solid #acd;border-bottom:none;white-space:nowrap}#navibar li.wikilink{background:white}#navibar a,#navibar a:visited{color:black;text-decoration:none}#navibar li.current a{font-weight:bold}#navibar li:hover{background:#d6e4f9}#navibar li.current,#navibar li.current:hover{background:#81BBF2;border:1px solid #4d7da9;border-bottom:1px solid #81bbf2;margin-bottom:-1px}#pageline{clear:both;margin:0;padding:0;width:100%;height:4px;line-height:4px;border-bottom:1px solid #4d7da9;border-top:1px solid #4d7da9;background:#81BBF2}.editbar{clear:both;display:block;margin:0;padding:2px 8px;background:#d6e4f9;font-size:0.8em;border-bottom:1px solid #4d7da9;border-top:1px solid #4d7da9;margin-top:-1px}.editbar form,.editbar form div{display:inline;margin:0}.editbar select{font-size:100%;vertical-align:middle}.editbar li{display:inline;padding:0;margin:4px 6px}.editbar a,.editbar a:visited{color:#0044B3}#page{background-color:white;margin:0;padding:2px 20px 20px 20px}#footer{clear:both;margin:0;padding:0}#credits{margin:5px 10px;padding:0;text-align:center;font-size:0.88em;color:#6C7680}#credits li{display:inline;padding:0 2px;margin:0 4px}html{line-height:1.8em}body,em,a,span,div,p{font-size:18pt}h1{font-size:26pt}h2{font-size:22pt}h3{font-size:20pt}tt,pre{font-size:16pt}#pagelocation,#pageinfo{display:none}body{border-color:currentcolor}a:link{color:rgb(79,159,249);text-decoration-color:currentcolor}a:link:hover,a:link:active{text-decoration-color:currentcolor;color:rgb(121,254,117)}a:visited{text-decoration-color:currentcolor;color:rgb(108,182,250)}a:visited:hover{text-decoration-color:currentcolor;color:rgb(249,30,29)}.disabled{color:rgb(154,144,129)}#header{background-color:rgb(36,38,40);background-image:none}#logo a{color:rgb(236,232,226);text-decoration-color:currentcolor}#navibar li{border-color:rgb(42,79,96) rgb(42,79,96) currentcolor}#navibar li.wikilink{background-color:rgb(25,26,27);background-image:none}#navibar a,#navibar a:visited{color:rgb(236,232,226);text-decoration-color:currentcolor}#navibar li:hover{background-color:rgb(38,40,42);background-image:none}#navibar li.current,#navibar li.current:hover{background-color:rgb(16,69,119);background-image:none;border-color:rgb(60,93,122) rgb(60,93,122) rgb(17,73,126)}#pageline{border-bottom-color:rgb(60,93,122);border-top-color:rgb(60,93,122);background-color:rgb(16,69,119);background-image:none}.editbar{background-color:rgb(38,40,42);background-image:none;border-bottom-color:rgb(60,93,122);border-top-color:rgb(60,93,122)}.editbar a,.editbar a:visited{color:rgb(103,178,250)}#page{background-color:rgb(25,26,27)}#credits{color:rgb(159,151,136)}</style>
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static1911/modernized/css/msie.css">
<![endif]-->
<link rel=alternate title="Greg's Wiki: BashGuide/InputAndOutput" href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=BashGuide%2FInputAndOutput&amp;ddiffs=1" type=application/rss+xml>
<link rel=alternate type=application/wiki title=Edit href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=edit">
<link rel=Start href=https://mywiki.wooledge.org/EnglishFrontPage>
<link rel=Alternate title="Wiki Markup" href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=raw">
<link rel=Alternate media=print title="Print View" href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=print">
<link rel=Up href=https://mywiki.wooledge.org/BashGuide>
<link rel=Search href=https://mywiki.wooledge.org/FindPage>
<link rel=Index href=https://mywiki.wooledge.org/TitleIndex>
<link rel=Glossary href=https://mywiki.wooledge.org/WordIndex>
<link rel=Help href=https://mywiki.wooledge.org/HelpOnFormatting>
<link type=image/x-icon rel="shortcut icon" href=data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAACtVBMVEUAAAAABAAICAgICAgIDAgQEBAQFBAQFBAQFBAYGBgYGBgYGBgYHBgYHBgYHBgYHBggICAgICAgICAgICAgJCAgJCAgJCAgJCAoKCgoKCgoLCgoLCgoLCgwMDAwMDAwMDAwNDA4ODg4ODg4ODg4PDg4PDg4PDg4PDhAQEBAQEBAQEBAQEBAREBAREBAREBISEhISEhISEhISEhITEhITEhITEhITEhQUFBQUFBQUFBQUFBQVFBQVFBQVFBQVFBYWFhYWFhYWFhYWFhYXFhYXFhYXFhYXFhgYGBgYGBgYGBgYGBgZGBgZGBgZGBgZGBoaGhoaGhoaGhoaGhobGhobGhobGhobGhwcHBwcHBwcHBwcHBwdHBwdHBwdHBwdHB4eHh4eHh4eHh4eHh4fHh4fHh4fHh4fHiAgICAgICAgICAgICAhICAhICAhICAhICIiIiIiIiIiIiIiIiIjIiIjIiIjIiIjIiQkJCQkJCQkJCQkJCQlJCQlJCQlJCQlJCYmJiYmJiYmJiYmJiYnJiYnJiYnJiYnJigoKCgoKCgoKCgoKCgpKCgpKCgpKCgpKCoqKioqKioqKioqKiorKiorKiorKiorKiwsLCwsLCwsLCwsLCwtLCwtLCwtLCwtLC4uLi4uLi4uLi4uLi4vLi4vLi4vLi4vLjAwMDAwMDAwMDAwMDAxMDAxMDAxMDAxMDIyMjIyMjIyMjIyMjIzMjIzMjIzMjIzMjQ0NDQ0NDQ0NDQ0NDQ1NDQ1NDQ1NDQ1NDY2NjY2NjY2NjY2NjY3NjY3NjY3NjY3Njg4ODg4ODg4ODg4ODg5ODg5ODg5ODg5ODo6Ojo6Ojo6Ojo6Ojo7Ojo7Ojo7Ojo7Ojw8PDw8PDw8PDw8PDw9PDw9PDw9PDw9PD4+Pj4+Pj4+Pj4+Pj4/Pj4/Pj4/Pj4/PjQfp2yAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9IMEgInKTcxm/YAAAEbSURBVHicARAB7/4A2tvf0Nrj3t/i3+Hh5uDm4wDa29ncY93X3d3f4eLl5reKAN/d49V8TNLg1djm5toVZ3UA3Nvf5ZGdS7XApNm/sIN8fADe29zgbG6gn57GpLqYmXfQANzf2+SYj5aXirCbsqKDp74A3t7g5rPm4rmstcCtyOWtlQDf3ebXhqQAgI/GmAJ55bKVANve5sqHwbKtnr6mkZyEuZIA3Nzevpqpr7xnz8mAxYFHuADa3NWocJO5mXVHeLajhWy8AN7drp5wgmdWN2+9lE+TpOIA26mhl2eZiVt7ln9TSoiD5gDfn5KvbWhvZ1hTTsJsoX7UAMubnmWRrpFZrsKshsnOkOQA2M6ovJOnmsKTjqe4kbO95nFoq+DNY6ihAAAAAElFTkSuQmCC><link rel=canonical href=https://mywiki.wooledge.org/BashGuide/InputAndOutput><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body dir=ltr lang=en>
<div id=header>
<form id=searchform action=/BashGuide/InputAndOutput>
<div>
<label for=searchinput style=display:none>Search:</label>
<input id=searchinput type=text name=value value=Search size=20 alt=Search class=disabled>
<input id=titlesearch name=titlesearch type=submit value=Titles alt="Search Titles" disabled>
<input id=fullsearch name=fullsearch type=submit value=Text alt="Search Full Text" disabled>
</div>
</form>
<div id=logo><a href=https://mywiki.wooledge.org/EnglishFrontPage><img src="data:image/png;base64,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/GMzLdsAAAAEZ0FNQQAAsY58+1GTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMAUExURQAAAP///7W3u4G78qinqKOjpaysrmJiY/7+/8PDxJ6en6SlqbW2uoKDhq6vsr/Bxry+w8TGy9PW3Lm7v7e5vbS2urO1ucHDx7u9wXx9f3+AgqCho8THzMLFys7R1srN0sfKz5OVmK+xtLK0t6eqrr3AxIG89oG79Hqs3XOdxnmhyHaZvHaZu3SVtWSAnFdqfmh+lFNkdW+BlFlmc15oclRcZFBXXmpzfFxiaGFnbVBUWFdbX3d5e05PUF9gYVhZWmZnaITD/4TF/4PD/oPD/YPB/IPB+4LA+oPA+YK/+IK+94TC+oK99oK99YG89IG884G783+58H227XWq3YPA9oK+9IC58Hy06Hqx5YG68YC573mu4YC47HOl1Xyy5IC36n+153Ghznan1oC15n2w4Hmq2WyYwn2u3Xus2nys2Huq1Xqn0Xqmz2yTuHagx2iNsGaKrHObwGWIqHigxnKWuGSEonaZuW+Qrm6OrF54kWyKpmqHoVhvhFtyiGiCmnOPqVtsfGN1hW6AkFFeal9temp0fWpze4XI/4XG/4bH/4bJ/3uz44O97XGTsIXK/4bK/4fM/4jL/4fP/4nU/1tdXjY3N7W1s/r6+ejo5+Dg38/PzktKSPTz8VFPTGFfXMLAvayppeHe2ldSTHx3cc3IwtLOyWVeVnZvZ4B5cWFXTWpgVm5kWlpTTG5mXnFpYUZBPKKYjmNdV4eAeaefl66noLqzrIyHgqCblpiTjrOuqW1qZ9rW0nFvbX99e9TRzubj4Li2tGVkY/v59+fl42loZ/38+/r5+PDv7u3s61tOQl5SR3tuYnJmW2ZcU2JZUXZsY31zanRrY0I8N0tFQFJMR5mOhWhhW11XUoF6dHBqZXJsZ4uEfsG5so6Ig2xnY2plYVlVUnhzb5uWksC7t/Pw7t3a2J6YlY+NjP37+vj29ff19JWSkWZlZWVkZObl5ePi4t3c3Jybm/7+/v39/fv7+/n5+fb29vHx8dbW1ry8vG9vb2xsbGZmZlJSUkxMTP///xWf3yUAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAJMUlEQVR42qxXe1BT6RU/997ckBeQECEYw6MuAl1FQDSgrMjDBoUEtdg7u9qZLrpW6djZHdfpTh2qu9uus9OK2t0qap21uqyPVKpjAgSEINooBhSfu4o8RMIjkEASIORBkv6R1w3K6s70/pPvO+d3Tr7n+X4/xAWv/oyXIl16IQ4AdjUXGdoQOgsOeVWCybPiZv4f7JIqZy4AKNFiGf7XgVXyTcw3S3CclrpwvzSzzyKxIPUAIHLRZLQoFbHncbtl++sT3B7jlZrTXkhkQXi1z1hot0pk0XcYFVpO+msS1M9RjD7OvxLCkAIAFFrsQKPKAQAIs6mobmHYGp3oxxIYnwuyeeJ6thQAgBjPvMqn30hdDLfpboNBJNde08SGzpqggvu0Y2mdOxyKR0Rn3q1th9S1wzGNYW4bYchvi0/Ql86SoK9dNUfBc0OhWEddvpYaEY0MaB52Mhu5HjOhXaPLTI3yB6G+1s1OpoLf5I0nDHRd4oqcdCYjvmhd4bkcowcl5TXxFczOmy+PYFJ+LDa5Wea1x209+8edQQNcPXBdrBHlv+ft9oVIVt1/vkPsPRMUr1l5LGax2hcP/K7LHOYk6AH0MBodpuasbvC6ZPRlrmMMyYwp1GXGprRKffHEOq4uZlzv6eFrdnTk+actbU2JzawLTNBsLUtW++IJyWKo62SNeftjKA2nZxH+DOrkMmszeQ0M9X/+4JoMYLX9F4A0KrPWPRFE7wge8UUEP6npvZ9TV5+TB4AoGwEk2Sf/JGL7E9yT0a6Fgq7g+pN8MBuXq7/flZQe0+UfdNh0b+eu0XBJeygGZt3K6nAwZlskKb5FrE/rGOBB6n+Hh6ttHQlbdD178+I5XVy9f68osei3Ez+MCrlMSNw2HC7cTSj4UfUizwgsVz7fdhsyKsIP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" alt="MoinMoin Logo"></a></div>
<div id=username><a href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=login" id=login rel=nofollow>Login</a></div>
<h1 id=locationline>
<span id=pagelocation><span class=pagepath><a href=https://mywiki.wooledge.org/BashGuide>BashGuide</a></span><span class=sep>/</span><a href=https://mywiki.wooledge.org/BashGuide/InputAndOutput>InputAndOutput</a></span>
</h1>
<ul id=navibar>
<li class=wikilink><a href=https://mywiki.wooledge.org/BashGuide>BashGuide</a><li class=wikilink><a href=https://mywiki.wooledge.org/BashFAQ>BashFAQ</a><li class=wikilink><a href=https://mywiki.wooledge.org/RecentChanges>RecentChanges</a><li class=wikilink><a href=https://mywiki.wooledge.org/FindPage>FindPage</a><li class=wikilink><a href=https://mywiki.wooledge.org/HelpContents>HelpContents</a><li class=current><a href=https://mywiki.wooledge.org/BashGuide/InputAndOutput>BashGuide/InputAndOutput</a></li>
</ul>
<div id=pageline><hr style=display:none></div>
<ul class=editbar><li><a href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=edit&amp;editor=text" name=texteditlink rel=nofollow>Edit</a><li class=toggleCommentsButton style=display:none><li><a class=nbinfo href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=info" rel=nofollow>Info</a><li><a class=nbattachments href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=AttachFile" rel=nofollow>Attachments</a><li>
<form class=actionsmenu method=GET action=/BashGuide/InputAndOutput>
<div>
 
 <select name=action>
 <option value=show selected>More Actions:<option value=raw>Raw Text</option>
<option value=print>Print View</option>
<option value=RenderAsDocbook>Render as Docbook</option>
<option value=refresh>Delete Cache</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=SpellCheck>Check Spelling</option>
<option value=LikePages>Like Pages</option>
<option value=LocalSiteMap>Local Site Map</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=RenamePage disabled class=disabled>Rename Page</option>
<option value=DeletePage disabled class=disabled>Delete Page</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=show disabled class=disabled>Subscribe User</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=show disabled class=disabled>Remove Spam</option>
<option value=show disabled class=disabled>Revert to this revision</option>
<option value=PackagePages>Package Pages</option>
<option value=SyncPages>Sync Pages</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=Load>Load</option>
<option value=Save>Save</option>
<option value=SlideShow>SlideShow</option>
 </select>
 
 
</div>
</form>
</ul>
</div>
<div id=page dir=ltr lang=en>
<div dir=ltr id=content lang=en><span class=anchor id=top></span>
<span class=anchor id=line-1></span><span class=anchor id=line-2></span><span class=anchor id=line-3></span><span class=anchor id=line-4></span><p class=line867><a href=https://mywiki.wooledge.org/BashGuide/TestsAndConditionals>&lt;- Tests and Conditionals</a> | <a href=https://mywiki.wooledge.org/BashGuide/CompoundCommands>Compound Commands -&gt;</a> <span class=anchor id=line-5></span><hr><p class=line874> <span class=anchor id=line-6></span><div class=table-of-contents><p class=table-of-contents-heading>Contents<ol><li>
<a href=#Command-line_Arguments>Command-line Arguments</a><li>
<a href=#The_Environment>The Environment</a><li>
<a href=#File_Descriptors>File Descriptors</a><li>
<a href=#Redirection>Redirection</a><ol><li>
<a href=#File_Redirection>File Redirection</a><li>
<a href=#File_Descriptor_Manipulation>File Descriptor Manipulation</a><li>
<a href=#Heredocs_And_Herestrings>Heredocs And Herestrings</a></ol><li>
<a href=#Pipes>Pipes</a><li>
<a href=#Miscellaneous_Operators>Miscellaneous Operators</a><ol><li>
<a href=#Process_Substitution>Process Substitution</a></ol></ol></div> <span class=anchor id=line-7></span><span class=anchor id=StartOfContent></span> <span class=anchor id=line-8></span>
<h1 id=Input_And_Output>Input And Output</h1>
<span class=anchor id=line-9></span><span class=anchor id=line-10></span><p class=line874>Input and output in Bash scripts is a complex topic, because there is a great deal of flexibility in how it's done. This chapter will only scratch the surface of what is possible. <span class=anchor id=line-11></span><span class=anchor id=line-12></span><p class=line867><em>Input</em> refers to any information that your program receives (or reads). Input to a Bash script can come from several different places: <span class=anchor id=line-13></span><ul><li><p class=line862>Command-line arguments (which are placed in the <a href=https://mywiki.wooledge.org/BashGuide/Parameters>positional parameters</a>) <span class=anchor id=line-14></span></p><li>Environment variables, inherited from whatever process started the script <span class=anchor id=line-15></span><li>Files <span class=anchor id=line-16></span><li><p class=line862>Anything else a <em>File Descriptor</em> can point to (pipes, terminals, sockets, etc.). This will be discussed below. <span class=anchor id=line-17></span><span class=anchor id=line-18></span></p></ul><p class=line867><em>Output</em> refers to any information that your program produces (or writes). Output from a Bash script can also go to lots of different places: <span class=anchor id=line-19></span><ul><li>Files <span class=anchor id=line-20></span><li>Anything else a File Descriptor can point to <span class=anchor id=line-21></span><li>Command-line arguments to some other program <span class=anchor id=line-22></span><li>Environment variables passed to some other program <span class=anchor id=line-23></span><span class=anchor id=line-24></span></ul><p class=line874>Input and output are important in shell script programming. Figuring out where your input comes from, what it looks like, and what you must do to it in order to produce your desired output are core requirements for almost all scripts. <span class=anchor id=line-25></span><span class=anchor id=line-26></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-27></span><span class=anchor id=line-28></span><span class=anchor id=line-29></span><p class=line867><span class=anchor id=Arguments></span> <span class=anchor id=line-30></span>
<h2 id=Command-line_Arguments>1. Command-line Arguments</h2>
<span class=anchor id=line-31></span><span class=anchor id=line-32></span><p class=line862>For many scripts, the first (or the only) input we will care about are the arguments received by the script on the command line. As we saw in the <a href=https://mywiki.wooledge.org/BashGuide/Parameters>Parameters</a> chapter, there are some <em>Special Parameters</em> available to every script which contain these arguments. These are called the <em>Positional Parameters</em>. They are a very simple numerically indexed array of strings (in fact, in the POSIX shell, they are the <em>only</em> array the shell has). The first positional parameter is referred to with <tt class=backtick>$1</tt>; the second, with <tt class=backtick>$2</tt>; and so on. After the 9th one, you must use curly braces to refer to them: <tt class=backtick>${10}</tt>, <tt class=backtick>${11}</tt>, etc. But in practice, it's exceedingly rare that you would ever need to do that, because there are better ways to deal with them as a group. <span class=anchor id=line-33></span><span class=anchor id=line-34></span><p class=line862>In addition to referring to them one at a time, you may also refer to the entire set of positional parameters with the <tt class=backtick>"$@"</tt> substitution. The double quotes here are <strong>extremely important</strong>. If you don't use the double quotes, each one of the positional parameters will undergo word splitting and globbing. You don't want that. By using the quotes, you tell Bash that you want to preserve each parameter as a separate word. <span class=anchor id=line-35></span><span class=anchor id=line-36></span><p class=line862>Another way to deal with the positional parameters is to eliminate each one as it is used. There is a special builtin command named <tt class=backtick>shift</tt> which is used for this purpose. When you issue the <tt class=backtick>shift</tt> command, the first positional parameter (<tt class=backtick>$1</tt>) goes away. The second one becomes <tt class=backtick>$1</tt>, the third one becomes <tt class=backtick>$2</tt>, and so on down the line. So, if you wish, you can write a loop that keeps using <tt class=backtick>$1</tt> over and over. <span class=anchor id=line-37></span><span class=anchor id=line-38></span><p class=line862>In real scripts, a combination of these techniques is used. A loop to process <tt class=backtick>$1</tt> as long as it begins with a <tt class=backtick>-</tt> takes care of the options. Then, when all the options have been processed and shifted away, everything that's left (in <tt class=backtick>"$@"</tt>) is presumably a filename that we want to process. <span class=anchor id=line-39></span><span class=anchor id=line-40></span><p class=line874>For brevity, we will not include examples of argument processing here. Instead, we will refer to the FAQ where those examples have already been written. <span class=anchor id=line-41></span><span class=anchor id=line-42></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-43></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 Identify where your input comes from before you start writing. If you get to design the data flow into your script, then choose a way that makes sense for the kind of data you're dealing with. If you need to pass filenames, passing them as arguments is an excellent approach, because each one is encapsulated as a word, ready to go.</strong> <span class=anchor id=line-44></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-45></span><ul><li style=list-style-type:none><p class=line891><strong>In the FAQ: <br>
 <a href=https://mywiki.wooledge.org/BashFAQ/035>How can I handle command-line arguments (options) to my script easily?</a></strong> <span class=anchor id=line-46></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-47></span><span class=anchor id=line-48></span><p class=line867><span class=anchor id=Environment.29></span> <span class=anchor id=line-49></span>
<h2 id=The_Environment>2. The Environment</h2>
<span class=anchor id=line-50></span><span class=anchor id=line-51></span><p class=line862>Every program inherits certain information, resources, privileges and restrictions from its parent process. (For a more advanced discussion of this topic, see <a href=https://mywiki.wooledge.org/ProcessManagement#theory>process management</a>.) One of those resources is a set of variables called <em>Environment Variables</em>. <span class=anchor id=line-52></span><span class=anchor id=line-53></span><p class=line874>In Bash, environment variables work very much like the regular shell variables we're used to. The only real difference is that they're already set when the script starts up; we don't have to set them ourselves. <span class=anchor id=line-54></span><span class=anchor id=line-55></span><p class=line862>Traditionally, environment variables have names that are all capital letters, such as <tt class=backtick>PATH</tt> or <tt class=backtick>HOME</tt>. This helps you avoid creating any variables that would conflict with them; as long as your variables all contain at least one lower-case letter, you should never have to worry about accidentally colliding with the environment. (Bash's special variables are also capitalized, such as <tt class=backtick>PIPESTATUS</tt>. This is done for the exact same reason -- so you can avoid having your variables trampled by Bash.) <span class=anchor id=line-56></span><span class=anchor id=line-57></span><p class=line862>Passing information to a program through the environment is useful in many situations. One of those is user preference. Not every user on a Unix-like system has the same likes and dislikes in applications, and in some cases, they may not all speak the same language. So, it's useful for users to be able to tell <em>every</em> application they run what their favorite editor is (the <tt class=backtick>EDITOR</tt> environment variable), or what language they speak (the various environment variables that compose the user's <a href=https://mywiki.wooledge.org/locale>locale</a>). Environment variables can be set in each user's <a href=https://mywiki.wooledge.org/DotFiles>DotFiles</a>, and then they will be passed automatically to every program the user runs from the login session. <span class=anchor id=line-58></span><span class=anchor id=line-59></span><p class=line862>Environment variables can also be tweaked on the fly extremely easily (more easily than if the same information were stored in a file). When you run a command in Bash, you have the option of specifying a temporary environment change which only takes effect for the duration of that command. This is done by putting <tt class=backtick>VAR=value</tt> in front of the command. Here is an example: <span class=anchor id=line-60></span><span class=anchor id=line-61></span><p class=line867><span class=anchor id=line-62></span><span class=anchor id=line-63></span><span class=anchor id=line-64></span><span class=anchor id=line-65></span><span class=anchor id=line-66></span><pre><span class=anchor id=line-1></span>$ ls /tpm
<span class=anchor id=line-2></span>ls: no se puede acceder a /tpm: No existe el fichero o el directorio
<span class=anchor id=line-3></span>$ LANG=C ls /tpm
<span class=anchor id=line-4></span>ls: cannot access /tpm: No such file or directory</pre><span class=anchor id=line-67></span><span class=anchor id=line-68></span><p class=line862>The <tt class=backtick>LANG=C</tt> temporary environment will not cause the user's locale to change for anything other than the one command where it was typed. <span class=anchor id=line-69></span><span class=anchor id=line-70></span><p class=line874>In a script, if you know that some information is in an environment variable, you can just use it like any other variable: <span class=anchor id=line-71></span><span class=anchor id=line-72></span><p class=line867><span class=anchor id=line-73></span><span class=anchor id=line-74></span><span class=anchor id=line-75></span><span class=anchor id=line-76></span><span class=anchor id=line-77></span><span class=anchor id=line-78></span><pre><span class=anchor id=line-1-1></span>if [[ $DISPLAY ]]; then
<span class=anchor id=line-2-1></span>    xterm -e top
<span class=anchor id=line-3-1></span>else
<span class=anchor id=line-4-1></span>    top
<span class=anchor id=line-5></span>fi</pre><span class=anchor id=line-79></span><span class=anchor id=line-80></span><p class=line862>This runs <tt class=backtick>xterm&nbsp;-e&nbsp;top</tt> if the environment variable <tt class=backtick>DISPLAY</tt> is set (and not empty); otherwise, it runs <tt class=backtick>top</tt>. <span class=anchor id=line-81></span><span class=anchor id=line-82></span><p class=line862>If you want to put information into the environment for your child processes to inherit, you use the <tt class=backtick>export</tt> command: <span class=anchor id=line-83></span><span class=anchor id=line-84></span><p class=line867><span class=anchor id=line-85></span><span class=anchor id=line-86></span><pre><span class=anchor id=line-1-2></span>export MYVAR=something</pre><span class=anchor id=line-87></span><span class=anchor id=line-88></span><p class=line862>The tricky part here is that your environment changes are only inherited by your <strong>descendants</strong>. You can't change the environment of a program that is already running, or of a program that you don't run. <span class=anchor id=line-89></span><span class=anchor id=line-90></span><p class=line862>Changing the environment and then running some other program is extremely common. A script that does this as its primary task is called a <a href=https://mywiki.wooledge.org/WrapperScript>WrapperScript</a>. <span class=anchor id=line-91></span><span class=anchor id=line-92></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-93></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 Don't use all-capital variable names in your scripts, unless they are environment variables. Use lower-case or mixed-case variable names, to avoid accidents.</strong> <span class=anchor id=line-94></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-95></span><ul><li style=list-style-type:none><p class=line891><strong>In the FAQ: <br>
 <a href=https://mywiki.wooledge.org/BashFAQ/060>I'm trying to write a script that will change directory (or set a variable), but after the script finishes, I'm back where I started (or my variable isn't set)!</a></strong> <span class=anchor id=line-96></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-97></span><span class=anchor id=line-98></span><span class=anchor id=line-99></span><p class=line867><span class=anchor id=File_Descriptors></span> <span class=anchor id=line-100></span>
<h2 id=File_Descriptors-1>3. File Descriptors</h2>
<span class=anchor id=line-101></span><span class=anchor id=line-102></span><p class=line867><em>File Descriptors</em> (in short: FDs) are the way programs refer to files, or to other resources that work like files (such as pipes, devices, sockets, or terminals). FDs are kind of like pointers to sources of data, or places data can be written. When something reads from or writes to that FD, the data is read from or written to that FD's resource. <span class=anchor id=line-103></span><span class=anchor id=line-104></span><p class=line874>By default, every new process starts with three open FDs: <span class=anchor id=line-105></span><ul><li><p class=line891><em>Standard Input</em> (<tt class=backtick>stdin</tt>): File Descriptor 0 <span class=anchor id=line-106></span></p><li><p class=line891><em>Standard Output</em> (<tt class=backtick>stdout</tt>): File Descriptor 1 <span class=anchor id=line-107></span></p><li><p class=line891><em>Standard Error</em> (<tt class=backtick>stderr</tt>): File Descriptor 2 <span class=anchor id=line-108></span><span class=anchor id=line-109></span></p></ul><p class=line862>In an interactive shell, or in a script running on a terminal, the <em>Standard Input</em> is how bash sees the characters you type on your keyboard. The <em>Standard Output</em> is where the program sends most of its normal information so that the user can see it, and the <em>Standard Error</em> is where the program sends its error messages. <span class=anchor id=line-110></span><span class=anchor id=line-111></span><p class=line862>GUI applications also have these FDs, but they don't normally work with them. Usually, they do all their user interaction via the GUI, making it hard for <a href=https://mywiki.wooledge.org/BASH>BASH</a> to control them. As a result, we'll stick to simple terminal applications. With those, we can easily feed data to them on their Standard Input, and read data from them on their Standard Output and Standard Error. <span class=anchor id=line-112></span><span class=anchor id=line-113></span><p class=line874>Let's make these definitions a little more concrete. Here's a demonstration of how Standard Input and Standard Output work: <span class=anchor id=line-114></span><span class=anchor id=line-115></span><p class=line867><span class=anchor id=line-116></span><span class=anchor id=line-117></span><span class=anchor id=line-118></span><span class=anchor id=line-119></span><pre><span class=anchor id=line-1-3></span>$ read -p "What is your name? " name; echo "Good day, $name.  Would you like some tea?"
<span class=anchor id=line-2-2></span>What is your name? lhunath
<span class=anchor id=line-3-2></span>Good day, lhunath.  Would you like some tea?</pre><span class=anchor id=line-120></span><p class=line867><tt class=backtick>read</tt> is a command that reads information from <tt class=backtick>stdin</tt> and stores it in a variable. We specified <tt class=backtick>name</tt> to be that variable. Once <tt class=backtick>read</tt> has read a line of information from <tt class=backtick>stdin</tt>, it finishes and lets <tt class=backtick>echo</tt> display a message. <tt class=backtick>echo</tt> sends its output to <tt class=backtick>stdout</tt>. <tt class=backtick>stdin</tt> and <tt class=backtick>stdout</tt> are connected to your terminal. When a program reads from a terminal, it receives keystrokes from your keyboard; when it writes to a terminal, characters are displayed on your monitor. As a result, you can type in your name and are then greeted with a friendly message on your monitor, offering you a cup of tea. <span class=anchor id=line-121></span><span class=anchor id=line-122></span><p class=line862>So what is <tt class=backtick>stderr</tt>? Let's demonstrate: <span class=anchor id=line-123></span><span class=anchor id=line-124></span><p class=line867><span class=anchor id=line-125></span><span class=anchor id=line-126></span><span class=anchor id=line-127></span><pre><span class=anchor id=line-1-4></span>$ rm secrets
<span class=anchor id=line-2-3></span>rm: cannot remove `secrets': No such file or directory</pre><span class=anchor id=line-128></span><p class=line862>Unless you have a file called <tt class=backtick>secrets</tt> in your current directory, that <tt class=backtick>rm</tt> command will fail and show an error message explaining what went wrong. Error messages like these are by convention displayed on <tt class=backtick>stderr</tt>. <span class=anchor id=line-129></span><span class=anchor id=line-130></span><p class=line867><tt class=backtick>stderr</tt> is also connected to your terminal's output device, just like <tt class=backtick>stdout</tt>. As a result, error messages display on your monitor just like the messages on <tt class=backtick>stdout</tt>. However, the distinction between <tt class=backtick>stdout</tt> and <tt class=backtick>stderr</tt> makes it easy to keep errors separated from the application's normal messages. For example, a script might wish to log <tt class=backtick>stderr</tt> messages in a special place for long-term storage. Some people also like to use wrappers to make all the output on <tt class=backtick>stderr</tt> red, so that they can see the error messages more clearly. (This doesn't work as well as one might wish, but some people find it good enough for some tasks.) <span class=anchor id=line-131></span><span class=anchor id=line-132></span><p class=line874>In shell scripts, FDs are always referenced by number. In the next section, we will see some of the ways we can work with FDs using their numbers. <span class=anchor id=line-133></span><span class=anchor id=line-134></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-135></span><ul><li style=list-style-type:none><p class=line891><strong>In the Manual: <a class=http href=http://www.gnu.org/software/bash/manual/bashref.html#index-read-142>The read builtin</a></strong> <span class=anchor id=line-136></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-137></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 Remember that when you create scripts, you should send your custom error messages to the <tt class=backtick>stderr</tt> FD. This is a convention and it is very convenient when applications follow the convention. As such, so should you! You're about to learn redirection soon, but let me show you quickly how it's done:</strong> <span class=anchor id=line-138></span><span class=anchor id=line-139></span><span class=anchor id=line-140></span><pre><span class=anchor id=line-1-5></span> echo "Uh oh.  Something went really bad.." &gt;&amp;2</pre><span class=anchor id=line-141></span></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-142></span><ul><li style=list-style-type:none><p class=line891><em>File Descriptor</em>: A numeric index referring to one of a process's open files. Each command has at least three basic descriptors: FD 0 is <tt class=backtick>stdin</tt>, FD 1 is <tt class=backtick>stdout</tt> and FD 2 is <tt class=backtick>stderr</tt>. <span class=anchor id=line-143></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-144></span><span class=anchor id=line-145></span><span class=anchor id=line-146></span><span class=anchor id=line-147></span><p class=line867><span class=anchor id=Redirection></span> <span class=anchor id=line-148></span>
<h2 id=Redirection-1>4. Redirection</h2>
<span class=anchor id=line-149></span><span class=anchor id=line-150></span><p class=line862>The most basic form of input/output manipulation in BASH is <em>Redirection</em>. <em>Redirection</em> is used to change the data source or destination of a program's FDs. That way, you can send output to a file instead of the terminal, or have an application read from a file instead of from the keyboard. <span class=anchor id=line-151></span><span class=anchor id=line-152></span><p class=line862>Redirections are performed by BASH (or any other shell), <em>before</em> the shell runs the command to which the redirections are applied. <span class=anchor id=line-153></span><span class=anchor id=line-154></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-155></span><ul><li style=list-style-type:none><p class=line891><strong>In The Manual: <a class=https href=https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Redirections>Redirections</a></strong> <span class=anchor id=line-156></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-157></span><ul><li style=list-style-type:none><p class=line891><em>Redirection</em>: the practice of changing a FD to read its input from, or send its output to, a different location. <span class=anchor id=line-158></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-159></span><span class=anchor id=line-160></span><span class=anchor id=line-161></span><span class=anchor id=line-162></span><p class=line867><span class=anchor id=File_Redirection></span> <span class=anchor id=line-163></span>
<h3 id=File_Redirection-1>4.1. File Redirection</h3>
<span class=anchor id=line-164></span><span class=anchor id=line-165></span><p class=line867><em>File Redirection</em> involves changing a single FD to point to a file. Let's start with an output redirection: <span class=anchor id=line-166></span><span class=anchor id=line-167></span><p class=line867><span class=anchor id=line-168></span><span class=anchor id=line-169></span><span class=anchor id=line-170></span><span class=anchor id=line-171></span><pre><span class=anchor id=line-1-6></span>$ echo "It was a dark and stormy night.  Too dark to write." &gt; story
<span class=anchor id=line-2-4></span>$ cat story
<span class=anchor id=line-3-3></span>It was a dark and stormy night.  Too dark to write.</pre><span class=anchor id=line-172></span><p class=line862>The <tt class=backtick>&gt;</tt> operator begins an <em>output redirection</em>. The redirection applies only to one command (in this case, an <tt class=backtick>echo</tt> command). It tells BASH that when BASH runs the command, <tt class=backtick>stdout</tt> should point to a file, rather than wherever it was pointing before. <span class=anchor id=line-173></span><span class=anchor id=line-174></span><p class=line862>As a result, the <tt class=backtick>echo</tt> command will not send its output to the terminal; rather, the <tt class=backtick>&gt;&nbsp;story</tt> redirection <strong>changes the destination of the <tt class=backtick>stdout</tt> FD</strong> so that it now points to a file called <tt class=backtick>story</tt>. Be aware that this redirection occurs before the <tt class=backtick>echo</tt> command is executed. By default, Bash doesn't check to see whether that file <tt class=backtick>story</tt> exists first; it just opens the file, and if there was already a file by that name, its former contents are lost. If the file doesn't exist, it is created as an empty file, so that the FD can be pointed to it. This behaviour can be toggled with <em>Shell Options</em> (see later). <span class=anchor id=line-175></span><span class=anchor id=line-176></span><p class=line862>It should be noted that this redirection is in effect only for the single <tt class=backtick>echo</tt> command it was applied to. Other commands executed after that will continue sending their output to the script's <tt class=backtick>stdout</tt> location. <span class=anchor id=line-177></span><span class=anchor id=line-178></span><p class=line862>We then use the application <tt class=backtick>cat</tt> to print out the contents of that file. <tt class=backtick>cat</tt> is an application that reads the contents of all the files you pass it as arguments. It then writes each file one after another on <tt class=backtick>stdout</tt>. In essence, it con<strong>cat</strong>enates the contents of all the files you pass it as arguments. <span class=anchor id=line-179></span><span class=anchor id=line-180></span><p class=line867><strong>Warning:</strong> Far too many code examples and shell tutorials on the Internet tell you to use <tt class=backtick>cat</tt> whenever you need to read the contents of a file. <strong>This is not necessary!</strong> <tt class=backtick>cat</tt> only serves well to concatenate multiple files together, or as a quick tool on the shell prompt to see what's inside a file. You should <strong>NOT</strong> use <tt class=backtick>cat</tt> to pipe files to commands in your scripts. Instead, you should use a redirection. Please keep this warning in mind. Useless use of <tt class=backtick>cat</tt> will result in an extra process to create, and using a pipe instead of a redirection takes away an application's ability to skip back and forth inside the input file. <span class=anchor id=line-181></span><span class=anchor id=line-182></span><p class=line862>When we use <tt class=backtick>cat</tt> without passing any kind of arguments, it obviously doesn't know what files to read. In this case, <tt class=backtick>cat</tt> will just read from <tt class=backtick>stdin</tt> instead of from a file (much like <tt class=backtick>read</tt>). Since <tt class=backtick>stdin</tt> is normally not a regular file, starting <tt class=backtick>cat</tt> without any arguments will seem to do nothing: <span class=anchor id=line-183></span><span class=anchor id=line-184></span><p class=line867><span class=anchor id=line-185></span><span class=anchor id=line-186></span><pre><span class=anchor id=line-1-7></span>$ cat</pre><span class=anchor id=line-187></span><p class=line862>It doesn't even give you back your shell prompt! What's going on? <tt class=backtick>cat</tt> is still reading from <tt class=backtick>stdin</tt>, which is your terminal. Anything you type on your keyboard now will be sent to <tt class=backtick>cat</tt> as soon as you hit the <em>Enter</em> key. With each line you type, <tt class=backtick>cat</tt> will do what it normally does: display it reads on <tt class=backtick>stdout</tt>, the same way as when it displayed our story on <tt class=backtick>stdout</tt>. <span class=anchor id=line-188></span><span class=anchor id=line-189></span><p class=line867><span class=anchor id=line-190></span><span class=anchor id=line-191></span><span class=anchor id=line-192></span><span class=anchor id=line-193></span><pre><span class=anchor id=line-1-8></span>$ cat
<span class=anchor id=line-2-5></span>test?
<span class=anchor id=line-3-4></span>test?</pre><span class=anchor id=line-194></span><p class=line862>Why does it say <tt class=backtick>test?</tt> twice now? First of all, terminals are actually more complicated than they appear; they have different modes of operation. The mode we are using in this example is called <em>canonical mode</em>, and in this mode, the terminal shows you each character as you type it, and lets you perform extremely simple editing (such as using the Backspace key) on your input. The stuff you type is not actually sent to the application until you press Enter. <span class=anchor id=line-195></span><span class=anchor id=line-196></span><p class=line862>As you type <tt class=backtick>test?</tt>, you will see it echoed on the screen by the terminal itself. Once you press Enter, the whole line becomes available to the application (<tt class=backtick>cat</tt>) that's reading from the terminal. <tt class=backtick>cat</tt> reads the line from <tt class=backtick>stdin</tt>, and then shows it on <tt class=backtick>stdout</tt>, which is also your terminal; hence, the second line: <tt class=backtick>test?</tt>. <span class=anchor id=line-197></span><span class=anchor id=line-198></span><p class=line862>You can press <em>Ctrl+D</em> to send your terminal the <em>End of File</em> character. That'll cause <tt class=backtick>cat</tt> to think <tt class=backtick>stdin</tt> has closed. It will stop reading, and terminate. BASH will see that <tt class=backtick>cat</tt> has terminated, and return you to your prompt. <span class=anchor id=line-199></span><span class=anchor id=line-200></span><p class=line862>Now let's use an <em>input redirection</em> to attach a file to <tt class=backtick>stdin</tt>, so that <tt class=backtick>stdin</tt> is no longer reading from our keyboard, but instead, now reads from the file: <span class=anchor id=line-201></span><span class=anchor id=line-202></span><p class=line867><span class=anchor id=line-203></span><span class=anchor id=line-204></span><span class=anchor id=line-205></span><span class=anchor id=line-206></span><span class=anchor id=line-207></span><pre><span class=anchor id=line-1-9></span>$ cat &lt; story
<span class=anchor id=line-2-6></span>The story of William Tell.
<span class=anchor id=line-3-5></span>
<span class=anchor id=line-4-2></span>It was a cold december night.  Too cold to write.</pre><span class=anchor id=line-208></span><p class=line862>The result of this is exactly the same as the result from our previous <tt class=backtick>cat&nbsp;story</tt>; except this time, the way it works is a little different. In our first example, <tt class=backtick>cat</tt> opened an FD to the file <tt class=backtick>story</tt> and read its contents through that FD. In the second example, <tt class=backtick>cat</tt> simply reads from <tt class=backtick>stdin</tt>, just like it did when it was reading from our keyboard. However, this time, the <tt class=backtick>&lt;&nbsp;story</tt> operation has <strong>modified</strong> <tt class=backtick>cat</tt>'s <tt class=backtick>stdin</tt> so that its data source is the file <tt class=backtick>story</tt> rather than our keyboard. <span class=anchor id=line-209></span><span class=anchor id=line-210></span><p class=line874>Redirection operators can be preceded by a number. That number denotes the FD that will be changed. <span class=anchor id=line-211></span><span class=anchor id=line-212></span><p class=line874>Let's summarize with some examples: <span class=anchor id=line-213></span><span class=anchor id=line-214></span><ul><li><p class=line891><strong><tt class=backtick>command&nbsp;&gt;&nbsp;file</tt></strong>: Send the <tt class=backtick>stdout</tt> of command to <tt class=backtick>file</tt>. <span class=anchor id=line-215></span></p><li><p class=line891><strong><tt class=backtick>command&nbsp;1&gt;&nbsp;file</tt></strong>: Send the <tt class=backtick>stdout</tt> of command to <tt class=backtick>file</tt>. Since <tt class=backtick>stdout</tt> is FD 1, that's the number we put in front of the redirection operator. This is identical to the previous example, because FD 1 is the default for the <strong>&gt;</strong> operator. <span class=anchor id=line-216></span></p><li><p class=line891><strong><tt class=backtick>command&nbsp;&lt;&nbsp;file</tt></strong>: Use the contents of <tt class=backtick>file</tt> when <tt class=backtick>command</tt> reads from <tt class=backtick>stdin</tt>. <span class=anchor id=line-217></span></p><li><p class=line891><strong><tt class=backtick>command&nbsp;0&lt;&nbsp;file</tt></strong>: Use the contents of <tt class=backtick>file</tt> when <tt class=backtick>command</tt> reads from <tt class=backtick>stdin</tt>, exactly as in the previous example, since FD 0 (<tt class=backtick>stdin</tt>) is the default for the <strong>&lt;</strong> operator. <span class=anchor id=line-218></span><span class=anchor id=line-219></span></p></ul><p class=line862>The number for the <tt class=backtick>stderr</tt> FD is 2. So, let's try sending <tt class=backtick>stderr</tt> to a file: <span class=anchor id=line-220></span><span class=anchor id=line-221></span><p class=line867><span class=anchor id=line-222></span><span class=anchor id=line-223></span><span class=anchor id=line-224></span><span class=anchor id=line-225></span><pre><span class=anchor id=line-1-10></span>$ for homedir in /home/*
<span class=anchor id=line-2-7></span>&gt; do rm "$homedir/secret"
<span class=anchor id=line-3-6></span>&gt; done 2&gt; errors</pre><span class=anchor id=line-226></span><p class=line862>In this example, we're looping over each directory (or file) in <tt class=backtick>/home</tt>. We then try to delete the file <tt class=backtick>secret</tt> in each of them. Some <tt class=backtick>homedir</tt>s may not have a secret, or we may not have permission to remove it. As a result, the <tt class=backtick>rm</tt> operation will fail and send an error message on <tt class=backtick>stderr</tt>. <span class=anchor id=line-227></span><span class=anchor id=line-228></span><p class=line862>You may have noticed that our redirection operator isn't on <tt class=backtick>rm</tt>, but it's on that <tt class=backtick>done</tt> thing. Why is that? Well, this way, the redirection applies to all output to <tt class=backtick>stderr</tt> made inside the whole loop. Technically, what happens is BASH opens the file named <tt class=backtick>errors</tt> and points <tt class=backtick>stderr</tt> to it before the loop begins, then closes it when the loop ends. Any commands run inside the loop (such as <tt class=backtick>rm</tt>) <em>inherit</em> the open FD from BASH. <span class=anchor id=line-229></span><span class=anchor id=line-230></span><p class=line874>Let's see what the result of our loop was: <span class=anchor id=line-231></span><span class=anchor id=line-232></span><p class=line867><span class=anchor id=line-233></span><span class=anchor id=line-234></span><span class=anchor id=line-235></span><span class=anchor id=line-236></span><pre><span class=anchor id=line-1-11></span>$ cat errors
<span class=anchor id=line-2-8></span>rm: cannot remove `/home/axxo/secret': No such file or directory
<span class=anchor id=line-3-7></span>rm: cannot remove `/home/lhunath/secret': No such file or directory</pre><span class=anchor id=line-237></span><p class=line862>Two error messages in our error log file. Two people that didn't have a <tt class=backtick>secret</tt> file in their home directory. <span class=anchor id=line-238></span><span class=anchor id=line-239></span><p class=line862>If you're writing a script, and you expect that running a certain command may fail on occasion, but don't want the script's user to be bothered by the possible error messages that command may produce, you can silence a FD. Silencing it is as easy as normal <em>File Redirection</em>. We're just going to send all output to that FD into the system's black hole: <span class=anchor id=line-240></span><span class=anchor id=line-241></span><p class=line867><span class=anchor id=line-242></span><span class=anchor id=line-243></span><span class=anchor id=line-244></span><span class=anchor id=line-245></span><pre><span class=anchor id=line-1-12></span>$ for homedir in /home/*
<span class=anchor id=line-2-9></span>&gt; do rm "$homedir/secret"
<span class=anchor id=line-3-8></span>&gt; done 2&gt; /dev/null</pre><span class=anchor id=line-246></span><p class=line862>The file <tt class=backtick>/dev/null</tt> is <strong>always</strong> empty, no matter what you write to it or read from it. As such, when we write our error messages to it, they just disappear. The <tt class=backtick>/dev/null</tt> file remains as empty as ever before. That's because it's not a normal file; it's a <em>virtual</em> device. Some people call <tt class=backtick>/dev/null</tt> the <em>bit bucket</em>. <span class=anchor id=line-247></span><span class=anchor id=line-248></span><p class=line862>There is one last thing you should learn about <em>File Redirection</em>. It's interesting that you can make error log files like this to keep your error messages; but as I mentioned before, Bash destroys the existing contents of a file when it redirects to it. As a result, each time we run our loop to delete secret files, our log file will be truncated empty before we fill it up again with new error messages. What if we'd like to keep a record of any error messages generated by our loop? What if we don't want that file to be truncated each time we start our loop? The solution is achieved by doubling the redirection operator. <tt class=backtick>&gt;</tt> becomes <tt class=backtick>&gt;&gt;</tt>. <tt class=backtick>&gt;&gt;</tt> will not empty a file; it will just append new data to the end of it! <span class=anchor id=line-249></span><span class=anchor id=line-250></span><p class=line867><span class=anchor id=line-251></span><span class=anchor id=line-252></span><span class=anchor id=line-253></span><span class=anchor id=line-254></span><pre><span class=anchor id=line-1-13></span>$ for homedir in /home/*
<span class=anchor id=line-2-10></span>&gt; do rm "$homedir/secret"
<span class=anchor id=line-3-9></span>&gt; done 2&gt;&gt; errors</pre><span class=anchor id=line-255></span><p class=line874>Hooray! <span class=anchor id=line-256></span><span class=anchor id=line-257></span><p class=line862>By the way, the space between the redirection operator and the filename is optional. Some people write <tt class=backtick>&gt;&nbsp;file</tt> and some write <tt class=backtick>&gt;file</tt>. Both ways are correct. <span class=anchor id=line-258></span><span class=anchor id=line-259></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-260></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 It's a good idea to use redirection whenever an application needs file data and is built to read data from <tt class=backtick>stdin</tt>. A lot of bad examples on the Internet tell you to pipe (see later) the output of <tt class=backtick>cat</tt> into processes; but this is nothing more than a very <em>bad</em> idea. <span class=anchor id=line-261></span><br>
 When designing an application that could be fed data from a variety of different sources, it is often best simply to have your application read from <tt class=backtick>stdin</tt>; that way, the user can use redirection to feed it whatever data she wishes. An application that reads standard input in a generalized way is called a <em>filter</em>.</strong> <span class=anchor id=line-262></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-263></span><span class=anchor id=line-264></span><span class=anchor id=line-265></span><span class=anchor id=line-266></span><p class=line867><span class=anchor id=File_Descriptor_Manipulation></span> <span class=anchor id=line-267></span>
<h3 id=File_Descriptor_Manipulation-1>4.2. File Descriptor Manipulation</h3>
<span class=anchor id=line-268></span><span class=anchor id=line-269></span><p class=line874>Now that you know how to manipulate process input and output by sending it to and reading it from files, let's make it a little more interesting still. <span class=anchor id=line-270></span><span class=anchor id=line-271></span><p class=line874>It's possible to change the source and destination of FDs to point to or from files, as you know. It's also possible to copy one FD to another. Let's prepare a simple testbed: <span class=anchor id=line-272></span><span class=anchor id=line-273></span><p class=line867><span class=anchor id=line-274></span><span class=anchor id=line-275></span><pre><span class=anchor id=line-1-14></span>$ echo "I am a proud sentence." &gt; file</pre><span class=anchor id=line-276></span><p class=line862>We've made a file called <tt class=backtick>file</tt>, and written a proud sentence into it. <span class=anchor id=line-277></span><span class=anchor id=line-278></span><p class=line862>There's an application called <tt class=backtick>grep</tt> that we've seen briefly in a previous chapter. <tt class=backtick>grep</tt> is like duct tape: you can use it in almost any project (whether it's a good idea or not). It basically takes a <em>search pattern</em> as its first argument and maybe some filenames as extra arguments. Just like <tt class=backtick>cat</tt>, <tt class=backtick>grep</tt> also uses <tt class=backtick>stdin</tt> if you don't specify any files. <tt class=backtick>grep</tt> reads the files (or <tt class=backtick>stdin</tt> if none were provided) and searches for the <em>search pattern</em> you gave it. Most versions of <tt class=backtick>grep</tt> even support a <tt class=backtick>-r</tt> switch, which makes it take directories as well as files as extra arguments, and then searches all the files and directories in those directories that you gave it. Here's an example of how <tt class=backtick>grep</tt> can work: <span class=anchor id=line-279></span><span class=anchor id=line-280></span><p class=line867><span class=anchor id=line-281></span><span class=anchor id=line-282></span><span class=anchor id=line-283></span><span class=anchor id=line-284></span><span class=anchor id=line-285></span><pre><span class=anchor id=line-1-15></span>$ ls house/
<span class=anchor id=line-2-11></span>drawer  closet  dustbin  sofa
<span class=anchor id=line-3-10></span>$ grep -r socks house/
<span class=anchor id=line-4-3></span>house/sofa:socks</pre><span class=anchor id=line-286></span><p class=line862>In this silly example we have a directory called <tt class=backtick>house</tt> with several pieces of furniture in it as files. If we're looking for our <tt class=backtick>socks</tt> in each of those files, we send <tt class=backtick>grep</tt> to search the directory <tt class=backtick>house/</tt>. <tt class=backtick>grep</tt> will search everything in there, open each file and look through its contents. In our example, <tt class=backtick>grep</tt> finds <tt class=backtick>socks</tt> in the file <tt class=backtick>house/sofa</tt>; presumably tucked away under a pillow. You want a more realistic example? Sure: <span class=anchor id=line-287></span><span class=anchor id=line-288></span><p class=line867><span class=anchor id=line-289></span><span class=anchor id=line-290></span><span class=anchor id=line-291></span><pre><span class=anchor id=line-1-16></span>$ grep "$HOSTNAME" /etc/*
<span class=anchor id=line-2-12></span>/etc/hosts:127.0.0.1       localhost Lyndir</pre><span class=anchor id=line-292></span><p class=line862>Here we instruct <tt class=backtick>grep</tt> to search for whatever <tt class=backtick>$HOSTNAME</tt> expands to in whatever files <tt class=backtick>/etc/*</tt> expands to. It finds my hostname, which is <tt class=backtick>Lyndir</tt>, in the file <tt class=backtick>/etc/hosts</tt>, and shows me the line in that file that contains the <em>search pattern</em>. <span class=anchor id=line-293></span><span class=anchor id=line-294></span><p class=line862>OK, now that you understand <tt class=backtick>grep</tt>, let's continue with our <em>File Descriptor Manipulation</em>. Remember that we created a file called <tt class=backtick>file</tt>, and wrote a proud sentence to it? Let's use <tt class=backtick>grep</tt> to find where that proud sentence is now: <span class=anchor id=line-295></span><span class=anchor id=line-296></span><p class=line867><span class=anchor id=line-297></span><span class=anchor id=line-298></span><span class=anchor id=line-299></span><pre><span class=anchor id=line-1-17></span>$ grep proud *
<span class=anchor id=line-2-13></span>file:I am a proud sentence.</pre><span class=anchor id=line-300></span><p class=line862>Good! <tt class=backtick>grep</tt> found our sentence in <tt class=backtick>file</tt>. It writes the result of its operation to <tt class=backtick>stdout</tt> which is shown on our terminal. Now let's see if we can make <tt class=backtick>grep</tt> send an error message, too: <span class=anchor id=line-301></span><span class=anchor id=line-302></span><p class=line867><span class=anchor id=line-303></span><span class=anchor id=line-304></span><span class=anchor id=line-305></span><span class=anchor id=line-306></span><pre><span class=anchor id=line-1-18></span>$ grep proud file 'not a file'
<span class=anchor id=line-2-14></span>file:I am a proud sentence.
<span class=anchor id=line-3-11></span>grep: not a file: No such file or directory</pre><span class=anchor id=line-307></span><p class=line862>This time, we instruct <tt class=backtick>grep</tt> to search for the string <tt class=backtick>proud</tt> in the files '<tt class=backtick>file</tt>' and '<tt class=backtick>not&nbsp;a&nbsp;file</tt>'. <tt class=backtick>file</tt> exists, and the sentence is in there, so <tt class=backtick>grep</tt> happily writes the result to <tt class=backtick>stdout</tt>. It moves on to the next file to scan, which is '<tt class=backtick>not&nbsp;a&nbsp;file</tt>'. <tt class=backtick>grep</tt> can't open this file to read its content, because it doesn't exist. As a result, <tt class=backtick>grep</tt> emits an error message on <tt class=backtick>stderr</tt> which is still connected to our terminal. <span class=anchor id=line-308></span><span class=anchor id=line-309></span><p class=line862>Now, how would you go about silencing this <tt class=backtick>grep</tt> statement completely? We'd like to send all the output that appears on the terminal to a file instead; let's call it <tt class=backtick>proud.log</tt>: <span class=anchor id=line-310></span><span class=anchor id=line-311></span><p class=line867><span class=anchor id=line-312></span><span class=anchor id=line-313></span><span class=anchor id=line-314></span><pre><span class=anchor id=line-1-19></span># Not quite right....
<span class=anchor id=line-2-15></span>$ grep proud file 'not a file' &gt; proud.log 2&gt; proud.log</pre><span class=anchor id=line-315></span><p class=line862>Does that look about right? We first use <tt class=backtick>&gt;</tt> to send <tt class=backtick>stdout</tt> to <tt class=backtick>proud.log</tt>, and then use <tt class=backtick>2&gt;</tt> to send <tt class=backtick>stderr</tt> to <tt class=backtick>proud.log</tt> as well. Almost, but not quite. If you run this command (at least on some computers), and then look in <tt class=backtick>proud.log</tt>, you'll see there's only an error message, not the output from <tt class=backtick>stdout</tt>. We've created a very bad condition here. We've created two FDs that both point to the same file, independently of each other. The results of this are not well-defined. Depending on how the operating system handles FDs, some information written via one FD may clobber information written through the other FD. <span class=anchor id=line-316></span><span class=anchor id=line-317></span><p class=line867><span class=anchor id=line-318></span><span class=anchor id=line-319></span><span class=anchor id=line-320></span><span class=anchor id=line-321></span><span class=anchor id=line-322></span><span class=anchor id=line-323></span><pre><span class=anchor id=line-1-20></span>$ echo "I am a very proud sentence with a lot of words in it, all for you." &gt; file2
<span class=anchor id=line-2-16></span>$ grep proud file2 'not a file' &gt; proud.log 2&gt; proud.log
<span class=anchor id=line-3-12></span>$ cat proud.log
<span class=anchor id=line-4-4></span>grep: not a file: No such file or directory
<span class=anchor id=line-5-1></span>of words in it, all for you.</pre><span class=anchor id=line-324></span><p class=line862>What happened here? <tt class=backtick>grep</tt> opened <tt class=backtick>file2</tt> first, found what we told it to look for, and then wrote our very proud sentence to <tt class=backtick>stdout</tt> (FD 1). FD 1 pointed to <tt class=backtick>proud.log</tt>, so the information was written to that file. However, we also had another FD (FD 2) pointed to this same file, and specifically, pointed to the <em>beginning</em> of this file. When <tt class=backtick>grep</tt> tried to open '<tt class=backtick>not&nbsp;a&nbsp;file</tt>' to read it, it couldn't. Then, it wrote an error message to <tt class=backtick>stderr</tt> (FD 2), which was pointing to the beginning of <tt class=backtick>proud.log</tt>. As a result, the second write operation overwrote information from the first one! <span class=anchor id=line-325></span><span class=anchor id=line-326></span><p class=line862>We need to prevent having two independent FDs working on the same destination or source. We can do this by <em>duplicating</em> FDs: <span class=anchor id=line-327></span><span class=anchor id=line-328></span><p class=line867><span class=anchor id=line-329></span><span class=anchor id=line-330></span><pre><span class=anchor id=line-1-21></span>$ grep proud file 'not a file' &gt; proud.log 2&gt;&amp;1</pre><span class=anchor id=line-331></span><p class=line862>In order to understand these, you need to remember: always read file redirections from left to right. This is the order in which Bash processes them. First, <tt class=backtick>stdout</tt> is changed so that it points to our <tt class=backtick>proud.log</tt>. Then, we use the <tt class=backtick>&gt;&amp;</tt> syntax to duplicate FD 1 and put this duplicate in FD 2. <span class=anchor id=line-332></span><span class=anchor id=line-333></span><p class=line874>A duplicate FD works differently from having two independent FDs pointing to the same place. Write operations that go through either one of them are exactly the same. There won't be a mix-up with one FD pointing to the start of the file while the other has already moved on. <span class=anchor id=line-334></span><span class=anchor id=line-335></span><p class=line874>Be careful not to confuse the order: <span class=anchor id=line-336></span><span class=anchor id=line-337></span><p class=line867><span class=anchor id=line-338></span><span class=anchor id=line-339></span><pre><span class=anchor id=line-1-22></span>$ grep proud file 'not a file' 2&gt;&amp;1 &gt; proud.log</pre><span class=anchor id=line-340></span><p class=line862>This will duplicate <tt class=backtick>stdout</tt> (which points to the terminal) and put the duplicate in <tt class=backtick>stderr</tt>, and then <tt class=backtick>stdout</tt> will be redirected to <tt class=backtick>proud.log</tt>. As a result, <tt class=backtick>stdout</tt>'s messages will be logged, but the error messages will still go to the terminal. <em>Oops.</em> <span class=anchor id=line-341></span><span class=anchor id=line-342></span><p class=line867><strong>Note: <br>
 For convenience, Bash also makes yet another form of redirection available to you. The <tt class=backtick>&amp;&gt;</tt> redirection operator is actually just a shorter version of what we did here; redirecting both <tt class=backtick>stdout</tt> and <tt class=backtick>stderr</tt> to a file :</strong> <span class=anchor id=line-343></span><span class=anchor id=line-344></span><p class=line867><span class=anchor id=line-345></span><span class=anchor id=line-346></span><pre><span class=anchor id=line-1-23></span>$ grep proud file 'not a file' &amp;&gt; proud.log</pre><span class=anchor id=line-347></span><p class=line862>This is the same as <tt class=backtick>&gt;&nbsp;proud.log&nbsp;2&gt;&amp;1</tt>, but not portable to <a href=https://mywiki.wooledge.org/BourneShell>BourneShell</a>. It is not recommended practice, but you should recognize it if you see it used in someone else's scripts. <span class=anchor id=line-348></span><span class=anchor id=line-349></span><p class=line867><em><strong>TODO: Moving FDs and Opening FDs RW.</strong></em> <span class=anchor id=line-350></span><span class=anchor id=line-351></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-352></span><ul><li style=list-style-type:none><p class=line891><strong>In the FAQ: <br>
 <a href=https://mywiki.wooledge.org/BashFAQ/014>How can I redirect the output of multiple commands at once?</a> <span class=anchor id=line-353></span></strong></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/032>How can I redirect the output of 'time' to a variable or file?</a> <span class=anchor id=line-354></span></strong></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/040>How do I use dialog to get input from the user?</a> <span class=anchor id=line-355></span></strong></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/047>How can I redirect stderr to a pipe?</a> <span class=anchor id=line-356></span></strong></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/055>Tell me all about 2&gt;&amp;1 -- what's the difference between 2&gt;&amp;1 &gt;foo and &gt;foo 2&gt;&amp;1, and when do I use which?</a></strong> <span class=anchor id=line-357></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-358></span><span class=anchor id=line-359></span><span class=anchor id=line-360></span><span class=anchor id=line-361></span><p class=line867><span class=anchor id=Heredocs_And_Herestrings></span> <span class=anchor id=line-362></span>
<h3 id=Heredocs_And_Herestrings-1>4.3. Heredocs And Herestrings</h3>
<span class=anchor id=line-363></span><span class=anchor id=line-364></span><p class=line874>Sometimes storing data in a file is overkill. We might only have a tiny bit of it -- enough to fit conveniently in the script itself. Or we might want to redirect the contents of a variable into a command, without having to write it to a file first. <span class=anchor id=line-365></span><span class=anchor id=line-366></span><p class=line867><span class=anchor id=line-367></span><span class=anchor id=line-368></span><span class=anchor id=line-369></span><span class=anchor id=line-370></span><span class=anchor id=line-371></span><pre><span class=anchor id=line-1-24></span>$ grep proud &lt;&lt;END
<span class=anchor id=line-2-17></span>&gt; I am a proud sentence.
<span class=anchor id=line-3-13></span>&gt; END
<span class=anchor id=line-4-5></span>I am a proud sentence.</pre><span class=anchor id=line-372></span><p class=line862>This is a <em>Heredoc</em> (or <em>Here Document</em>). <em>Heredoc</em>s are useful if you're trying to embed short blocks of multi-line data inside your script. (Embedding larger blocks is bad practice. You should keep your logic (your code) and your input (your data) separated, preferably in different files, unless it's a small data set.) <span class=anchor id=line-373></span><span class=anchor id=line-374></span><p class=line862>In a <em>Heredoc</em>, we choose a word to act as a sentinel. It can be any word; we used <tt class=backtick>END</tt> in this example. Choose one that won't appear in your data set. All the lines that follow the <em>first</em> instance of the sentinel, up to the <em>second</em> instance, become the <tt class=backtick>stdin</tt> for the command. The second instance of the sentinel word has to be a line all by itself. <span class=anchor id=line-375></span><span class=anchor id=line-376></span><p class=line862>There are a few different options with <em>Heredocs</em>. Normally, you can't indent them -- any spaces you use for indenting your script will appear in the <tt class=backtick>stdin</tt>. The terminator string (in our case <tt class=backtick>END</tt>) must be at the beginning of the line. <span class=anchor id=line-377></span><span class=anchor id=line-378></span><p class=line867><span class=anchor id=line-379></span><span class=anchor id=line-380></span><span class=anchor id=line-381></span><span class=anchor id=line-382></span><span class=anchor id=line-383></span><span class=anchor id=line-384></span><span class=anchor id=line-385></span><pre><span class=anchor id=line-1-25></span>echo "Let's test abc:"
<span class=anchor id=line-2-18></span>if [[ abc = a* ]]; then
<span class=anchor id=line-3-14></span>    cat &lt;&lt;END
<span class=anchor id=line-4-6></span>        abc seems to start with an a!
<span class=anchor id=line-5-2></span>END
<span class=anchor id=line-6></span>fi</pre><span class=anchor id=line-386></span><p class=line874>Will result in: <span class=anchor id=line-387></span><span class=anchor id=line-388></span><p class=line867><span class=anchor id=line-389></span><span class=anchor id=line-390></span><span class=anchor id=line-391></span><pre><span class=anchor id=line-1-26></span>Let's test abc:
<span class=anchor id=line-2-19></span>        abc seems to start with an a!</pre><span class=anchor id=line-392></span><span class=anchor id=line-393></span><p class=line862>You can avoid this by temporarily removing the indentation for the lines of your <em>Heredoc</em>s. However, that distorts your pretty and consistent indentation. There is an alternative. If you use <tt class=backtick>&lt;&lt;-END</tt> instead of <tt class=backtick>&lt;&lt;END</tt> as your <em>Heredoc</em> operator, Bash removes any <tt class=backtick>tab</tt> characters in the beginning of each line of your <em>Heredoc</em> content before sending it to the command. That way you can still use tabs (but not spaces) to indent your <em>Heredoc</em> content with the rest of your code. Those tabs will not be sent to the command that receives your <em>Heredoc</em>. You can also use tabs to indent your sentinel string. <span class=anchor id=line-394></span><span class=anchor id=line-395></span><p class=line862>Bash substitutions are performed on the contents of the <em>Heredoc</em> by default. However, if you quote the word that you're using to delimit your <em>Heredoc</em>, Bash won't perform any substitutions on the contents. Try this example with and without the quote characters, to see the difference: <span class=anchor id=line-396></span><span class=anchor id=line-397></span><span class=anchor id=line-398></span><span class=anchor id=line-399></span><span class=anchor id=line-400></span><span class=anchor id=line-401></span><pre><span class=anchor id=line-1-27></span>$ cat &lt;&lt;'XYZ'
<span class=anchor id=line-2-20></span>&gt; My home directory is $HOME
<span class=anchor id=line-3-15></span>&gt; XYZ
<span class=anchor id=line-4-7></span>My home directory is $HOME</pre><span class=anchor id=line-402></span><span class=anchor id=line-403></span><p class=line862>The most common use of <em>Heredocs</em> is dumping documentation to the user: <span class=anchor id=line-404></span><span class=anchor id=line-405></span><span class=anchor id=line-406></span><span class=anchor id=line-407></span><span class=anchor id=line-408></span><span class=anchor id=line-409></span><span class=anchor id=line-410></span><span class=anchor id=line-411></span><span class=anchor id=line-412></span><pre><span class=anchor id=line-1-28></span>usage() {
<span class=anchor id=line-2-21></span>    cat &lt;&lt;EOF
<span class=anchor id=line-3-16></span>usage: foobar [-x] [-v] [-z] [file ...]
<span class=anchor id=line-4-8></span>A short explanation of the operation goes here.
<span class=anchor id=line-5-3></span>It might be a few lines long, but shouldn't be excessive.
<span class=anchor id=line-6-1></span>EOF
<span class=anchor id=line-7></span>}</pre><span class=anchor id=line-413></span><span class=anchor id=line-414></span><p class=line862>Now let's check out the very similar but more compact <em>Herestring</em>: <span class=anchor id=line-415></span><span class=anchor id=line-416></span><p class=line867><span class=anchor id=line-417></span><span class=anchor id=line-418></span><span class=anchor id=line-419></span><pre><span class=anchor id=line-1-29></span>$ grep proud &lt;&lt;&lt;"I am a proud sentence"
<span class=anchor id=line-2-22></span>I am a proud sentence.</pre><span class=anchor id=line-420></span><p class=line862>This time, <tt class=backtick>stdin</tt> reads its information straight from the string you put after the <tt class=backtick>&lt;&lt;&lt;</tt> operator. This is very convenient to send data that's in variables into processes: <span class=anchor id=line-421></span><span class=anchor id=line-422></span><p class=line867><span class=anchor id=line-423></span><span class=anchor id=line-424></span><span class=anchor id=line-425></span><pre><span class=anchor id=line-1-30></span>$ grep proud &lt;&lt;&lt;"$USER sits proudly on his throne in $HOSTNAME."
<span class=anchor id=line-2-23></span>lhunath sits proudly on his throne in Lyndir.</pre><span class=anchor id=line-426></span><p class=line867><em>Herestring</em>s are shorter, less intrusive and overall more convenient than their bulky <em>Heredoc</em> counterpart. However, they are not portable to the Bourne shell. <span class=anchor id=line-427></span><span class=anchor id=line-428></span><p class=line862>Later on, you will learn about pipes and how they can be used to send the output of a command into another command's <tt class=backtick>stdin</tt>. Many people use pipes to send the output of a variable as <tt class=backtick>stdin</tt> into a command. However, for this purpose, <em>Herestring</em>s should be preferred. They do not create a subshell and are lighter both to the shell and to the style of your shell script: <span class=anchor id=line-429></span><span class=anchor id=line-430></span><p class=line867><span class=anchor id=line-431></span><span class=anchor id=line-432></span><span class=anchor id=line-433></span><span class=anchor id=line-434></span><span class=anchor id=line-435></span><span class=anchor id=line-436></span><span class=anchor id=line-437></span><pre><span class=anchor id=line-1-31></span>$ echo 'Wrap this silly sentence.' | fmt -t -w 20
<span class=anchor id=line-2-24></span>Wrap this silly
<span class=anchor id=line-3-17></span>   sentence.
<span class=anchor id=line-4-9></span>$ fmt -t -w 20 &lt;&lt;&lt; 'Wrap this silly sentence.'
<span class=anchor id=line-5-4></span>Wrap this silly
<span class=anchor id=line-6-2></span>   sentence.</pre><span class=anchor id=line-438></span><span class=anchor id=line-439></span><p class=line862>Technically, <em>Heredocs</em> and <em>Herestrings</em> are themselves redirects just like any other. As such, additional redirections can occur on the same line, all evaluated in the usual order. <span class=anchor id=line-440></span><span class=anchor id=line-441></span><span class=anchor id=line-442></span><span class=anchor id=line-443></span><span class=anchor id=line-444></span><span class=anchor id=line-445></span><span class=anchor id=line-446></span><pre><span class=anchor id=line-1-32></span>$ cat &lt;&lt;EOF &gt; file
<span class=anchor id=line-2-25></span>&gt; My home dir is $HOME
<span class=anchor id=line-3-18></span>&gt; EOF
<span class=anchor id=line-4-10></span>$ cat file
<span class=anchor id=line-5-5></span>My home dir is /home/greg</pre><span class=anchor id=line-447></span><span class=anchor id=line-448></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-449></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 Long heredocs are usually a bad idea because scripts should contain logic, not data. If you have a large document that your script needs, you should ship it in a separate file along with your script. Herestrings, however, come in handy quite often, especially for sending variable content (rather than files) to filters like <tt class=backtick>grep</tt> or <tt class=backtick>sed</tt>.</strong> <span class=anchor id=line-450></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-451></span><span class=anchor id=line-452></span><span class=anchor id=line-453></span><span class=anchor id=line-454></span><p class=line867><span class=anchor id=Pipes></span> <span class=anchor id=line-455></span>
<h2 id=Pipes-1>5. Pipes</h2>
<span class=anchor id=line-456></span><span class=anchor id=line-457></span><p class=line862>Now that you can effortlessly manipulate <em>File Descriptors</em> to direct certain types of output to certain files, it's time you learn some more ingenious tricks available through I/O redirection. <span class=anchor id=line-458></span><span class=anchor id=line-459></span><p class=line862>You can use <em>File Redirection</em> to write output to files or read input from files. But what if you want to connect the output of one application directly to the input of another? That way, you could build a sort of chain to process output. If you already know about <tt class=backtick>FIFO</tt>s, you could use something like this to that end: <span class=anchor id=line-460></span><span class=anchor id=line-461></span><p class=line867><span class=anchor id=line-462></span><span class=anchor id=line-463></span><span class=anchor id=line-464></span><span class=anchor id=line-465></span><span class=anchor id=line-466></span><span class=anchor id=line-467></span><span class=anchor id=line-468></span><span class=anchor id=line-469></span><span class=anchor id=line-470></span><span class=anchor id=line-471></span><span class=anchor id=line-472></span><span class=anchor id=line-473></span><pre><span class=anchor id=line-1-33></span>$ ls
<span class=anchor id=line-2-26></span>$ mkfifo myfifo; ls
<span class=anchor id=line-3-19></span>myfifo
<span class=anchor id=line-4-11></span>$ grep bea myfifo &amp;
<span class=anchor id=line-5-6></span>[1] 32635
<span class=anchor id=line-6-3></span>$ echo "rat
<span class=anchor id=line-7-1></span>&gt; cow
<span class=anchor id=line-8></span>&gt; deer
<span class=anchor id=line-9></span>&gt; bear
<span class=anchor id=line-10></span>&gt; snake" &gt; myfifo
<span class=anchor id=line-11></span>bear</pre><span class=anchor id=line-474></span><p class=line862>We use the <tt class=backtick>mkfifo</tt> command to create a new file in the current directory named '<tt class=backtick>myfifo</tt>'. This is no ordinary file, however, but a <tt class=backtick>FIFO</tt> (which stands for <em>First In, First Out</em>). <tt class=backtick>FIFO</tt>s are special files that serve data on a <tt class=backtick>First&nbsp;In,&nbsp;First&nbsp;Out</tt>-basis. When you read from a <tt class=backtick>FIFO</tt>, you will only receive data as soon as another process writes to it. As such, a <tt class=backtick>FIFO</tt> never really contains any data. So long as no process writes to it, any read operation on the <tt class=backtick>FIFO</tt> will <strong>block</strong> as it waits for data to become available. The same works for writes to the <tt class=backtick>FIFO</tt> -- they will block until another process reads from the <tt class=backtick>FIFO</tt>. <span class=anchor id=line-475></span><span class=anchor id=line-476></span><p class=line862>In our example, the <tt class=backtick>FIFO</tt> called <tt class=backtick>myfifo</tt> is read from by <tt class=backtick>grep</tt>. <tt class=backtick>grep</tt> waits for data to become available on the <tt class=backtick>FIFO</tt>. That's why we append the grep command with the <tt class=backtick>&amp;</tt> operator, which puts it in the background. That way, we can continue typing and executing commands while <tt class=backtick>grep</tt> runs and waits for data. Our <tt class=backtick>echo</tt> statement feeds data to the <tt class=backtick>FIFO</tt>. As soon as this data becomes available, the running <tt class=backtick>grep</tt> command reads it in and processes it. The result is displayed. We have successfully sent data from the <tt class=backtick>echo</tt> command to the <tt class=backtick>grep</tt> command. <span class=anchor id=line-477></span><span class=anchor id=line-478></span><p class=line862>But these temporary files are a real annoyance. You may not have write permissions. You need to remember to clean up any temporary files you create. You need to make sure that data is going in and out, or the <tt class=backtick>FIFO</tt> might just end up blocking for no reason. <span class=anchor id=line-479></span><span class=anchor id=line-480></span><p class=line862>For these reasons, another feature is made available: <em>Pipes</em>. A pipe basically just connects the <tt class=backtick>stdout</tt> of one process to the <tt class=backtick>stdin</tt> of another, effectively <em>piping</em> the data from one process into another. The entire set of commands that are piped together is called a <em>pipeline</em>. Let's try our above example again, but using pipes: <span class=anchor id=line-481></span><span class=anchor id=line-482></span><p class=line867><span class=anchor id=line-483></span><span class=anchor id=line-484></span><span class=anchor id=line-485></span><span class=anchor id=line-486></span><span class=anchor id=line-487></span><span class=anchor id=line-488></span><span class=anchor id=line-489></span><pre><span class=anchor id=line-1-34></span>$ echo "rat
<span class=anchor id=line-2-27></span>&gt; cow
<span class=anchor id=line-3-20></span>&gt; deer
<span class=anchor id=line-4-12></span>&gt; bear
<span class=anchor id=line-5-7></span>&gt; snake" | grep bea
<span class=anchor id=line-6-4></span>bear</pre><span class=anchor id=line-490></span><p class=line862>The pipe is created using the <tt class=backtick>|</tt> operator between two commands that are connected with the pipe. The former command's <tt class=backtick>stdout</tt> is connected to the latter command's <tt class=backtick>stdin</tt>. As a result, <tt class=backtick>grep</tt> can read <tt class=backtick>echo</tt>'s output and display the result of its operation, which is <tt class=backtick>bear</tt>. <span class=anchor id=line-491></span><span class=anchor id=line-492></span><p class=line862>Pipes are widely used as a means of post-processing application output. <tt class=backtick>FIFO</tt>s are, in fact, also referred to as <tt class=backtick>named&nbsp;pipes</tt>. They accomplish the same results as the pipe operator, but through a filename. <span class=anchor id=line-493></span><span class=anchor id=line-494></span><p class=line867><strong>Note: <br>
 The pipe operator creates a subshell environment for each command. This is important to know because any variables that you modify or initialize inside the second command will appear unmodified outside of it. Let's illustrate:</strong> <span class=anchor id=line-495></span><span class=anchor id=line-496></span><p class=line867><span class=anchor id=line-497></span><span class=anchor id=line-498></span><span class=anchor id=line-499></span><span class=anchor id=line-500></span><span class=anchor id=line-501></span><span class=anchor id=line-502></span><span class=anchor id=line-503></span><span class=anchor id=line-504></span><span class=anchor id=line-505></span><pre><span class=anchor id=line-1-35></span>$ message=Test
<span class=anchor id=line-2-28></span>$ echo 'Salut, le monde!' | read message
<span class=anchor id=line-3-21></span>$ echo "The message is: $message"
<span class=anchor id=line-4-13></span>The message is: Test
<span class=anchor id=line-5-8></span>$ echo 'Salut, le monde!' | { read message; echo "The message is: $message"; }
<span class=anchor id=line-6-5></span>The message is: Salut, le monde!
<span class=anchor id=line-7-2></span>$ echo "The message is: $message"
<span class=anchor id=line-8-1></span>The message is: Test</pre><span class=anchor id=line-506></span><p class=line874>Once the pipeline ends, so do the subshells that were created for it. Along with those subshells, any modifications made in them are lost. So be careful! <span class=anchor id=line-507></span><span class=anchor id=line-508></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-509></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 Pipes are a very attractive means of post-processing application output. You should, however, be careful not to over-use pipes. If you end up making a pipeline that consists of three or more applications, it is time to ask yourself whether you're doing things a smart way. You might be able to use more application features of one of the post-processing applications you've used earlier in the pipe. Each new command in a pipeline causes a new subshell and a new application to be loaded. It also makes it very hard to follow the logic in your script!</strong> <span class=anchor id=line-510></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-511></span><ul><li style=list-style-type:none><p class=line891><strong>In The Manual: <a class=http href=http://www.gnu.org/software/bash/manual/bashref.html#Pipelines>Pipelines</a></strong> <span class=anchor id=line-512></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-513></span><ul><li style=list-style-type:none><p class=line891><strong>In the FAQ: <br>
 <a href=https://mywiki.wooledge.org/BashFAQ/024>I set variables in a loop. Why do they suddenly disappear after the loop terminates? Or, why can't I pipe data to read?</a> <span class=anchor id=line-514></span></strong></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/027>How can two processes communicate using named pipes (fifos)?</a> <span class=anchor id=line-515></span></strong></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/047>How can I redirect stderr to a pipe?</a> <span class=anchor id=line-516></span></strong></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/001>How can I read a file line-by-line?</a> <span class=anchor id=line-517></span></strong></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/055>Tell me all about 2&gt;&amp;1 -- what's the difference between 2&gt;&amp;1 &gt;foo and &gt;foo 2&gt;&amp;1, and when do I use which?</a></strong> <span class=anchor id=line-518></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-519></span><span class=anchor id=line-520></span><span class=anchor id=line-521></span><span class=anchor id=line-522></span><p class=line867><span class=anchor id=Miscellaneous_Operators></span> <span class=anchor id=line-523></span>
<h2 id=Miscellaneous_Operators-1>6. Miscellaneous Operators</h2>
<span class=anchor id=line-524></span><span class=anchor id=line-525></span><p class=line874>Aside from the standard I/O operators, bash also provides a few more advanced operators that make life on the shell that much nicer. <span class=anchor id=line-526></span><span class=anchor id=line-527></span><span class=anchor id=line-528></span><p class=line867>
<h3 id=Process_Substitution>6.1. Process Substitution</h3>
<span class=anchor id=line-529></span><span class=anchor id=line-530></span><p class=line862>A cousin of the pipe is the <em>Process Substitution</em> operator, which comes in two forms: <tt class=backtick>&lt;(cmd)</tt> and <tt class=backtick>&gt;(cmd)</tt>. It's a convenient way to get the benefits of temporary files or named pipes without having to create them yourself. Whenever you think you need a temporary file to do something, process substitution might be a better way to handle it. <span class=anchor id=line-531></span><span class=anchor id=line-532></span><p class=line862>The <tt class=backtick>&gt;()</tt> form is relatively rare, and we won't cover it here, because it'll just confuse things. Once you understand how <tt class=backtick>&lt;()</tt> works, <tt class=backtick>&gt;()</tt> just does the same thing in reverse (writing instead of reading). <span class=anchor id=line-533></span><span class=anchor id=line-534></span><p class=line862>What <tt class=backtick>&lt;()</tt> does, is run the command inside the parentheses, and gives you a temporary filename that you can use to read the command's output. The advantage over pipes is that you can use the filename as an argument to a command that expects to see a filename. <span class=anchor id=line-535></span><span class=anchor id=line-536></span><p class=line862>For example, let's say you have two files that you'd like to <tt class=backtick>diff</tt>, but they aren't sorted yet. You could generate two temporary files, to hold the sorted versions of your original files, and then run <tt class=backtick>diff</tt> on those. Or, you could use process substitutions: <span class=anchor id=line-537></span><span class=anchor id=line-538></span><p class=line867><span class=anchor id=line-539></span><span class=anchor id=line-540></span><pre><span class=anchor id=line-1-36></span>$ diff &lt;(sort file1) &lt;(sort file2)</pre><span class=anchor id=line-541></span><span class=anchor id=line-542></span><p class=line862>With the <tt class=backtick>&lt;()</tt> operator, the command's output is sent through a named pipe (or something similar) that's created by bash. The operator itself in your command is replaced by the filename of that file. After your whole command finishes, the file is cleaned up. <span class=anchor id=line-543></span><span class=anchor id=line-544></span><p class=line862>The same thing can be done with any commands whose output you'd like to pass to <tt class=backtick>diff</tt>. Imagine you want to see the difference between the output of two commands. Ordinarily, you'd have to put the two outputs in two files and <tt class=backtick>diff</tt> those: <span class=anchor id=line-545></span><span class=anchor id=line-546></span><p class=line867><span class=anchor id=line-547></span><span class=anchor id=line-548></span><span class=anchor id=line-549></span><span class=anchor id=line-550></span><span class=anchor id=line-551></span><span class=anchor id=line-552></span><pre><span class=anchor id=line-1-37></span>$ head -n 1 .dictionary &gt; file1
<span class=anchor id=line-2-29></span>$ tail -n 1 .dictionary &gt; file2
<span class=anchor id=line-3-22></span>$ diff -y file1 file2
<span class=anchor id=line-4-14></span>Aachen                                                        | zymurgy
<span class=anchor id=line-5-9></span>$ rm file1 file2</pre><span class=anchor id=line-553></span><span class=anchor id=line-554></span><p class=line874>Using the process substitution operator, we can do all that with a one-liner and no need for manual cleanup: <span class=anchor id=line-555></span><span class=anchor id=line-556></span><p class=line867><span class=anchor id=line-557></span><span class=anchor id=line-558></span><span class=anchor id=line-559></span><pre><span class=anchor id=line-1-38></span>$ diff -y &lt;(head -n 1 .dictionary) &lt;(tail -n 1 .dictionary)
<span class=anchor id=line-2-30></span>Aachen                                                        | zymurgy</pre><span class=anchor id=line-560></span><span class=anchor id=line-561></span><p class=line862>The <tt class=backtick>&lt;(..)</tt> part is replaced by the temporary FIFO created by bash, so <tt class=backtick>diff</tt> actually sees something like this: <span class=anchor id=line-562></span><span class=anchor id=line-563></span><p class=line867><span class=anchor id=line-564></span><span class=anchor id=line-565></span><pre><span class=anchor id=line-1-39></span>$ diff -y /dev/fd/63 /dev/fd/62</pre><span class=anchor id=line-566></span><span class=anchor id=line-567></span><p class=line862>Here we see how bash runs <tt class=backtick>diff</tt> when we use process substitution. It runs our <tt class=backtick>head</tt> and <tt class=backtick>tail</tt> commands, sending their respective outputs through the "files" <tt class=backtick>/dev/fd/63</tt> and <tt class=backtick>/dev/fd/62</tt>. Then it runs the <tt class=backtick>diff</tt> command, passing those filenames where originally we had put the process substitution operators. <span class=anchor id=line-568></span><span class=anchor id=line-569></span><p class=line862>The actual implementation differs from system to system. In fact, you can see what the above would actually look like to <tt class=backtick>diff</tt> on your box by putting an <tt class=backtick>echo</tt> in front of our command: <span class=anchor id=line-570></span><span class=anchor id=line-571></span><p class=line867><span class=anchor id=line-572></span><span class=anchor id=line-573></span><span class=anchor id=line-574></span><pre><span class=anchor id=line-1-40></span>box1$ echo diff -y &lt;(head -n 1 .dictionary) &lt;(tail -n 1 .dictionary)
<span class=anchor id=line-2-31></span>diff -y /dev/fd/63 /dev/fd/62</pre><span class=anchor id=line-575></span><span class=anchor id=line-576></span><p class=line867><span class=anchor id=line-577></span><span class=anchor id=line-578></span><span class=anchor id=line-579></span><pre><span class=anchor id=line-1-41></span>box2$ echo &lt;(cat /dev/null)
<span class=anchor id=line-2-32></span>/var/tmp//sh-np-605454726</pre><span class=anchor id=line-580></span><span class=anchor id=line-581></span><p class=line862>For examples using the <tt class=backtick>&gt;()</tt> form, see <a href=https://mywiki.wooledge.org/ProcessSubstitution>ProcessSubstitution</a> and <a href=https://mywiki.wooledge.org/BashFAQ/106>Bash FAQ 106</a>. <span class=anchor id=line-582></span><span class=anchor id=line-583></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-584></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 Process Substitution gives you a concise way to create temporary FIFOs automatically. They're less flexible than creating your own named pipes by hand, but they're perfect for common short commands like <tt class=backtick>diff</tt> that need filenames for their input sources.</strong> <span class=anchor id=line-585></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-586></span><span class=anchor id=line-587></span><p class=line867><span class=anchor id=EndOfContent></span> <span class=anchor id=line-588></span><hr><p class=line874> <span class=anchor id=line-589></span><a href=https://mywiki.wooledge.org/BashGuide/TestsAndConditionals>&lt;- Tests and Conditionals</a> | <a href=https://mywiki.wooledge.org/BashGuide/CompoundCommands>Compound Commands -&gt;</a> <span class=anchor id=line-590></span><span class=anchor id=bottom></span></p></div><p id=pageinfo class=info dir=ltr lang=en>BashGuide/InputAndOutput (last edited 2023-03-02 12:14:34 by <span title="??? @ 84.85.222.6[84.85.222.6]">84</span>)</p>
<div id=pagebottom></div>
</div>
<div id=footer>
<ul class=editbar><li><a href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=edit&amp;editor=text" name=texteditlink rel=nofollow>Edit</a><li class=toggleCommentsButton style=display:none><li><a class=nbinfo href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=info" rel=nofollow>Info</a><li><a class=nbattachments href="https://mywiki.wooledge.org/BashGuide/InputAndOutput?action=AttachFile" rel=nofollow>Attachments</a><li>
<form class=actionsmenu method=GET action=/BashGuide/InputAndOutput>
<div>
 
 <select name=action>
 <option value=show selected>More Actions:<option value=raw>Raw Text</option>
<option value=print>Print View</option>
<option value=RenderAsDocbook>Render as Docbook</option>
<option value=refresh>Delete Cache</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=SpellCheck>Check Spelling</option>
<option value=LikePages>Like Pages</option>
<option value=LocalSiteMap>Local Site Map</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=RenamePage disabled class=disabled>Rename Page</option>
<option value=DeletePage disabled class=disabled>Delete Page</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=show disabled class=disabled>Subscribe User</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=show disabled class=disabled>Remove Spam</option>
<option value=show disabled class=disabled>Revert to this revision</option>
<option value=PackagePages>Package Pages</option>
<option value=SyncPages>Sync Pages</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=Load>Load</option>
<option value=Save>Save</option>
<option value=SlideShow>SlideShow</option>
 </select>
 
 
</div>
</form>
</ul>
<ul id=credits>
<li><a href=http://moinmo.in/ title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a><li><a href=http://moinmo.in/Python title="MoinMoin is written in Python.">Python Powered</a><li><a href=http://moinmo.in/GPL title="MoinMoin is GPL licensed.">GPL licensed</a><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>
</div>
