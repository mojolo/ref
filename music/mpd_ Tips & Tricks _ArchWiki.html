<!DOCTYPE html> <html class=client-js dir=ltr lang=en><!--
 Page saved with SingleFile 
 url: https://wiki.archlinux.org/index.php/Music_Player_Daemon/Tips_and_tricks 
 saved date: Fri Jan 01 2021 17:01:09 GMT-0800 (Pacific Standard Time)
--><meta charset=utf-8><style>:root{--sf-img-1:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiI+Cgk8cGF0aCBmaWxsPSIjZmZmIiBzdHJva2U9IiMzNmMiIGQ9Ik0xLjUgNC41MThoNS45ODJWMTAuNUgxLjV6Ii8+Cgk8cGF0aCBmaWxsPSIjMzZjIiBkPSJNNS43NjUgMUgxMXY1LjM5TDkuNDI3IDcuOTM3bC0xLjMxLTEuMzFMNS4zOTMgOS4zNWwtMi42OS0yLjY4OCAyLjgxLTIuODA4TDQuMiAyLjU0NHoiLz4KCTxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik05Ljk5NSAyLjAwNGwuMDIyIDQuODg1TDguMiA1LjA3IDUuMzIgNy45NSA0LjA5IDYuNzIzbDIuODgyLTIuODgtMS44NS0xLjg1MnoiLz4KPC9zdmc+Cg==")}</style><style class="darkreader darkreader--user-agent" media=screen>[data-darkreader-inline-border-bottom]{border-bottom-color:var(--darkreader-inline-border-bottom)!important}:root{--darkreader-neutral-background: #131516;--darkreader-neutral-text: #d8d4cf;--darkreader-selection-background: #004daa;--darkreader-selection-text: #e8e6e3}html{background-color:#181a1b!important}html,body,input{background-color:#181a1b}html,body,input{border-color:#736b5e;color:#e8e6e3}a{color:#3391ff}::placeholder{color:#b2aba1}::-webkit-scrollbar{background-color:#202324;color:#aba499}::-webkit-scrollbar-thumb{background-color:#454a4d}::-webkit-scrollbar-corner{background-color:#181a1b}*{scrollbar-color:#202324 #454a4d}::selection{background-color:#004daa!important;color:#e8e6e3!important}::-moz-selection{background-color:#004daa!important;color:#e8e6e3!important}</style>
<title>Music Player Daemon/Tips and tricks - ArchWiki</title>
<style>.toctogglecheckbox:checked~ul{display:none}@media screen{:not(:checked)>.toctogglecheckbox{display:inline!important;position:absolute;opacity:0;z-index:-1}.toctogglespan{font-size:94%}:not(:checked)>.toctogglespan:before{content:' ['}:not(:checked)>.toctogglespan:after{content:']'}.toctogglelabel{cursor:pointer;color:#0645ad}.toctogglelabel:hover{text-decoration:underline}.toctogglecheckbox:focus+.toctitle .toctogglelabel{text-decoration:underline;outline:dotted 1px;outline:auto -webkit-focus-ring-color}.toctogglecheckbox:checked+.toctitle .toctogglelabel:after{content:'show'}.toctogglecheckbox:not(:checked)+.toctitle .toctogglelabel:after{content:'hide'}}@media screen{html,body{height:100%}body{margin:0;padding:0}:focus{outline-color:#3366cc}body{background-color:#f6f6f6;overflow-y:scroll}.mw-body{background-color:#ffffff;color:#202122;direction:ltr;padding:1em}.mw-body{margin-left:10em}.mw-body{margin-top:-1px;border:1px solid #a7d7f9;border-right-width:0}.mw-body .firstHeading{overflow:visible}.mw-body-content{position:relative;z-index:0}.mw-body-content:after{clear:both;content:'';display:block}html{font-size:100%}html,body{font-family:sans-serif}ul{list-style-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1IiBoZWlnaHQ9IjEzIj4KCTxjaXJjbGUgY3g9IjIuNSIgY3k9IjkiIHI9IjIuNSIgZmlsbD0iIzIwMjEyMiIvPgo8L3N2Zz4K)}pre{line-height:1.3}.mw-jump-link:not(:focus){display:block;position:absolute!important;clip:rect(1px,1px,1px,1px);width:1px;height:1px;margin:-1px;border:0;padding:0;overflow:hidden}.mw-body h1,.mw-body-content h2{margin-bottom:0.25em;padding:0;font-family:'Linux Libertine','Georgia','Times',serif;line-height:1.3}.mw-body h1:lang(ja),.mw-body-content h1:lang(ja),.mw-body-content h2:lang(ja),.mw-body h1:lang(he),.mw-body-content h1:lang(he),.mw-body-content h2:lang(he),.mw-body h1:lang(ko),.mw-body-content h1:lang(ko),.mw-body-content h2:lang(ko){font-family:sans-serif}.mw-body h1:lang(my),.mw-body-content h1:lang(my),.mw-body-content h2:lang(my){line-height:normal}.mw-body h1{font-size:1.8em}.mw-body-content{font-size:calc(1em * 0.875);line-height:1.6}.mw-body-content h2{margin-top:1em;font-size:1.5em}.mw-body-content h3,.mw-body-content h4{margin-top:0.3em;margin-bottom:0;padding-bottom:0;line-height:1.6}.mw-body-content h3{font-size:1.2em}.mw-body-content h3,.mw-body-content h4{font-weight:bold}.mw-body-content h4{font-size:100%}.mw-body-content .toc h2{font-family:sans-serif;font-size:100%}.mw-body-content p{margin:0.5em 0}.mw-parser-output .external{background-position:center right;background-repeat:no-repeat;background-image:linear-gradient(transparent,transparent),var(--sf-img-1);padding-right:13px}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}}@media screen and (min-width:982px){.mw-body{margin-left:11em}.mw-body{padding:1.25em 1.5em 1.5em 1.5em}}@media screen{body{margin:0}@supports (text-decoration:underline dotted){abbr[title]{border-bottom:0;text-decoration:underline dotted}}a{text-decoration:none;color:#0645ad;background:none}a:not([href]){cursor:pointer}a:visited{color:#0b0080}a:active{color:#faa700}a:hover,a:focus{text-decoration:underline}a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}.mw-parser-output a.external{color:#36b}.mw-parser-output a.extiw:visited,.mw-parser-output a.external:visited{color:#636}.mw-parser-output a.extiw:active,.mw-parser-output a.external:active{color:#b63}.mw-parser-output a.external.free{word-wrap:break-word}h1,h2,h3,h4{color:#000;margin:0;padding-top:0.5em;padding-bottom:0.17em;overflow:hidden}h1,h2{margin-bottom:0.6em;border-bottom:1px solid #a2a9b1}h3,h4{margin-bottom:0.3em}h1{font-size:188%;font-weight:normal}h2{font-size:150%;font-weight:normal}h3{font-size:128%}h4{font-size:116%}p{margin:0.4em 0 0.5em 0}li{margin-bottom:0.1em}pre,code{font-family:monospace,monospace}code{color:#000;background-color:#f8f9fa;border:1px solid #eaecf0;border-radius:2px;padding:1px 4px}pre{color:#000;background-color:#f8f9fa;border:1px solid #eaecf0;padding:1em;white-space:pre-wrap;overflow-x:hidden;word-wrap:break-word}.toc{border:1px solid #a2a9b1;background-color:#f8f9fa;font-size:95%}.toc{display:table;padding:7px}.toc h2{display:inline;border:0;padding:0;font-size:100%;font-weight:bold}.toc .toctitle{text-align:center}.toc ul{list-style-type:none;list-style-image:none;margin-left:0}.tocnumber,.toctext{display:table-cell;text-decoration:inherit}.tocnumber{color:#202122}.mw-content-ltr .tocnumber{padding-left:0;padding-right:0.5em}.catlinks{border:1px solid #a2a9b1;background-color:#f8f9fa;padding:5px;margin-top:1em;clear:both}#contentSub,#contentSub2{font-size:84%;line-height:1.2em;margin:0 0 1.4em 1em;color:#54595d;width:auto}span.subpages{display:block}.mw-content-ltr{direction:ltr}.sitedir-ltr input{direction:ltr}@supports (text-decoration:underline dotted){abbr[title],.explain[title]{border-bottom:0;text-decoration:underline dotted}}#catlinks{text-align:left}.catlinks ul{display:inline;margin:0;padding:0;list-style:none none}.catlinks li{display:inline-block;line-height:1.25em;border-left:1px solid #a2a9b1;margin:0.125em 0;padding:0 0.5em}.catlinks li:first-child{padding-left:0.25em;border-left:0}.plainlinks a.external{background:none!important;padding:0!important}.mw-content-ltr ul{padding:0}h1:lang(anp),h1:lang(as),h1:lang(bh),h1:lang(bho),h1:lang(bn),h1:lang(gu),h1:lang(hi),h1:lang(kn),h1:lang(ks),h1:lang(ml),h1:lang(mr),h1:lang(my),h1:lang(mai),h1:lang(ne),h1:lang(new),h1:lang(or),h1:lang(pa),h1:lang(pi),h1:lang(sa),h1:lang(ta),h1:lang(te){line-height:1.6em!important}h2:lang(anp),h3:lang(anp),h4:lang(anp),h5:lang(anp),h6:lang(anp),h2:lang(as),h3:lang(as),h4:lang(as),h5:lang(as),h6:lang(as),h2:lang(bho),h3:lang(bho),h4:lang(bho),h5:lang(bho),h6:lang(bho),h2:lang(bh),h3:lang(bh),h4:lang(bh),h5:lang(bh),h6:lang(bh),h2:lang(bn),h3:lang(bn),h4:lang(bn),h5:lang(bn),h6:lang(bn),h2:lang(gu),h3:lang(gu),h4:lang(gu),h5:lang(gu),h6:lang(gu),h2:lang(hi),h3:lang(hi),h4:lang(hi),h5:lang(hi),h6:lang(hi),h2:lang(kn),h3:lang(kn),h4:lang(kn),h5:lang(kn),h6:lang(kn),h2:lang(ks),h3:lang(ks),h4:lang(ks),h5:lang(ks),h6:lang(ks),h2:lang(ml),h3:lang(ml),h4:lang(ml),h5:lang(ml),h6:lang(ml),h2:lang(mr),h3:lang(mr),h4:lang(mr),h5:lang(mr),h6:lang(mr),h2:lang(my),h3:lang(my),h4:lang(my),h5:lang(my),h6:lang(my),h2:lang(mai),h3:lang(mai),h4:lang(mai),h5:lang(mai),h6:lang(mai),h2:lang(ne),h3:lang(ne),h4:lang(ne),h5:lang(ne),h6:lang(ne),h2:lang(new),h3:lang(new),h4:lang(new),h5:lang(new),h6:lang(new),h2:lang(or),h3:lang(or),h4:lang(or),h5:lang(or),h6:lang(or),h2:lang(pa),h3:lang(pa),h4:lang(pa),h5:lang(pa),h6:lang(pa),h2:lang(pi),h3:lang(pi),h4:lang(pi),h5:lang(pi),h6:lang(pi),h2:lang(sa),h3:lang(sa),h4:lang(sa),h5:lang(sa),h6:lang(sa),h2:lang(ta),h3:lang(ta),h4:lang(ta),h5:lang(ta),h6:lang(ta),h2:lang(te),h3:lang(te),h4:lang(te),h5:lang(te),h6:lang(te){line-height:1.2em}.toc ul{margin:0.3em 0}.mw-content-ltr .toc ul{text-align:left}.mw-content-ltr .toc ul ul{margin:0 0 0 2em}.toc .toctitle{direction:ltr}sup{line-height:1}}@media screen and (max-width:720px){.mw-body{border-left:0;margin-left:0}}body{background:#f6f9fc}#content{background:#ffffff;border:1px solid #cccccc}#content h1,#content h2,#content h3,#content h4,#content pre,#content code{color:#222222}#content ul{list-style-image:none}#content pre{border:1px solid #bbccdd;overflow:auto;word-break:break-all;white-space:pre-wrap!important}#content pre,#content code{background-color:#ebf1f5;font-family:monospace}#content code{display:inline-block;padding:0 0.3em;border-width:0;border-radius:0}#toc{background-color:#f9faff;border:1px solid #d7dfe3}#bodyContent>div.mw-content-ltr a{font-weight:bold}#bodyContent #toc a{font-weight:normal}#content a:not(.new),#mw-navigation li:not(.new) a:not(.new),#mw-panel li:not(.new) a:not(.new),#column-one li:not(.new) a:not(.new),#footer a:not(.new){text-decoration:none;color:#0077bb!important}#content a:not(.new):hover,#mw-navigation li:not(.new) a:not(.new):hover,#mw-panel li:not(.new) a:not(.new):hover,#column-one li:not(.new) a:not(.new):hover,#footer a:not(.new):hover{text-decoration:underline;background-color:transparent;color:#999999!important}#content a:active,#mw-navigation li:not(.new) a:active,#mw-panel li:not(.new) a:active,#column-one li:not(.new) a:active,#footer a:active,#content a:focus,#mw-navigation li:not(.new) a:focus,#mw-panel li:not(.new) a:focus,#column-one li:not(.new) a:focus,#footer a:focus,#content a:active:hover,#mw-navigation li:not(.new) a:active:hover,#mw-panel li:not(.new) a:active:hover,#column-one li:not(.new) a:active:hover,#footer a:active:hover,#content a:focus:hover,#mw-navigation li:not(.new) a:focus:hover,#mw-panel li:not(.new) a:focus:hover,#column-one li:not(.new) a:focus:hover,#footer a:focus:hover{color:#ee9900!important}#content a:not(.new):visited,#mw-panel li:not(.new) a:not(.new):visited,#p-navigation li:not(.new) a:not(.new):visited,#p-tb li:not(.new) a:not(.new):visited{color:#666666!important}.mw-body-content a.external{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAs0lEQVR4AWP4//8/yRiroHH6njrjtN1/sGGYJpwajdJ2bXNI2M8BE8PQhMXUv0B8yThtMxeGJgyBmf9ZDRO3iRqn775rmL5NCyQG0giyEacm0WWvVstNvnNXt+hYNogP0giyEeRUnJpkVj3mBGqcC8SvNGrOVIJsBDkV5EecmmBYZOnrbqmZD1+CnAqTA2nEq4lh/38W0aWv9gGxF4YcpiYEFlz1jh+kGa8m3BhTE1GYYk0A08+9f1lXOBcAAAAASUVORK5CYII=) center right no-repeat;padding-right:13px}.mw-body h1,.mw-body-content h2{font-family:sans-serif}</style><style class="darkreader darkreader--sync" media=screen>@media screen{.toctogglelabel{color:rgb(102,177,250)}.toctogglelabel:hover{text-decoration-color:currentcolor}.toctogglecheckbox:focus+.toctitle .toctogglelabel{text-decoration-color:currentcolor;outline-color:currentcolor}}@media screen{:focus{outline-color:rgb(36,71,143)}body{background-color:rgb(29,32,33)}.mw-body{background-color:rgb(24,26,27);color:rgb(211,207,202)}.mw-body{border-color:rgb(8,75,122)}ul{list-style-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNSIgaGVpZ2h0PSIxMyI+PGRlZnM+PGZpbHRlciBpZD0iZGFya3JlYWRlci1pbWFnZS1maWx0ZXIiPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwLjI0OSAtMC42MTQgLTAuNjcyIDAuMDAwIDEuMDM1IC0wLjY0NiAwLjI4OCAtMC42NjQgMC4wMDAgMS4wMjAgLTAuNjM2IC0wLjYwOSAwLjI1MCAwLjAwMCAwLjk5NCAwLjAwMCAwLjAwMCAwLjAwMCAxLjAwMCAwLjAwMCIgLz48L2ZpbHRlcj48L2RlZnM+PGltYWdlIHdpZHRoPSI1IiBoZWlnaHQ9IjEzIiBmaWx0ZXI9InVybCgjZGFya3JlYWRlci1pbWFnZS1maWx0ZXIpIiB4bGluazpocmVmPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlWVlJHTFRnaVB6NEtQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0kxSWlCb1pXbG5hSFE5SWpFeklqNEtDVHhqYVhKamJHVWdZM2c5SWpJdU5TSWdZM2s5SWpraUlISTlJakl1TlNJZ1ptbHNiRDBpSXpJd01qRXlNaUl2UGdvOEwzTjJaejRLIiAvPjwvc3ZnPg==)}.mw-jump-link:not(:focus){border-color:currentcolor}.mw-parser-output .external{background-image:linear-gradient(rgba(0,0,0,0),rgba(0,0,0,0)),var(--sf-img-1)}}@media screen{a{text-decoration-color:currentcolor;color:rgb(102,177,250);background-color:rgba(0,0,0,0);background-image:none}a:visited{color:rgb(126,114,255)}a:active{color:rgb(255,180,29)}a:hover,a:focus{text-decoration-color:currentcolor}a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration-color:currentcolor}.mw-parser-output a.external{color:rgb(103,159,213)}.mw-parser-output a.extiw:visited,.mw-parser-output a.external:visited{color:rgb(202,150,202)}.mw-parser-output a.extiw:active,.mw-parser-output a.external:active{color:rgb(208,131,84)}h1,h2,h3,h4{color:rgb(232,230,227)}h1,h2{border-bottom-color:rgb(72,78,81)}code{color:rgb(232,230,227);background-color:rgb(27,30,31);border-color:rgb(53,58,60)}pre{color:rgb(232,230,227);background-color:rgb(27,30,31);border-color:rgb(53,58,60)}.toc{border-color:rgb(72,78,81);background-color:rgb(27,30,31)}.toc h2{border-color:currentcolor}.toc ul{list-style-image:none}.tocnumber,.toctext{text-decoration-color:inherit}.tocnumber{color:rgb(211,207,202)}.catlinks{border-color:rgb(72,78,81);background-color:rgb(27,30,31)}#contentSub,#contentSub2{color:rgb(176,169,159)}.catlinks ul{list-style-image:none}.catlinks li{border-left-color:rgb(72,78,81)}.catlinks li:first-child{border-left-color:currentcolor}.plainlinks a.external{background-color:rgba(0,0,0,0)!important;background-image:none!important}}@media screen and (max-width:720px){.mw-body{border-left-color:currentcolor}}body{background-color:rgb(27,30,31);background-image:none}#content{background-color:rgb(24,26,27);background-image:none;border-color:rgb(62,68,70)}#content h1,#content h2,#content h3,#content h4,#content pre,#content code{color:rgb(211,207,201)}#content ul{list-style-image:none}#content pre{border-color:rgb(44,66,88)}#content pre,#content code{background-color:rgb(32,35,37)}#toc{background-color:rgb(26,28,29);border-color:rgb(58,62,65)}#content a:not(.new),#mw-navigation li:not(.new) a:not(.new),#mw-panel li:not(.new) a:not(.new),#column-one li:not(.new) a:not(.new),#footer a:not(.new){text-decoration-color:currentcolor;color:rgb(73,189,255)!important}#content a:not(.new):hover,#mw-navigation li:not(.new) a:not(.new):hover,#mw-panel li:not(.new) a:not(.new):hover,#column-one li:not(.new) a:not(.new):hover,#footer a:not(.new):hover{text-decoration-color:currentcolor;background-color:transparent;color:rgb(168,160,149)!important}#content a:active,#mw-navigation li:not(.new) a:active,#mw-panel li:not(.new) a:active,#column-one li:not(.new) a:active,#footer a:active,#content a:focus,#mw-navigation li:not(.new) a:focus,#mw-panel li:not(.new) a:focus,#column-one li:not(.new) a:focus,#footer a:focus,#content a:active:hover,#mw-navigation li:not(.new) a:active:hover,#mw-panel li:not(.new) a:active:hover,#column-one li:not(.new) a:active:hover,#footer a:active:hover,#content a:focus:hover,#mw-navigation li:not(.new) a:focus:hover,#mw-panel li:not(.new) a:focus:hover,#column-one li:not(.new) a:focus:hover,#footer a:focus:hover{color:rgb(255,177,37)!important}#content a:not(.new):visited,#mw-panel li:not(.new) a:not(.new):visited,#p-navigation li:not(.new) a:not(.new):visited,#p-tb li:not(.new) a:not(.new):visited{color:rgb(168,160,149)!important}.mw-body-content a.external{background-color:rgba(0,0,0,0);background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTMiIGhlaWdodD0iMTMiPjxkZWZzPjxmaWx0ZXIgaWQ9ImRhcmtyZWFkZXItaW1hZ2UtZmlsdGVyIj48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMC4yNDkgLTAuNjE0IC0wLjY3MiAwLjAwMCAxLjAzNSAtMC42NDYgMC4yODggLTAuNjY0IDAuMDAwIDEuMDIwIC0wLjYzNiAtMC42MDkgMC4yNTAgMC4wMDAgMC45OTQgMC4wMDAgMC4wMDAgMC4wMDAgMS4wMDAgMC4wMDAiIC8+PC9maWx0ZXI+PC9kZWZzPjxpbWFnZSB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIGZpbHRlcj0idXJsKCNkYXJrcmVhZGVyLWltYWdlLWZpbHRlcikiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQTBBQUFBTkNBWUFBQUJ5NitSOEFBQUFzMGxFUVZSNEFXUDQvLzgveVJpcm9ISDZuanJqdE4xL3NHR1lKcHdhamRKMmJYTkkyTThCRThQUWhNWFV2MEI4eVRodE14ZUdKZ3lCbWY5WkRSTzNpUnFuNzc1cm1MNU5DeVFHMGdpeUVhY20wV1d2VnN0TnZuTlh0K2hZTm9nUDBnaXlFZVJVbkpwa1ZqM21CR3FjQzhTdk5Hck9WSUpzQkRrVjVFZWNtbUJZWk9ucmJxbVpEMStDbkFxVEEybkVxNGxoLzM4VzBhV3Y5Z0d4RjRZY3BpWUVGbHoxamgra0dhOG0zQmhURTFHWVlrMEEwOCs5ZjFsWE9CY0FBQUFBU1VWT1JLNUNZSUk9IiAvPjwvc3ZnPg==)}</style>
<meta name=ResourceLoaderDynamicStyles content>
<style>span.archwiki-template-pkg,span.archwiki-template-man{font-family:monospace}div.archwiki-template-box{padding:5px;border:thin solid black;margin:0.5em 0;overflow:hidden}div.archwiki-template-box.archwiki-template-box-note{background-color:#ddf;border-color:#bbd}div.archwiki-template-box.archwiki-template-box-tip{background-color:#dfd;border-color:#bdb}</style><style class="darkreader darkreader--sync" media=screen>div.archwiki-template-box.archwiki-template-box-note{background-color:rgb(34,36,38);border-color:rgb(44,44,88)}div.archwiki-template-box.archwiki-template-box-tip{background-color:rgb(18,71,0);border-color:rgb(44,88,44)}</style>
<meta name=generator content="MediaWiki 1.35.0">
<meta name=viewport content="width=device-width, initial-scale=1">
<link rel=search type=application/opensearchdescription+xml href=https://wiki.archlinux.org/opensearch_desc.php title="ArchWiki (en)">
<link rel=EditURI type=application/rsd+xml href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel=license href=http://www.gnu.org/copyleft/fdl.html>
<link rel=alternate type=application/atom+xml title="ArchWiki Atom feed" href="https://wiki.archlinux.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel=canonical href=https://wiki.archlinux.org/index.php/Music_Player_Daemon/Tips_and_tricks>
<!--[if lt IE 9]><script src="/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
<meta name=darkreader content=76ad5b755debf2b7e0f9ea277314a5ee><style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}.mw-body{color:var(--darkreader-neutral-text)!important}</style><link rel="shortcut icon" href=data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABvElEQVQ4jY2TP4gTQRTGfzM7ybp35mBX8LY4GxM5OI4UiqDWtoKIjWhl4QmmEQwIhzZaa3GLlYWgjViI+AcUrrASUYTbQ0UxepwpFj1EDCSXuLNj4QYSLxP8mnm8972P3wyMMMZgUxjF+ycLUjUW5l/YPMq6/VfnHCEmAGuAsBHsurG6QwiaRUeq2cCdfXy88nmUT9qSJ4tywVNyGxjVSbPzNp81wFNyt6cknpJ00uzk2Wfr/n8HHLrz4ajriFeuEsuekvS08Zu/eoujvFveYN+t98XAUw1jmEmN+ZEZfG2M8BzZKhVl+f6x8vexBIGn6hMFOeMqgTEEXZ2J39qwqbNSR5tLYwnmbr6b2hO4axvt1P/a6tHTw3SuI1pTrlNZPT33bSTBps7qb5K23/jZ7S8/AO72511tShud9MJIgjCKdwINYHs+e5TUqkfy2W3gVN5vA+WkVk3+Jbg8sAzwcKB+mp8G+ALUh64QRnEZOMOwPg3Ub/vEgAvcGwoArgKFvF4DrgEfBwKawHVgHagAy2EUnwAQ00sre4HXwBPgSlKrvmSMwig+CCwCh4F5Mb20chF4ntSq1h83JujAH3Eom+H9uAq8AAAAAElFTkSuQmCC><style>.sf-hidden{display:none!important}</style></head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Music_Player_Daemon_Tips_and_tricks rootpage-Music_Player_Daemon skin-vector action-view skin-vector-legacy"><div id=archnavbar class=noprint style=display:none!important>
 
 
</div>
<div id=mw-page-base class=noprint style=display:none!important></div>
<div id=mw-head-base class=noprint style=display:none!important></div>
<div id=content class=mw-body role=main>
 <a id=top style=display:none!important></a>
 <div id=siteNotice class=mw-body-content style=display:none!important></div>
 <div class="mw-indicators mw-body-content" style=display:none!important>
 </div>
 <h1 id=firstHeading class=firstHeading lang=en>Music Player Daemon/Tips and tricks</h1>
 <div id=bodyContent class=mw-body-content>
 <div id=siteSub class="noprint sf-hidden">From ArchWiki</div>
 <div id=contentSub><span class=subpages>&lt; <a href=https://wiki.archlinux.org/index.php/Music_Player_Daemon title="Music Player Daemon">Music Player Daemon</a></span><span class=mw-redirectedfrom>(Redirected from <a href="https://wiki.archlinux.org/index.php?title=MPD/Tips_and_Tricks&amp;redirect=no" class=mw-redirect title="MPD/Tips and Tricks">MPD/Tips and Tricks</a>)</span></div>
 <div id=contentSub2></div>
 
 <div id=jump-to-nav></div>
 <a class=mw-jump-link href=#mw-head>Jump to navigation</a>
 <a class=mw-jump-link href=#searchInput>Jump to search</a>
 <div id=mw-content-text dir=ltr class=mw-content-ltr lang=en><div class=mw-parser-output><p>Go back to <a href=https://wiki.archlinux.org/index.php/Music_Player_Daemon title="Music Player Daemon">Music Player Daemon</a>.
</p>
<div id=toc class=toc role=navigation aria-labelledby=mw-toc-heading><input type=checkbox role=button id=toctogglecheckbox class=toctogglecheckbox style=display:none><div class=toctitle dir=ltr lang=en><h2 id=mw-toc-heading>Contents</h2><span class=toctogglespan><label class=toctogglelabel for=toctogglecheckbox></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href=#Organizing_library><span class=tocnumber>1</span> <span class=toctext>Organizing library</span></a></li>
<li class="toclevel-1 tocsection-2"><a href=#Last.fm/Libre.fm_scrobbling><span class=tocnumber>2</span> <span class=toctext>Last.fm/Libre.fm scrobbling</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href=#mpdas><span class=tocnumber>2.1</span> <span class=toctext>mpdas</span></a></li>
<li class="toclevel-2 tocsection-4"><a href=#mpdscribble><span class=tocnumber>2.2</span> <span class=toctext>mpdscribble</span></a></li>
<li class="toclevel-2 tocsection-5"><a href=#Sonata><span class=tocnumber>2.3</span> <span class=toctext>Sonata</span></a></li>
<li class="toclevel-2 tocsection-6"><a href=#YAMS><span class=tocnumber>2.4</span> <span class=toctext>YAMS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href=#Disable_resume_playback_on_startup><span class=tocnumber>3</span> <span class=toctext>Disable resume playback on startup</span></a></li>
<li class="toclevel-1 tocsection-8"><a href=#Example_configuration:_Output_with_44.1_KHz_at_e._g._16_bit_depth,_multiple_programs_at_once><span class=tocnumber>4</span> <span class=toctext>Example configuration: Output with 44.1 KHz at e. g. 16 bit depth, multiple programs at once</span></a></li>
<li class="toclevel-1 tocsection-9"><a href=#Control_MPD_with_lirc><span class=tocnumber>5</span> <span class=toctext>Control MPD with lirc</span></a></li>
<li class="toclevel-1 tocsection-10"><a href=#PulseAudio><span class=tocnumber>6</span> <span class=toctext>PulseAudio</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href=#Local_(as_your_own_user)><span class=tocnumber>6.1</span> <span class=toctext>Local (as your own user)</span></a></li>
<li class="toclevel-2 tocsection-12"><a href=#Local_(with_separate_mpd_user)><span class=tocnumber>6.2</span> <span class=toctext>Local (with separate mpd user)</span></a></li>
<li class="toclevel-2 tocsection-13"><a href=#Remote><span class=tocnumber>6.3</span> <span class=toctext>Remote</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href=#Cue_Files><span class=tocnumber>7</span> <span class=toctext>Cue Files</span></a></li>
<li class="toclevel-1 tocsection-15"><a href=#HTTP_streaming><span class=tocnumber>8</span> <span class=toctext>HTTP streaming</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href=#Configuration><span class=tocnumber>8.1</span> <span class=toctext>Configuration</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href=#Format><span class=tocnumber>8.1.1</span> <span class=toctext>Format</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-18"><a href=#Use><span class=tocnumber>8.2</span> <span class=toctext>Use</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href=#Music_streaming_with_the_satellite_setup><span class=tocnumber>9</span> <span class=toctext>Music streaming with the satellite setup</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href=#Topology><span class=tocnumber>9.1</span> <span class=toctext>Topology</span></a></li>
<li class="toclevel-2 tocsection-21"><a href=#Configuration_2><span class=tocnumber>9.2</span> <span class=toctext>Configuration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href=#MPRIS_support><span class=tocnumber>10</span> <span class=toctext>MPRIS support</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href=#mpDris2><span class=tocnumber>10.1</span> <span class=toctext>mpDris2</span></a></li>
<li class="toclevel-2 tocsection-24"><a href=#mpd-mpris><span class=tocnumber>10.2</span> <span class=toctext>mpd-mpris</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-25"><a href=#Notifications><span class=tocnumber>11</span> <span class=toctext>Notifications</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href=#musnify-mpd><span class=tocnumber>11.1</span> <span class=toctext>musnify-mpd</span></a></li>
<li class="toclevel-2 tocsection-27"><a href=#mpd-notification><span class=tocnumber>11.2</span> <span class=toctext>mpd-notification</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28"><a href=#Adding_a_separate_volume_control_(ALSA)><span class=tocnumber>12</span> <span class=toctext>Adding a separate volume control (ALSA)</span></a></li>
<li class="toclevel-1 tocsection-29"><a href=#Control_the_remote_mpd_server><span class=tocnumber>13</span> <span class=toctext>Control the remote mpd server</span></a></li>
</ul>
</div>
<h2><span class=mw-headline id=Organizing_library>Organizing library</span></h2>
<p>MPD does not manage your library. Check out <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://archlinux.org/packages/?name=beets">beets</a></span> or <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://archlinux.org/packages/?name=picard">picard</a></span> in the <a href=https://wiki.archlinux.org/index.php/Official_repositories title="Official repositories">official repositories</a>.
</p>
<h2><span id=Last.fm.2FLibre.fm_scrobbling></span><span class=mw-headline id=Last.fm/Libre.fm_scrobbling>Last.fm/Libre.fm scrobbling</span></h2>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> mpd release 0.18 removed Last.fm <a rel=nofollow class="external text" href=http://git.musicpd.org/cgit/master/mpd.git/tree/NEWS>support</a>. However, some clients offer scrobbling independent of mpd.</div>
<p>To scrobble your songs to <a rel=nofollow class="external text" href=http://www.last.fm/>Last.fm</a> or <a rel=nofollow class="external text" href=http://libre.fm/>Libre.fm</a> when using MPD, there are several possibilities.
</p>
<h3><span class=mw-headline id=mpdas>mpdas</span></h3>
<p><a rel=nofollow class="external text" href=http://50hz.ws/mpdas/>mpdas</a> is an AudioScrobbler client for MPD written in C++. It uses <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://archlinux.org/packages/?name=curl">curl</a></span> and <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://archlinux.org/packages/?name=libmpd">libmpd</a></span>. mpdas supports the latest AudioScrobbler protocol (2.0) and will also cache unscrobbled plays in <code>~/.mpdascache</code> if there is no network connectivity.
<p><span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/mpdas/>mpdas</a></span><sup><small>AUR</small></sup> is available in the <a href=https://wiki.archlinux.org/index.php/AUR class=mw-redirect title=AUR>AUR</a>.
<p>Configuration of mpdas is very simple, see the official <a rel=nofollow class="external text" href=https://github.com/hrkfdn/mpdas/blob/master/README.md>README</a>. A very basic example of <code>/etc/mpdasrc</code> is also available as <code>/etc/mpdasrc</code>.
<p>To autostart <i>mpdas</i> along with <i>mpd</i>, add an entry for it into the file in which you start <i>mpd</i> (e.g. <a href=https://wiki.archlinux.org/index.php/Xinitrc class=mw-redirect title=Xinitrc>xinitrc</a>):
</p>
<pre>[[ -z $(pgrep -xU $UID mpdas) ]] &amp;&amp; mpdas &amp;</pre>
<p>When <i>mpd</i> is started with a <a href=https://wiki.archlinux.org/index.php/Music_Player_Daemon#Autostart_with_systemd title="Music Player Daemon">systemd user service</a>, it is better to start <i>mpdas</i> the same way:
</p>
<pre>$ systemctl --user start mpdas.service
</pre>
<div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> If you get a failed <code>mpdas.service</code> after system startup, consider using <a href=https://wiki.archlinux.org/index.php/Music_Player_Daemon#Socket_activation title="Music Player Daemon">socket activation</a> with <code>mpd.socket</code> instead.</div>
<h3><span class=mw-headline id=mpdscribble>mpdscribble</span></h3>
<p><span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/mpdscribble/>mpdscribble</a></span><sup><small>AUR</small></sup> is a daemon available in the <a href=https://wiki.archlinux.org/index.php/AUR class=mw-redirect title=AUR>AUR</a>. This is arguably the best alternative, because it is the semi-official MPD scrobbler and uses the new "idle" feature in MPD for more accurate scrobbling. Also, you do not need root access to configure it, because it does not need any changes to <code>/etc</code> at all. Visit <a rel=nofollow class="external text" href=https://www.musicpd.org/clients/mpdscribble/>the official website</a> for more information.
<p>A sample config is included: <code>/usr/share/mpdscribble/mpdscribble.conf.example</code>, copy it to <code>~/.mpdscribble/mpdscribble.conf</code> and edit to suit.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> Trailing comments are not supported by its parser. Write them in their own lines.</div>
<p>Your password can also be in the form of an md5hash.
</p>
<pre>echo -n "<i>password</i>" | md5sum | cut -f 1 -d " "
</pre>
<p>To autostart <i>mpdscribble</i> you can use the <code>mpdscribble.service</code> under systemd user instance. See <a href=https://wiki.archlinux.org/index.php/Systemd/User title=Systemd/User>systemd/User</a> for details.
<p>Alternatively you can autostart <i>mpdscribble</i> along with <i>mpd</i>, add an entry for it into the file in which you start <i>mpd</i> (e.g. <code>~/.xinitrc</code>):
</p>
<pre>[[ -z $(pgrep -xU $UID mpdscribble) ]] &amp;&amp; mpdscribble &amp;
</pre>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> If you get a <code>[last.fm] handshake failed, username or password incorrect (BADAUTH)</code> error, make sure your username and password are correct, and that your password is not <a rel=nofollow class="external text" href="http://bugs.musicpd.org/view.php?id=3836">32 characters long</a>.</div>
<h3><span class=mw-headline id=Sonata>Sonata</span></h3>
<p>Sonata has built-in support for scrobbling, although that requires the program to run the whole time. Additionally, Sonata does not cache the songs if they cannot be forwarded to Last.fm at the time of playing, meaning they will not be added to the statistics.
</p>
<h3><span class=mw-headline id=YAMS>YAMS</span></h3>
<p><a rel=nofollow class="external text" href=https://github.com/Berulacks/yams/>YAMS</a> is a Last.FM scrobbling daemon for MPD written in Python. 
<p>As it's written for v2.0 of Last.FM's <a rel=nofollow class="external text" href=https://www.last.fm/api/scrobbling>scrobbling API</a>, YAMS does not store your username or password locally, but opts to use a cookie instead. Similar to other scrobblers, YAMS can save failed scrobbles and upload them at a later date. It also offers a decent amount of configuration options for when/how a scrobble should be made (including ignoring duplicate scrobbles when a track is played multiple times in a row).
<p><span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/python-yams/>python-yams</a></span><sup><small>AUR</small></sup> is available in the <a href=https://wiki.archlinux.org/index.php/AUR class=mw-redirect title=AUR>AUR</a>.
<p>In order to authenticate, the user <i>must</i> run the <code>yams</code> command in an interactive terminal, at least once, and follow the printed instructions. 
<p>Afterwards, YAMS can be started with its binary:
<p><code>yams</code> runs as a daemon by default (<code>yams -N</code> will run it in the foreground).
<p><code>yams -k</code> will kill the current running instance.
<p><code>yams -a</code> will attach to the current running instance's log file, allowing you to watch the daemon's output.
<p><code>yams -h</code> will print all command line options.
<p>YAMS also comes with a systemd service file that can be started with <code>systemctl --user start yams</code> after authentication is complete.
</p>
<h2><span class=mw-headline id=Disable_resume_playback_on_startup>Disable resume playback on startup</span></h2>
<p>This feature is present in <i>mpd</i> after version 0.16.2. When this feature is enabled, <i>mpd</i> will always start in the "paused" state, even if a song was playing when mpd was stopped. Add the line below to your <code>mpd.conf</code> to enable this feature.
</p>
<pre>restore_paused "yes"
</pre>
<h2><span id=Example_configuration:_Output_with_44.1_KHz_at_e._g._16_bit_depth.2C_multiple_programs_at_once></span><span class=mw-headline id=Example_configuration:_Output_with_44.1_KHz_at_e._g._16_bit_depth,_multiple_programs_at_once>Example configuration: Output with 44.1 KHz at e. g. 16 bit depth, multiple programs at once</span></h2>
<p><i>Why these formats?</i> Because they are the standard format for CD audio, because ALSA on its own allows more than one program "to sound" only with dmix — which uses an inferior resampling algorithm by default — and because dmix by default resamples anything lower to 48 KHz (or whatever higher format is playing at the time). Also, some get clicking sounds if at least <code>mpd.conf</code> is not changed this way.
<p><i>What is the downside?</i> These settings cause <i>everything</i> (if necessary) to be resampled to this format, such as material from DVD or TV which usually is at 48 KHz. But there is no known way to have ALSA dynamically change the format, and particularly if you listen to far more CDs than anything else the occasional 48 → 44.1 is not too great a loss.
<p>The following assumes that there are not already other settings which conflict resp. overwrite it. This applies especially to the current user's potential <code>~/.asoundrc</code> — which MPD as its own user ignores, therefore the following should go to <code>/etc/asound.conf</code>:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:0.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/asound.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:0.8em>defaults.pcm.dmix.rate 44100 # Force 44.1 KHz
defaults.pcm.dmix.format S16_LE # Force 16 bits
</pre>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:0.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/mpd.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:0.8em>audio_output {
        type                    "alsa" # Use the ALSA output plugin.
	name			"your_custom_name" # Must be present and does not have to match the actual card name , e.g. what you have in /etc/asound.conf
        options                 "dev=dmixer"
        device                  "plug:dmix" # Both lines cause MPD to output to dmix
	format	        	"44100:16:2" # the actual format
	auto_resample		"no" # This bypasses ALSA's own algorithms, which generally are inferior. See below how to choose a different one.
}</pre>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> MPD gives the mp3 format a special treatment at decoding: it is always put out as 24 bit. (The conversion as forced by the <i>format</i> line only comes after that.)</div>
<p>If one wants to leave the bit depth decision to ALSA resp. MPD, comment out resp. omit the <i>dmix.format</i> line and change the one for mpd with <i>format</i> to "44100:*:2".
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> <i>Crossfading</i> between files decoded at two different bit depths (say, one mp3 and one 16 bit flac) does not work unless conversion is active.</div>
<h2><span class=mw-headline id=Control_MPD_with_lirc>Control MPD with lirc</span></h2>
<p>There are already some clients designed for communications between lircd and MPD, however, as far as the practical use, they are not very useful since their functions are limited.
<p>It is recommended to use mpc with irexec. mpc is a command line player which only sends the command to MPD and exits immediately, which is perfect for irexec, the command runner included in lirc. What irexec does is that it runs a specified command once received a remote control button.
<p>First of all, please setup your remotes as referred to the <a href=https://wiki.archlinux.org/index.php/LIRC title=LIRC>LIRC</a> article.
<p>Edit your favored lirc startup configuration file, default location is <code>~/.lircrc</code>.
<p>Fill the file with the following pattern:
</p>
<pre>begin
     prog = irexec
     button = &lt;button_name&gt;
     config = &lt;command_to_run&gt;
     repeat = &lt;0 or 1&gt;
end
</pre>
<p>An example:
</p>
<pre>## irexec
begin
     prog = irexec
     button = play_pause
     config = mpc toggle
     repeat = 0
end

begin
     prog = irexec
     button = stop
     config = mpc stop
     repeat = 0
end
begin
     prog = irexec
     button = previous
     config = mpc prev
     repeat = 0
end
begin
     prog = irexec
     button = next
     config = mpc next
     repeat = 0
end
begin
     prog = irexec
     button = volup
     config = mpc volume +2
     repeat = 1
end
begin
     prog = irexec
     button = voldown
     config = mpc volume -2
     repeat = 1
end
begin
     prog = irexec
     button = pbc
     config = mpc random
     repeat = 0
end
begin
     prog = irexec
     button = pdvd
     config = mpc update
     repeat = 0
end
begin
     prog = irexec
     button = right
     config = mpc seek +00:00:05
     repeat = 0
end
begin
     prog = irexec
     button = left
     config = mpc seek -00:00:05
     repeat = 0
end
begin
     prog = irexec
     button = up
     config = mpc seek +1%
     repeat = 0
end
begin
     prog = irexec
     button = down
     config = mpc seek -1%
     repeat = 0
end
</pre>
<p>There are more functions for mpc, run <span class="plainlinks archwiki-template-man" title="$ man 1 mpc"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/mpc.1>mpc(1)</a></span> for more info.
</p>
<h2><span class=mw-headline id=PulseAudio>PulseAudio</span></h2>
<h3><span id=Local_.28as_your_own_user.29></span><span class=mw-headline id=Local_(as_your_own_user)>Local (as your own user)</span></h3>
<p>No special options are required; just add a pulse output as described in the comments of mpd's config file.
</p>
<h3><span id=Local_.28with_separate_mpd_user.29></span><span class=mw-headline id=Local_(with_separate_mpd_user)>Local (with separate mpd user)</span></h3>
<p>When run as its own user as per the wiki instructions, mpd will be unable to send sound to another user's pulseaudio server. Rather than setting up pulseaudio as a system-wide daemon, a practice strongly discouraged by upstream, you can instead configure mpd to use pulseaudio's TCP module to send sound to localhost:
<p>First, edit the PulseAudio configuration - either the user configuration in <code>$XDG_CONFIG_HOME/pulse/default.pa</code> (typically <code>~/.config/pulse/default.pa</code>) if it exists, otherwise the system-wide configuration file in <code>/etc/pulse/default.pa</code> and uncomment the TCP module and set 127.0.0.1 as an allowed IP address like this:
</p>
<pre>### Network access (may be configured with paprefs, so leave this commented
### here if you plan to use paprefs)
#load-module module-esound-protocol-tcp
load-module module-native-protocol-tcp auth-ip-acl=127.0.0.1
#load-module module-zeroconf-publish
</pre>
<p>Additional IP ranges in cidr notation may be added using <code>;</code> as the separator. Once this is complete, restart pulseaudio:
</p>
<pre>$ pulseaudio --kill
$ pulseaudio --start -or- start-pulseaudio-x11/kde
</pre>
<p>Next, edit <code>/etc/mpd.conf</code> and add a new pulse output pointing to 127.0.0.1 as a "remote" server:
</p>
<pre>audio_output {
       type		"pulse"
       name		"Local Music Player Daemon"
       server		"127.0.0.1"
}
</pre>
<p>Once this is added, restart mpd.
<p>You should now have a working local mpd, usable by all users whose pulseaudio servers allow sound from 127.0.0.1.
</p>
<h3><span class=mw-headline id=Remote>Remote</span></h3>
<p>As with any PulseAudio-enabled program, mpd can send sound over the network. The complete PulseAudio system is not required on the server running mpd; <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://archlinux.org/packages/?name=libpulse">libpulse</a></span> is the only requirement to act as a source and is already a dependency of mpd.
<p>In order to send audio from mpd to another computer follow the directions above, editing <code>/etc/mpd.conf</code> on the server running mpd using the IP address of the target computer and <code>/etc/pulse/default.pa</code> or <code>$XDG_CONFIG_HOME/default.pa</code> (typically <code>~/.config/pulse/default.pa</code>) on the target computer using the IP address of the server.
<p>Once this is done, the server's mpd source should show up on the target computer while playing or paused as a normal source able to be rerouted and controlled as usual; there will be no visible source on the target while mpd is stopped.
</p>
<h2><span class=mw-headline id=Cue_Files>Cue Files</span></h2>
<p>No additional steps are needed for cue support in mpd since 0.17. MPD has its own integrated parser which works with both external and embedded cuesheets.
For example, the command <code>mpc load albumx/x.cue</code> loads the file <code><i>music_directory</i>/albumx/x.cue</code> as playlist; or in the case of an CUESHEET tag, <code>mpc load albumx/x.flac</code>.
<p>Client support of CUE files is a bit limited. Two available programs that do support CUE files are <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://archlinux.org/packages/?name=cantata">cantata</a></span> and <a href=https://wiki.archlinux.org/index.php/Ncmpcpp title=Ncmpcpp>ncmpcpp</a>.
</p>
<h2><span class=mw-headline id=HTTP_streaming>HTTP streaming</span></h2>
<p>Since version 0.15 there is a built-in HTTP streaming daemon/server that comes with MPD. This allows MPD to broadcast its music to HTTP clients.
<p>This is not meant to be used as a streaming solution (e.g. replacement of Spotify, Deezer, etc.). First, it only allows one stream to be played, and multiple users cannot listen to multiple musics at the same time. Second, MPD buffers audio a lot so that it plays reliably even when the client drops the connection for a while, therefore it introduces a non-negligeable latency when changing songs. To use MPD as a streaming solution, see <a href=#Music_streaming_with_the_satellite_setup>#Music streaming with the satellite setup</a>.
</p>
<h3><span class=mw-headline id=Configuration>Configuration</span></h3>
<p>To activate this server simply set it as output device in mpd.conf:
</p>
<pre>audio_output {
	type		"httpd"
	name		"My HTTP Stream"
	encoder		"vorbis"		# optional
	port		"8000"
#	quality		"5.0"			# do not define if bitrate is defined
	bitrate		"128"			# do not define if quality is defined
	format		"44100:16:1"
	always_on       "yes"			# prevent MPD from disconnecting all listeners when playback is stopped.
	tags            "yes"			# httpd supports sending tags to listening streams.
}
</pre>
<h4><span class=mw-headline id=Format>Format</span></h4>
<p>MPD supports several encoding formats. See what your MPD supports with:
</p>
<pre>$ mpd --version
</pre>
<h3><span class=mw-headline id=Use>Use</span></h3>
<p>Then to listen to this stream simply open the URL of your mpd server (along with the specified port) in your favorite music player. Note: You may have to specify the file format of the stream using an appropriate file extension in the URL. For example, using Winamp 5.5, You would use <a rel=nofollow class="external free" href=http://192.168.1.2:8000/mpd.ogg>http://192.168.1.2:8000/mpd.ogg</a> rather than <a rel=nofollow class="external free" href=http://192.168.1.2:8000/>http://192.168.1.2:8000/</a>.
<p>To use mpd to connect to the stream from another computer:
</p>
<pre>mpc add <a rel=nofollow class="external free" href=http://192.168.1.2:8000/>http://192.168.1.2:8000</a>
</pre>
<h2><span class=mw-headline id=Music_streaming_with_the_satellite_setup>Music streaming with the satellite setup</span></h2>
<p>While <a href=#HTTP_streaming>#HTTP streaming</a> allows the user to broadcast its music over HTTP, the satellite setup allows multiple users to listen to different songs at the same time, on separate machines.
</p>
<h3><span class=mw-headline id=Topology>Topology</span></h3>
<p>The satellite setup involves two or more machines: a <i>server</i> and multiple <i>clients</i>. The <i>server</i> is typically the machine that has the music files. It runs an MPD instance that will browse these files and build a database. The <i>clients</i> are the machines that will actually play the music (e.g. your phone or your laptop). They will also run MPD instances, though these ones will fetch the database from the <i>server</i> MPD and play the music. You might notice that MPD on the <i>server</i> is not necessary, however it greatly increases the speed to list all songs, as the <i>clients</i> MPD will not have to browse all the files remotely.
<p>Besides, you will need a way for the <i>server</i> to make the music files available to the <i>clients</i>. MPD supports multiple <a rel=nofollow class="external text" href=https://www.musicpd.org/doc/html/plugins.html#storage-plugins>storage plugins</a> to fetch the music with. For example, if you choose the curl plugin, you will need a <a href=https://wiki.archlinux.org/index.php/WebDAV title=WebDAV>WebDAV</a> server on the <i>server</i>.
<p>Finally, you will need a secure communication tunnel between the <i>server</i> and each <i>client</i>. This is because the protocol used to control MPD is not encrypted and does not provide authentication. A <a href=https://wiki.archlinux.org/index.php/VPN class=mw-redirect title=VPN>VPN</a> or a SSH tunnel will be useful here.
</p>
<h3><span class=mw-headline id=Configuration_2>Configuration</span></h3>
<p>On the <i>server</i>, write the configuration file for the MPD instance that will build the database:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:0.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/mpd.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:0.8em>pid_file            "/run/mpd/mpd.pid"
playlist_directory  "/var/lib/mpd/playlists"
music_directory     "/path/to/your/music/"

database {
    plugin           "simple"
    path             "/var/lib/mpd/mpd.db"
    cache_directory  "/var/lib/mpd/cache"
}

audio_output {
    type  "null"
    name  "<i>This server does not need to play music, but it can</i>"
}
</pre>
<p>Then, setup either the <a href=https://wiki.archlinux.org/index.php/WebDAV title=WebDAV>WebDAV</a> server, the <a href=https://wiki.archlinux.org/index.php/NFS title=NFS>NFS</a> server or the <a href=https://wiki.archlinux.org/index.php/Samba title=Samba>Samba</a> share.
<p>On each <i>client</i>, write the configuration file for the MPD instance that will play the music:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:0.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/mpd.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:0.8em>pid_file            "/run/mpd/mpd.pid"
playlist_directory  "/var/lib/mpd/playlists"

# WebDAV setup
music_directory     "https://<i>optional_user:optional_password@example.com/path/to/your/music/</i>"

# NFS setup
music_directory     "nfs://<i>example.com/path/to/your/music/</i>"

# Samba setup
music_directory     "smb://<i>example.com/path/to/your/music/</i>"

# Note the proxy here
database {
    plugin  "proxy"
    host    "<i>example.com</i>"
    port    "6600"
}

audio_output {
    type  "alsa"
    name  "<i>Some output name</i>"
}
</pre>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> On Android the configuration file needs to be at the root of the user storage, alongside the <code>Android</code> folder. Also, files MPD writes to need to lie in the application folder, generally in <code>/data</code>. For example:
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:0.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/storage/emulated/0/mpd.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:0.8em>music_directory  "http://<i>example.com/Music</i>"
log_file         "/data/user/0/org.musicpd/cache/log"
state_file       "/data/user/0/org.musicpd/cache/state"

audio_output {
    type  "sles"
    name  "<i>Android only supports OpenSL ES</i>"
}
</pre>
</div>
<h2><span class=mw-headline id=MPRIS_support>MPRIS support</span></h2>
<p>See also <a href=https://wiki.archlinux.org/index.php/MPRIS title=MPRIS>MPRIS</a>.
</p>
<h3><span class=mw-headline id=mpDris2>mpDris2</span></h3>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/mpDris2/>mpDris2</a></span><sup><small>AUR</small></sup> package. It runs in the user session and monitors the mpd server.
<p>Copy the default configuration file from <code>/usr/share/doc/mpdris2/mpDris2.conf</code> to <code>~/.config/mpDris2/mpDris2.conf</code>. Edit it as needed.
<p>mpDris2 has a <code>.desktop</code> file, but it will not show up by default. You can set this to autostart at login. If your desktop environment cannot do this, you can set it manually by making a symlink in <code>~/.config/autostart/</code>
</p>
<pre>$ ln -s /usr/share/applications/mpdris2.desktop ~/.config/autostart/
</pre>
<p>It should now be autorun at login.
</p>
<h3><span class=mw-headline id=mpd-mpris>mpd-mpris</span></h3>
<p>Install the <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/mpd-mpris/>mpd-mpris</a></span><sup><small>AUR</small></sup> package.
<p>After installation, you can start or enable the <code>mpd-mpris.service</code> user service through <a href=https://wiki.archlinux.org/index.php/Systemd title=Systemd>systemd</a>.
<p>By default mpd-mpris connects to <code>localhost:6600</code> (which is the default host/port of <a href=https://wiki.archlinux.org/index.php/Mpd class=mw-redirect title=Mpd>mpd</a>). To change this settings copy <code>/usr/lib/systemd/user/mpd-mpris.service</code> to <code>~/.config/systemd/user/</code> then edit run parameters as needed.
</p>
<h2><span class=mw-headline id=Notifications>Notifications</span></h2>
<p>The <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/mpDris2/>mpDris2</a></span><sup><small>AUR</small></sup> package optionally supports displaying graphical notifications.
If you do not want <a rel=nofollow class="external text" href=https://specifications.freedesktop.org/mpris-spec/latest/>mpris</a> support and are looking for a more <i>lightweight</i> or <i>specific</i> option, here are some alternatives:
</p>
<h3><span class=mw-headline id=musnify-mpd>musnify-mpd</span></h3>
<p><a rel=nofollow class="external text" href=https://github.com/felipemarinho97/musnify-mpd>musnify-mpd</a> is a simple <a href=https://wiki.archlinux.org/index.php/Python title=Python>python</a> script that provides notification support for <a href=https://wiki.archlinux.org/index.php/Music_Player_Daemon title="Music Player Daemon">Music Player Daemon</a> using <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://archlinux.org/packages/?name=libnotify">libnotify</a></span>.
It can also display the album covers loaded from <i>last fm</i> or load it from the user-local music library.
<p><span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/musnify-mpd/>musnify-mpd</a></span><sup><small>AUR</small></sup> is available from the <a href=https://wiki.archlinux.org/index.php/AUR class=mw-redirect title=AUR>AUR</a>.
<p>After installation you may want to configure your mpd <b>host</b> and <b>port</b>. To do this copy the ".example" file into <code>~/.config/musnify-mpd</code>
</p>
<pre>$ mkdir ~/.config/musnify-mpd 
$ cp /usr/share/doc/musnify-mpd/musnify-mpdconfig.example ~/.config/musnify-mpd/musnify-mpd.config
</pre>
<p>Example configuration:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:0.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>~/.config/musnify-mpd/musnify-mpd.config</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:0.8em>[mpd]
host = localhost
port = 6600

# This is where musnify-mpd will look for when searching the local album covers.
musiclibrary = ~/Music
#

[apiKey]
# If you want to fetch the album covers from LastFm,
# enable this option and provide a apiKey.
# You can get your apiKey here: <a rel=nofollow class="external free" href=https://www.last.fm/api/account/create>https://www.last.fm/api/account/create</a>
#
# lastfm = YOUR_LASTFM_API_KEY</pre>
<p>To enable artworks from last.fm, you will need to edit <code>~/.config/musnify-mpd</code> and provide a apiKey. You can create your apiKey <a rel=nofollow class="external text" href=https://www.last.fm/api/account/create>here</a>
</p>
<h3><span class=mw-headline id=mpd-notification>mpd-notification</span></h3>
<p>Notify about tracks played by <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://archlinux.org/packages/?name=mpd">mpd</a></span>. This runs in the background and produces notifications whenever mpd produces an event (e.g. new track is played, playback paused or stopped). This also supports local or <code>.mp3</code> album artworks.
<p><span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/mpd-notification/>mpd-notification</a></span><sup><small>AUR</small></sup> is available from <a href=https://wiki.archlinux.org/index.php/AUR class=mw-redirect title=AUR>AUR</a>.
<p>After installation, just run <code>mpd-notification</code> to run it once. A <a href=https://wiki.archlinux.org/index.php/Systemd title=Systemd>systemd</a> user service can be enabled with 
</p>
<pre>$ systemctl --user enable mpd-notification
</pre>
<h2><span id=Adding_a_separate_volume_control_.28ALSA.29></span><span class=mw-headline id=Adding_a_separate_volume_control_(ALSA)>Adding a separate volume control (ALSA)</span></h2>
<p>While MPD does not allow you to adjust its own volume by default (<code>mpc volume</code> affects global volume), you can easily make a MPD-specific volume slider using the <i>softvol</i> <a href=https://wiki.archlinux.org/index.php/ALSA class=mw-redirect title=ALSA>ALSA</a> module. Just add this to <code>asound.conf</code>:
</p>
<pre>pcm.mpd {
    type softvol
    slave.pcm "default"
    control.name "MPD Playback Volume"
    control.card 0
}
</pre>
<p>And link it to MPD:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:0.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>mpd.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:0.8em>audio_output {
    type "alsa"
    name "ALSA"
    device "mpd"
    mixer_control "MPD"
}
</pre>
<p>Afterwards you should be able to adjust song volume both through <code>mpc</code> and <code>amixer</code>. (You may need to reboot for the control to work properly.)
</p>
<h2><span class=mw-headline id=Control_the_remote_mpd_server>Control the remote mpd server</span></h2>
<p>To control the remote mpd server, if you have an ssh server on the same machine, you can login and use <a href=https://wiki.archlinux.org/index.php/Ncmpcpp title=Ncmpcpp>ncmpcpp</a> to control it.
<p>Or, if your mpd server is listening on an accessible interface/port (<code>$ ss -p -l -t</code> on the mpd machine will show mpd listening on 0.0.0.0, for example) then you can set the MPD_HOST variable which directs a local client like mpc to the remote server.
</p>
<pre>$ export MPD_HOST=ip.of.server
$ export MPD_PORT=6600      # optional
$ mpc play
</pre>
</div></div><div class="printfooter sf-hidden">Retrieved from ""</div>
 <div id=catlinks class=catlinks data-mw=interface><div id=mw-normal-catlinks class=mw-normal-catlinks><a href=https://wiki.archlinux.org/index.php/Special:Categories title=Special:Categories>Category</a>: <ul><li><a href=https://wiki.archlinux.org/index.php/Category:Music title=Category:Music>Music</a></ul></div></div>
 </div>
</div>
