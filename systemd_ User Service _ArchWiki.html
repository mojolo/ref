<!DOCTYPE html> <html class=client-js dir=ltr lang=en><!--
 Page saved with SingleFile 
 url: https://wiki.archlinux.org/index.php/Systemd/User 
 saved date: Sat Jan 25 2020 05:01:37 GMT+0000 (Coordinated Universal Time)
--><meta charset=utf-8><style>:root{--sf-img-1:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAs0lEQVR4AWP4//8/yRiroHH6njrjtN1/sGGYJpwajdJ2bXNI2M8BE8PQhMXUv0B8yThtMxeGJgyBmf9ZDRO3iRqn775rmL5NCyQG0giyEacm0WWvVstNvnNXt+hYNogP0giyEeRUnJpkVj3mBGqcC8SvNGrOVIJsBDkV5EecmmBYZOnrbqmZD1+CnAqTA2nEq4lh/38W0aWv9gGxF4YcpiYEFlz1jh+kGa8m3BhTE1GYYk0A08+9f1lXOBcAAAAASUVORK5CYII=");--sf-img-3:url("data:image/png;base64,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");--sf-img-4:url("data:image/png;base64,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")}</style><style class="darkreader darkreader--user-agent" media=screen>[data-darkreader-inline-border-bottom]{border-bottom-color:var(--darkreader-inline-border-bottom)!important}html{background-color:#2f2f2e!important}html,body,input{background-color:#2f2f2e}html,body,input{border-color:#837f79;color:#ffffff}a{color:#6ec8ff}::placeholder{color:#fffbe4}::selection{background-color:#2983ed;color:#ffffff}::-moz-selection{background-color:#2983ed;color:#ffffff}::-webkit-scrollbar{background-color:#343433;color:#fffff5}::-webkit-scrollbar-thumb{background-color:#474745}::-webkit-scrollbar-corner{background-color:#2f2f2e}*{scrollbar-color:#474745 #343433}</style>
<title>systemd/User - ArchWiki</title>
<style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style>
<style>@media screen{.mw-content-ltr{direction:ltr}.sitedir-ltr input{direction:ltr}@supports (text-decoration:underline dotted){abbr[title],.explain[title]{border-bottom:0;text-decoration:underline dotted}}#catlinks{text-align:left}.catlinks ul{display:inline;margin:0;padding:0;list-style:none none}.catlinks li{display:inline-block;line-height:1.25em;border-left:1px solid #a2a9b1;margin:.125em 0;padding:0 .5em}.catlinks li:first-child{padding-left:.25em;border-left:0}.plainlinks a.external{background:none!important;padding:0!important}.mw-content-ltr ul{margin:.3em 0 0 1.6em;padding:0}.mw-content-ltr ol{margin:.3em 0 0 3.2em;padding:0}h1:lang(anp),h1:lang(as),h1:lang(bh),h1:lang(bho),h1:lang(bn),h1:lang(gu),h1:lang(hi),h1:lang(kn),h1:lang(ks),h1:lang(ml),h1:lang(mr),h1:lang(my),h1:lang(mai),h1:lang(ne),h1:lang(new),h1:lang(or),h1:lang(pa),h1:lang(pi),h1:lang(sa),h1:lang(ta),h1:lang(te){line-height:1.6em!important}h2:lang(anp),h3:lang(anp),h4:lang(anp),h5:lang(anp),h6:lang(anp),h2:lang(as),h3:lang(as),h4:lang(as),h5:lang(as),h6:lang(as),h2:lang(bho),h3:lang(bho),h4:lang(bho),h5:lang(bho),h6:lang(bho),h2:lang(bh),h3:lang(bh),h4:lang(bh),h5:lang(bh),h6:lang(bh),h2:lang(bn),h3:lang(bn),h4:lang(bn),h5:lang(bn),h6:lang(bn),h2:lang(gu),h3:lang(gu),h4:lang(gu),h5:lang(gu),h6:lang(gu),h2:lang(hi),h3:lang(hi),h4:lang(hi),h5:lang(hi),h6:lang(hi),h2:lang(kn),h3:lang(kn),h4:lang(kn),h5:lang(kn),h6:lang(kn),h2:lang(ks),h3:lang(ks),h4:lang(ks),h5:lang(ks),h6:lang(ks),h2:lang(ml),h3:lang(ml),h4:lang(ml),h5:lang(ml),h6:lang(ml),h2:lang(mr),h3:lang(mr),h4:lang(mr),h5:lang(mr),h6:lang(mr),h2:lang(my),h3:lang(my),h4:lang(my),h5:lang(my),h6:lang(my),h2:lang(mai),h3:lang(mai),h4:lang(mai),h5:lang(mai),h6:lang(mai),h2:lang(ne),h3:lang(ne),h4:lang(ne),h5:lang(ne),h6:lang(ne),h2:lang(new),h3:lang(new),h4:lang(new),h5:lang(new),h6:lang(new),h2:lang(or),h3:lang(or),h4:lang(or),h5:lang(or),h6:lang(or),h2:lang(pa),h3:lang(pa),h4:lang(pa),h5:lang(pa),h6:lang(pa),h2:lang(pi),h3:lang(pi),h4:lang(pi),h5:lang(pi),h6:lang(pi),h2:lang(sa),h3:lang(sa),h4:lang(sa),h5:lang(sa),h6:lang(sa),h2:lang(ta),h3:lang(ta),h4:lang(ta),h5:lang(ta),h6:lang(ta),h2:lang(te),h3:lang(te),h4:lang(te),h5:lang(te),h6:lang(te){line-height:1.2em}ol:lang(azb) li,ol:lang(bcc) li,ol:lang(bgn) li,ol:lang(bqi) li,ol:lang(fa) li,ol:lang(glk) li,ol:lang(kk-arab) li,ol:lang(lrc) li,ol:lang(luz) li,ol:lang(mzn) li{list-style-type:-moz-persian;list-style-type:persian}ol:lang(ckb) li,ol:lang(sdh) li{list-style-type:-moz-arabic-indic;list-style-type:arabic-indic}ol:lang(hi) li,ol:lang(mai) li,ol:lang(mr) li,ol:lang(ne) li{list-style-type:-moz-devanagari;list-style-type:devanagari}ol:lang(as) li,ol:lang(bn) li{list-style-type:-moz-bengali;list-style-type:bengali}ol:lang(or) li{list-style-type:-moz-oriya;list-style-type:oriya}.toc ul{margin:.3em 0}.mw-content-ltr .toc ul{text-align:left}.mw-content-ltr .toc ul ul{margin:0 0 0 2em}.toc .toctitle{direction:ltr}sup{line-height:1}}@media screen{a{text-decoration:none;color:#0645ad;background:0}a:not([href]){cursor:pointer}a:visited{color:#0b0080}a:active{color:#faa700}a:hover,a:focus{text-decoration:underline}a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}.mw-parser-output a.external{color:#36b}.mw-parser-output a.external:visited{color:#636}.mw-parser-output a.external:active{color:#b63}img{border:0;vertical-align:middle}h1,h2,h3,h4{color:#000;background:0;font-weight:normal;margin:0;overflow:hidden;padding-top:.5em;padding-bottom:.17em;border-bottom:1px solid #a2a9b1}h1{font-size:188%}h2{font-size:150%}h3,h4{border-bottom:0;font-weight:bold}h3{font-size:128%}h4{font-size:116%}h2{margin-bottom:.6em}h3,h4{margin-bottom:.3em}p{margin:.4em 0 .5em 0}p img{margin:0}ul{margin:.3em 0 0 1.6em;padding:0}ol{margin:.3em 0 0 3.2em;padding:0;list-style-image:none}li{margin-bottom:.1em}pre,code{font-family:monospace,monospace}code{color:#000;background-color:#f8f9fa;border:1px solid #eaecf0;border-radius:2px;padding:1px 4px}pre{color:#000;background-color:#f8f9fa;border:1px solid #eaecf0;padding:1em;white-space:pre-wrap}.toc{border:1px solid #a2a9b1;background-color:#f8f9fa;font-size:95%}.toc{display:table;padding:7px}.toc h2{display:inline;border:0;padding:0;font-size:100%;font-weight:bold}.toc .toctitle{text-align:center}.toc ul{list-style-type:none;list-style-image:none;margin-left:0;padding:0;text-align:left}.toc ul ul{margin:0 0 0 2em}.tocnumber,.toctext{display:table-cell;text-decoration:inherit}.tocnumber{color:#222}.mw-content-ltr .tocnumber{padding-left:0;padding-right:.5em}.catlinks{border:1px solid #a2a9b1;background-color:#f8f9fa;padding:5px;margin-top:1em;clear:both}.firstHeading{margin-bottom:.1em;line-height:1.2em;padding-bottom:0}#contentSub{font-size:84%;line-height:1.2em;margin:0 0 1.4em 1em;color:#54595d;width:auto}span.subpages{display:block}}.toctogglecheckbox:checked~ul{display:none}@media screen{:not(:checked)>.toctogglecheckbox{display:inline!important;position:absolute;opacity:0;z-index:-1}.toctogglespan{font-size:94%}:not(:checked)>.toctogglespan:before{content:' ['}:not(:checked)>.toctogglespan:after{content:']'}.toctogglelabel{cursor:pointer;color:#0645ad}.toctogglelabel:hover{text-decoration:underline}.toctogglecheckbox:focus+.toctitle .toctogglelabel{text-decoration:underline;outline:dotted 1px;outline:auto -webkit-focus-ring-color}.toctogglecheckbox:checked+.toctitle .toctogglelabel:after{content:'show'}.toctogglecheckbox:not(:checked)+.toctitle .toctogglelabel:after{content:'hide'}}@media screen{html{font-size:100%}html,body{height:100%;margin:0;padding:0;font-family:sans-serif}body{background-color:#f6f6f6}.mw-body{padding:1em;background-color:#fff;color:#222;direction:ltr}.mw-body{margin-left:10em;border:1px solid #a7d7f9;border-right-width:0;margin-top:-1px}.mw-body h1,.mw-body-content h2{font-family:'Linux Libertine','Georgia','Times',serif;line-height:1.3;margin-bottom:.25em;padding:0}.mw-body h1:lang(ja),.mw-body-content h1:lang(ja),.mw-body-content h2:lang(ja),.mw-body h1:lang(he),.mw-body-content h1:lang(he),.mw-body-content h2:lang(he),.mw-body h1:lang(ko),.mw-body-content h1:lang(ko),.mw-body-content h2:lang(ko){font-family:sans-serif}.mw-body h1:lang(my),.mw-body-content h1:lang(my),.mw-body-content h2:lang(my){line-height:normal}.mw-body h1{font-size:1.8em}.mw-body .firstHeading{overflow:visible}.mw-body-content{position:relative;line-height:1.6;font-size:.875em;z-index:0}.mw-body-content p{line-height:inherit;margin:.5em 0}.mw-body-content h2{font-size:1.5em;margin-top:1em}.mw-body-content h3,.mw-body-content h4{line-height:1.6;margin-top:.3em;margin-bottom:0;padding-bottom:0}.mw-body-content h3{font-size:1.2em}.mw-body-content h3,.mw-body-content h4{font-weight:bold}.mw-body-content h4{font-size:100%}.mw-body-content .toc h2{font-size:100%;font-family:sans-serif}ul{list-style-image:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%225%22 height=%2213%22%3E %3Ccircle cx=%222.5%22 cy=%229%22 r=%222.5%22 fill=%22%23222%22/%3E %3C/svg%3E")}pre{line-height:1.3em}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}.mw-jump-link:not(:focus){display:block;position:absolute!important;clip:rect(1px,1px,1px,1px);width:1px;height:1px;margin:-1px;border:0;padding:0;overflow:hidden}.mw-parser-output .external{background-position:center right;background-repeat:no-repeat;background-image:linear-gradient(transparent,transparent),url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%2212%22%3E %3Cpath fill=%22%23fff%22 stroke=%22%2336c%22 d=%22M1.5 4.518h5.982V10.5H1.5z%22/%3E %3Cpath fill=%22%2336c%22 d=%22M5.765 1H11v5.39L9.427 7.937l-1.31-1.31L5.393 9.35l-2.69-2.688 2.81-2.808L4.2 2.544z%22/%3E %3Cpath fill=%22%23fff%22 d=%22M9.995 2.004l.022 4.885L8.2 5.07 5.32 7.95 4.09 6.723l2.882-2.88-1.85-1.852z%22/%3E %3C/svg%3E");padding-right:13px}}@media screen and (min-width:982px){.mw-body{margin-left:11em}.mw-body{padding:1.25em 1.5em 1.5em 1.5em}}@media screen and (max-width:720px){div#content{border-left:0;margin-left:0}}body{background:#f6f9fc}#content{background:#fff;border:1px solid #ccc}#content h1,#content h2,#content h3,#content h4,#content pre,#content code{color:#222}#content ul{list-style-image:none}#content pre{border:1px solid #bcd;overflow:auto;word-break:break-all;white-space:pre-wrap!important}#content pre,#content code{background-color:#ebf1f5;font-family:monospace}#content code{display:inline-block;padding:0 .3em;border-width:0;border-radius:0}#toc{background-color:#f9faff;border:1px solid #d7dfe3}#bodyContent>div.mw-content-ltr a{font-weight:bold}#bodyContent #toc a{font-weight:normal}#content a:not(.new),#mw-navigation li:not(.new) a:not(.new),#mw-panel li:not(.new) a:not(.new),#column-one li:not(.new) a:not(.new),#footer a:not(.new){text-decoration:none;color:#07b!important}#content a:not(.new):hover,#mw-navigation li:not(.new) a:not(.new):hover,#mw-panel li:not(.new) a:not(.new):hover,#column-one li:not(.new) a:not(.new):hover,#footer a:not(.new):hover{text-decoration:underline;background-color:transparent;color:#999!important}#content a:active,#mw-navigation li:not(.new) a:active,#mw-panel li:not(.new) a:active,#column-one li:not(.new) a:active,#footer a:active,#content a:focus,#mw-navigation li:not(.new) a:focus,#mw-panel li:not(.new) a:focus,#column-one li:not(.new) a:focus,#footer a:focus,#content a:active:hover,#mw-navigation li:not(.new) a:active:hover,#mw-panel li:not(.new) a:active:hover,#column-one li:not(.new) a:active:hover,#footer a:active:hover,#content a:focus:hover,#mw-navigation li:not(.new) a:focus:hover,#mw-panel li:not(.new) a:focus:hover,#column-one li:not(.new) a:focus:hover,#footer a:focus:hover{color:#e90!important}#content a:not(.new):visited,#mw-panel li:not(.new) a:not(.new):visited,#p-navigation li:not(.new) a:not(.new):visited,#p-tb li:not(.new) a:not(.new):visited{color:#666!important}.mw-body-content a.external{background:var(--sf-img-1) center right no-repeat;padding-right:13px}.mw-body h1,.mw-body-content h2{font-family:sans-serif}</style><style class="darkreader darkreader--sync" media=screen>@media screen{.catlinks li{border-left-color:rgb(102,105,107)}.catlinks li:first-child{border-left-color:currentcolor}.plainlinks a.external{background-color:rgba(14,13,13,0)!important;background-image:none!important}a{text-decoration-color:currentcolor;color:rgb(175,243,255);background-color:rgba(14,13,13,0);background-image:none}a:visited{color:rgb(203,186,255)}a:active{color:rgb(255,255,112)}a:hover,a:focus{text-decoration-color:currentcolor}a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration-color:currentcolor}.mw-parser-output a.external{color:rgb(189,233,255)}.mw-parser-output a.external:visited{color:rgb(255,245,255)}.mw-parser-output a.external:active{color:rgb(255,222,172)}img{border-color:currentcolor}h1,h2,h3,h4{color:rgb(255,255,255);background-color:rgba(14,13,13,0);background-image:none;border-bottom-color:rgb(102,105,107)}h3,h4{border-bottom-color:currentcolor}code{color:rgb(255,255,255);background-color:rgb(49,50,48);border-color:rgb(82,87,95)}pre{color:rgb(255,255,255);background-color:rgb(49,50,48);border-color:rgb(82,87,95)}.toc{border-color:rgb(102,105,107);background-color:rgb(49,50,48)}.toc h2{border-color:currentcolor}.tocnumber,.toctext{text-decoration-color:inherit}.tocnumber{color:rgb(255,255,255)}.catlinks{border-color:rgb(102,105,107);background-color:rgb(49,50,48)}#contentSub{color:rgb(255,255,247)}}@media screen{.toctogglelabel{color:rgb(175,243,255)}.toctogglelabel:hover{text-decoration-color:currentcolor}.toctogglecheckbox:focus+.toctitle .toctogglelabel{text-decoration-color:currentcolor;outline-color:currentcolor}body{background-color:rgb(50,50,49)}.mw-body{background-color:rgb(47,47,46);color:rgb(255,255,255)}.mw-body{border-color:rgb(52,133,187)}.mw-jump-link:not(:focus){border-color:currentcolor}.mw-parser-output .external{background-image:linear-gradient(rgba(14,13,13,0),rgba(14,13,13,0)),url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%2212%22%3E %3Cpath fill=%22%23fff%22 stroke=%22%2336c%22 d=%22M1.5 4.518h5.982V10.5H1.5z%22/%3E %3Cpath fill=%22%2336c%22 d=%22M5.765 1H11v5.39L9.427 7.937l-1.31-1.31L5.393 9.35l-2.69-2.688 2.81-2.808L4.2 2.544z%22/%3E %3Cpath fill=%22%23fff%22 d=%22M9.995 2.004l.022 4.885L8.2 5.07 5.32 7.95 4.09 6.723l2.882-2.88-1.85-1.852z%22/%3E %3C/svg%3E")}}@media screen and (max-width:720px){div#content{border-left-color:currentcolor}}body{background-color:rgb(50,50,49);background-image:none}#content{background-color:rgb(47,47,46);background-image:none;border-color:rgb(96,93,88)}#content h1,#content h2,#content h3,#content h4,#content pre,#content code{color:rgb(255,255,255)}#content pre{border-color:rgb(83,104,122)}#content pre,#content code{background-color:rgb(55,55,53)}#toc{background-color:rgb(49,50,48);border-color:rgb(86,99,101)}#content a:not(.new),#mw-navigation li:not(.new) a:not(.new),#mw-panel li:not(.new) a:not(.new),#column-one li:not(.new) a:not(.new),#footer a:not(.new){text-decoration-color:currentcolor;color:rgb(166,255,255)!important}#content a:not(.new):hover,#mw-navigation li:not(.new) a:not(.new):hover,#mw-panel li:not(.new) a:not(.new):hover,#column-one li:not(.new) a:not(.new):hover,#footer a:not(.new):hover{text-decoration-color:currentcolor;background-color:transparent;color:rgb(255,251,228)!important}#content a:active,#mw-navigation li:not(.new) a:active,#mw-panel li:not(.new) a:active,#column-one li:not(.new) a:active,#footer a:active,#content a:focus,#mw-navigation li:not(.new) a:focus,#mw-panel li:not(.new) a:focus,#column-one li:not(.new) a:focus,#footer a:focus,#content a:active:hover,#mw-navigation li:not(.new) a:active:hover,#mw-panel li:not(.new) a:active:hover,#column-one li:not(.new) a:active:hover,#footer a:active:hover,#content a:focus:hover,#mw-navigation li:not(.new) a:focus:hover,#mw-panel li:not(.new) a:focus:hover,#column-one li:not(.new) a:focus:hover,#footer a:focus:hover{color:rgb(255,255,119)!important}#content a:not(.new):visited,#mw-panel li:not(.new) a:not(.new):visited,#p-navigation li:not(.new) a:not(.new):visited,#p-tb li:not(.new) a:not(.new):visited{color:rgb(255,255,241)!important}.mw-body-content a.external{background-color:rgba(14,13,13,0);background-image:var(--sf-img-1)}</style>
<meta name=ResourceLoaderDynamicStyles content>
<style>#bodyContent a.external[href^="https://wiki.archlinux.org"]{background:0;padding-right:0}span.archwiki-template-pkg,span.archwiki-template-man{font-family:monospace}div.archwiki-template-box{padding:5px;border:thin solid black;margin:.5em 0;overflow:hidden}div.archwiki-template-box.archwiki-template-box-note{background-color:#ddf;border-color:#bbd}div.archwiki-template-box.archwiki-template-box-warning{background-color:#fdd;border-color:#dbb}div.archwiki-template-box.archwiki-template-box-tip{background-color:#dfd;border-color:#bdb}div.archwiki-template-message{position:relative;overflow:hidden;min-height:4.6em;margin-bottom:1em;background-color:#f9faff;border:1px solid #d7dfe3;padding:0 100px;text-align:center}div.archwiki-template-message>p>a{display:block;position:absolute;top:5px}div.archwiki-template-message>p>a:first-of-type{left:26px}div.archwiki-template-message>p>a:last-of-type{right:26px}div.archwiki-template-message>div{font-size:90%}div.archwiki-template-meta-related-articles-start{float:right;clear:right;width:25%;margin:0 0 .5em .5em}div.archwiki-template-meta-related-articles-start>p{background:#333;color:white;padding:.2em;border-bottom:5px #08c solid;margin:0;text-align:center;font-weight:bold}div.archwiki-template-meta-related-articles-start>ul{list-style-type:none;margin:0;padding:.3em}div.archwiki-template-meta-related-articles-start>ul>li{padding:.4em 0;line-height:1}</style><style class="darkreader darkreader--sync" media=screen>#bodyContent a.external[href^="https://wiki.archlinux.org"]{background-color:rgba(14,13,13,0);background-image:none}div.archwiki-template-box.archwiki-template-box-note{background-color:rgb(60,60,58);border-color:rgb(78,76,119)}div.archwiki-template-box.archwiki-template-box-warning{background-color:rgb(92,20,17);border-color:rgb(128,78,73)}div.archwiki-template-box.archwiki-template-box-tip{background-color:rgb(27,97,22);border-color:rgb(85,129,76)}div.archwiki-template-message{background-color:rgb(49,50,48);border-color:rgb(86,99,101)}div.archwiki-template-meta-related-articles-start>p{background-color:rgb(79,80,79);background-image:none;color:rgb(255,255,255);border-bottom-color:rgb(52,191,255)}</style>
<meta name=generator content="MediaWiki 1.33.1">
<meta name=viewport content="width=device-width, initial-scale=1">
<link rel=search type=application/opensearchdescription+xml href=https://wiki.archlinux.org/opensearch_desc.php title="ArchWiki (en)">
<link rel=EditURI type=application/rsd+xml href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel=license href=http://www.gnu.org/copyleft/fdl.html>
<link rel=alternate type=application/atom+xml title="ArchWiki Atom feed" href="https://wiki.archlinux.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<!--[if lt IE 9]><script src="/load.php?lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
<link rel="shortcut icon" href=data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABvElEQVQ4jY2TP4gTQRTGfzM7ybp35mBX8LY4GxM5OI4UiqDWtoKIjWhl4QmmEQwIhzZaa3GLlYWgjViI+AcUrrASUYTbQ0UxepwpFj1EDCSXuLNj4QYSLxP8mnm8972P3wyMMMZgUxjF+ycLUjUW5l/YPMq6/VfnHCEmAGuAsBHsurG6QwiaRUeq2cCdfXy88nmUT9qSJ4tywVNyGxjVSbPzNp81wFNyt6cknpJ00uzk2Wfr/n8HHLrz4ajriFeuEsuekvS08Zu/eoujvFveYN+t98XAUw1jmEmN+ZEZfG2M8BzZKhVl+f6x8vexBIGn6hMFOeMqgTEEXZ2J39qwqbNSR5tLYwnmbr6b2hO4axvt1P/a6tHTw3SuI1pTrlNZPT33bSTBps7qb5K23/jZ7S8/AO72511tShud9MJIgjCKdwINYHs+e5TUqkfy2W3gVN5vA+WkVk3+Jbg8sAzwcKB+mp8G+ALUh64QRnEZOMOwPg3Ub/vEgAvcGwoArgKFvF4DrgEfBwKawHVgHagAy2EUnwAQ00sre4HXwBPgSlKrvmSMwig+CCwCh4F5Mb20chF4ntSq1h83JujAH3Eom+H9uAq8AAAAAElFTkSuQmCC><style>.sf-hidden{display:none!important}</style></head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd_User rootpage-Systemd skin-vector action-view"><div id=archnavbar class=noprint style=display:none!important>
 
 
</div>
<div id=mw-page-base class=noprint style=display:none!important></div>
<div id=mw-head-base class=noprint style=display:none!important></div>
<div id=content class=mw-body role=main>
 <a id=top style=display:none!important></a>
 
 <div class="mw-indicators mw-body-content" style=display:none!important>
</div>
 <h1 id=firstHeading class=firstHeading lang=en>systemd/User</h1>
 
 <div id=bodyContent class=mw-body-content>
 <div id=siteSub class="noprint sf-hidden">From ArchWiki</div>
 <div id=contentSub><span class=subpages>&lt; <a href=https://wiki.archlinux.org/index.php/Systemd title=Systemd>Systemd</a></span></div>
 
 
 
 <div id=jump-to-nav></div>
 <a class=mw-jump-link href=#mw-head>Jump to navigation</a>
 <a class=mw-jump-link href=#p-search>Jump to search</a>
 <div id=mw-content-text dir=ltr class=mw-content-ltr lang=en><div class=mw-parser-output><p><span></span>
</p>
<div class=archwiki-template-meta-related-articles-start><p>Related articles<ul>
<li><a href=https://wiki.archlinux.org/index.php/Systemd title=Systemd>systemd</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Automatic_login_to_virtual_console class=mw-redirect title="Automatic login to virtual console">Automatic login to virtual console</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Start_X_at_login class=mw-redirect title="Start X at login">Start X at login</a></li>
</ul></div>
<p><a href=https://wiki.archlinux.org/index.php/Systemd title=Systemd>systemd</a> offers users the ability to manage services under the user's control with a per-user systemd instance, enabling users to start, stop, enable, and disable their own units. This is convenient for daemons and other services that are commonly run for a single user, such as <a href=https://wiki.archlinux.org/index.php/Mpd class=mw-redirect title=Mpd>mpd</a>, or to perform automated tasks like fetching mail.
</p>
<div id=toc class=toc><input type=checkbox role=button id=toctogglecheckbox class=toctogglecheckbox style=display:none><div class=toctitle dir=ltr lang=en><h2>Contents</h2><span class=toctogglespan><label class=toctogglelabel for=toctogglecheckbox></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href=#How_it_works><span class=tocnumber>1</span> <span class=toctext>How it works</span></a></li>
<li class="toclevel-1 tocsection-2"><a href=#Basic_setup><span class=tocnumber>2</span> <span class=toctext>Basic setup</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href=#Environment_variables><span class=tocnumber>2.1</span> <span class=toctext>Environment variables</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href=#Service_example><span class=tocnumber>2.1.1</span> <span class=toctext>Service example</span></a></li>
<li class="toclevel-3 tocsection-5"><a href=#DISPLAY_and_XAUTHORITY><span class=tocnumber>2.1.2</span> <span class=toctext>DISPLAY and XAUTHORITY</span></a></li>
<li class="toclevel-3 tocsection-6"><a href=#PATH><span class=tocnumber>2.1.3</span> <span class=toctext>PATH</span></a></li>
<li class="toclevel-3 tocsection-7"><a href=#pam_environment><span class=tocnumber>2.1.4</span> <span class=toctext>pam_environment</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href=#Automatic_start-up_of_systemd_user_instances><span class=tocnumber>2.2</span> <span class=toctext>Automatic start-up of systemd user instances</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href=#Writing_user_units><span class=tocnumber>3</span> <span class=toctext>Writing user units</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href=#Example><span class=tocnumber>3.1</span> <span class=toctext>Example</span></a></li>
<li class="toclevel-2 tocsection-11"><a href=#Example_with_variables><span class=tocnumber>3.2</span> <span class=toctext>Example with variables</span></a></li>
<li class="toclevel-2 tocsection-12"><a href=#Note_about_X_applications><span class=tocnumber>3.3</span> <span class=toctext>Note about X applications</span></a></li>
<li class="toclevel-2 tocsection-13"><a href=#Reading_the_journal><span class=tocnumber>3.4</span> <span class=toctext>Reading the journal</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href=#Temporary_files><span class=tocnumber>4</span> <span class=toctext>Temporary files</span></a></li>
<li class="toclevel-1 tocsection-15"><a href=#Xorg_and_systemd><span class=tocnumber>5</span> <span class=toctext>Xorg and systemd</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href=#Automatic_login_into_Xorg_without_display_manager><span class=tocnumber>5.1</span> <span class=toctext>Automatic login into Xorg without display manager</span></a></li>
<li class="toclevel-2 tocsection-17"><a href=#Xorg_as_a_systemd_user_service><span class=tocnumber>5.2</span> <span class=toctext>Xorg as a systemd user service</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href=#Some_use_cases><span class=tocnumber>6</span> <span class=toctext>Some use cases</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href=#Persistent_terminal_multiplexer><span class=tocnumber>6.1</span> <span class=toctext>Persistent terminal multiplexer</span></a></li>
<li class="toclevel-2 tocsection-20"><a href=#Window_manager><span class=tocnumber>6.2</span> <span class=toctext>Window manager</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href=#Kill_user_processes_on_logout><span class=tocnumber>7</span> <span class=toctext>Kill user processes on logout</span></a></li>
<li class="toclevel-1 tocsection-22"><a href=#See_also><span class=tocnumber>8</span> <span class=toctext>See also</span></a></li>
</ul>
</div>
<h2><span class=mw-headline id=How_it_works>How it works</span></h2>
<p>As per default configuration in <code>/etc/pam.d/system-login</code>, the <code>pam_systemd</code> module automatically launches a <code>systemd --user</code> instance when the user logs in for the first time. This process will survive as long as there is some session for that user, and will be killed as soon as the last session for the user is closed. When <a href=#Automatic_start-up_of_systemd_user_instances>#Automatic start-up of systemd user instances</a> is enabled, the instance is started on boot and will not be killed. The systemd user instance is responsible for managing user services, which can be used to run daemons or automated tasks, with all the benefits of systemd, such as socket activation, timers, dependency system or strict process control via cgroups.
<p>Similarly to system units, user units are located in the following directories (ordered by ascending precedence):
</p>
<ul><li><code>/usr/lib/systemd/user/</code> where units provided by installed packages belong.</li>
<li><code>~/.local/share/systemd/user/</code> where units of packages that have been installed in the home directory belong.</li>
<li><code>/etc/systemd/user/</code> where system-wide user units are placed by the system administrator.</li>
<li><code>~/.config/systemd/user/</code> where the user puts their own units.</ul>
<p>When a systemd user instance starts, it brings up the target <code>default.target</code>. Other units can be controlled manually with <code>systemctl --user</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> 
<ul><li>Be aware that the <code>systemd --user</code> instance is a per-user process, and not per-session. The rationale is that most resources handled by user services, like sockets or state files will be per-user (live on the user's home dir) and not per session. This means that all user services run outside of a session. As a consequence, programs that need to be run inside a session will probably break in user services. The way systemd handles user sessions is pretty much in flux. See <a rel=nofollow class="external autonumber" href=https://mail.gnome.org/archives/desktop-devel-list/2014-January/msg00079.html>[1]</a> and <a rel=nofollow class="external autonumber" href=http://lists.freedesktop.org/archives/systemd-devel/2014-March/017552.html>[2]</a> for some hints on where things are going.</li>
<li><code>systemd --user</code> runs as a separate process from the <code>systemd --system</code> process. User units can not reference or depend on system units.</ul>
</div>
<h2><span class=mw-headline id=Basic_setup>Basic setup</span></h2>
<p>All the user services will be placed in <code>~/.config/systemd/user/</code>. If you want to run services on first login, execute <code>systemctl --user enable <i>service</i></code> for any service you want to be autostarted.
</p>
<div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> If you want to enable a service for all users rather than the user executing the <i>systemctl</i> command, run <code>systemctl --user --global enable <i>service</i></code> as root.</div>
<h3><span class=mw-headline id=Environment_variables>Environment variables</span></h3>
<p>The user instance of systemd does not inherit any of the <a href=https://wiki.archlinux.org/index.php/Environment_variables title="Environment variables">environment variables</a> set in places like <code>.bashrc</code> etc. There are several ways to set environment variables for the systemd user instance:
</p>
<ol><li>For users with a <code>$HOME</code> directory, create a <i>.conf</i> file in the <code>~/.config/environment.d/</code> directory with lines of the form <code>NAME=VAL</code>. Affects only that user's user unit. See <span class="plainlinks archwiki-template-man" title="$ man 5 environment.d"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/environment.d.5>environment.d(5)</a></span> for more information.</li>
<li>Use the <code>DefaultEnvironment</code> option in <code>/etc/systemd/user.conf</code> file. Affects all user units.</li>
<li>Add a drop-in config file in <code>/etc/systemd/system/user@.service.d/</code>. Affects all user units; see <a href=#Service_example>#Service example</a></li>
<li>At any time, use <code>systemctl --user set-environment</code> or <code>systemctl --user import-environment</code>. Affects all user units started after setting the environment variables, but not the units that were already running.</li>
<li>Using the <code>dbus-update-activation-environment --systemd --all</code> command provided by <a href=https://wiki.archlinux.org/index.php/Dbus class=mw-redirect title=Dbus>dbus</a>. Has the same effect as <code>systemctl --user import-environment</code>, but also affects the D-Bus session. You can add this to the end of your shell initialization file.</li>
<li>For "global" environment variables for the user environment you can use the environment.d directories which are parsed by systemd generators. See <span class="plainlinks archwiki-template-man" title="$ man 5 environment.d"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/environment.d.5>environment.d(5)</a></span> for more information.</li>
<li>You can also write an environment generator script which can produce environment variables that vary from user to user, this is probably the best way if you need per-user environments (this is the case for XDG_RUNTIME_DIR, DBUS_SESSION_BUS_ADDRESS, etc). See <span class="plainlinks archwiki-template-man" title="$ man 7 systemd.environment-generator"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd.environment-generator.7>systemd.environment-generator(7)</a></span>.</ol>
<p>One variable you may want to set is <code>PATH</code>.
<p>After configuration, the command <code>systemctl --user show-environment</code> can be used to verify that the values are correct.
</p>
<h4><span class=mw-headline id=Service_example>Service example</span></h4>
<p>Create the <a href=https://wiki.archlinux.org/index.php/Systemd#Drop-in_files title=Systemd>drop-in</a> directory <code>/etc/systemd/system/user@.service.d/</code> and inside create a file that has the extension <code>.conf</code> (e.g. <code>local.conf</code>):
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/systemd/system/user@.service.d/local.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Service]
Environment="PATH=/usr/lib/ccache/bin:/usr/local/bin:/usr/bin:/bin"
Environment="EDITOR=nano -c"
Environment="BROWSER=firefox"
Environment="NO_AT_BRIDGE=1"</pre>
<h4><span class=mw-headline id=DISPLAY_and_XAUTHORITY>DISPLAY and XAUTHORITY</span></h4>
<p><code>DISPLAY</code> is used by any X application to know which display to use and <code>XAUTHORITY</code> to provide a path to the user's <code>.Xauthority</code> file and thus the cookie needed to access the X server. If you plan on launching X applications from systemd units, these variables need to be set. Systemd provides a script in <code>/etc/X11/xinit/xinitrc.d/50-systemd-user.sh</code> to import those variables into the systemd user session on X launch. <a rel=nofollow class="external autonumber" href=https://github.com/systemd/systemd/blob/v219/NEWS#L194>[3]</a> So unless you start X in a nonstandard way, user services should be aware of the <code>DISPLAY</code> and <code>XAUTHORITY</code>.
</p>
<h4><span class=mw-headline id=PATH>PATH</span></h4>
<p>If you customize your <code>PATH</code> and plan on launching applications that make use of it from systemd units, you should make sure the modified <code>PATH</code> is set on the systemd environment. Assuming you set your <code>PATH</code> in <code>.bash_profile</code>, the best way to make systemd aware of your modified <code>PATH</code> is by adding the following to <code>.bash_profile</code> after the <code>PATH</code> variable is set:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>~/.bash_profile</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>systemctl --user import-environment PATH
</pre>
<p>Note that this will not affect systemd services started before PATH is imported.
</p>
<h4><span class=mw-headline id=pam_environment>pam_environment</span></h4>
<p>Environment variables can be made available through use of the <code>pam_env.so</code> module. See <a href=https://wiki.archlinux.org/index.php/Environment_variables#Using_pam_env title="Environment variables">Environment variables#Using pam_env</a> for configuration details.
</p>
<h3><span class=mw-headline id=Automatic_start-up_of_systemd_user_instances>Automatic start-up of systemd user instances</span></h3>
<p>The systemd user instance is started after the first login of a user and killed after the last session of the user is closed. Sometimes it may be useful to start it right after boot, and keep the systemd user instance running after the last session closes, for instance to have some user process running without any open session. Lingering is used to that effect. Use the following command to enable lingering for specific user:
</p>
<pre># loginctl enable-linger <i>username</i>
</pre>
<div class="archwiki-template-box archwiki-template-box-warning"><strong>Warning:</strong> systemd services are <b>not</b> sessions, they run outside of <i>logind</i>. Do not use lingering to enable automatic login as it will <a href=https://wiki.archlinux.org/index.php/General_troubleshooting#Session_permissions title="General troubleshooting">break the session</a>.</div>
<h2><span class=mw-headline id=Writing_user_units>Writing user units</span></h2>
<p>See <a href=https://wiki.archlinux.org/index.php/Systemd#Writing_unit_files title=Systemd>systemd#Writing unit files</a> for general information about writing systemd unit files.
</p>
<h3><span class=mw-headline id=Example>Example</span></h3>
<p>The following is an example of a user version of the mpd service.
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>~/.config/systemd/user/mpd.service</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Unit]
Description=Music Player Daemon

[Service]
ExecStart=/usr/bin/mpd --no-daemon

[Install]
WantedBy=default.target
</pre>
<h3><span class=mw-headline id=Example_with_variables>Example with variables</span></h3>
<p>The following is an example of a user version of <code>sickbeard.service</code>, which takes into account variable home directories where <a href=https://wiki.archlinux.org/index.php/SickBeard title=SickBeard>SickBeard</a> can find certain files:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>~/.config/systemd/user/sickbeard.service</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Unit]
Description=SickBeard Daemon

[Service]
ExecStart=/usr/bin/env python2 /opt/sickbeard/SickBeard.py --config %h/.sickbeard/config.ini --datadir %h/.sickbeard

[Install]
WantedBy=default.target
</pre>
<p>As detailed in <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd.unit.5>systemd.unit(5)</a></span>, the <code>%h</code> variable is replaced by the home directory of the user running the service. There are other variables that can be taken into account in the <a href=https://wiki.archlinux.org/index.php/Systemd title=Systemd>systemd</a> manpages.
</p>
<h3><span class=mw-headline id=Note_about_X_applications>Note about X applications</span></h3>
<p>Most X apps need a <code>DISPLAY</code> variable to run. See <a href=#DISPLAY_and_XAUTHORITY>#DISPLAY and XAUTHORITY</a> for how to this variable is set for the entire systemd user instance.
</p>
<h3><span class=mw-headline id=Reading_the_journal>Reading the journal</span></h3>
<p>The journal for the user can be read using the analogous command:
</p>
<pre>$ journalctl --user
</pre>
<p>To specify a unit, one can use
</p>
<pre>$ journalctl --user-unit myunit.service
</pre>
<p>Or, equivalently:
</p>
<pre>$ journalctl --user -u myunit.service
</pre>
<p>Note that journald will not write user journals for users with UIDs below 1000, instead <a rel=nofollow class="external text" href=https://github.com/systemd/systemd/blob/a33687b792908aa6c9f4c0b22e8935643ee0ddb6/src/journal/journald-server.c#L402>directing</a> everything to the system journal.
</p>
<h2><span class=mw-headline id=Temporary_files>Temporary files</span></h2>
<p><i>systemd-tmpfiles</i> allows users to manage custom volatile and temporary files and directories just like in the system-wide way (see <a href=https://wiki.archlinux.org/index.php/Systemd#Temporary_files title=Systemd>systemd#Temporary files</a>). User-specific configuration files are read from <code>~/.config/user-tmpfiles.d/</code> and <code>~/.local/share/user-tmpfiles.d/</code>, in that order. For this functionality to be used, it is needed to enable the necessary systemd user units for your user:
</p>
<pre>$ systemctl --user enable systemd-tmpfiles-setup.service systemd-tmpfiles-clean.timer
</pre>
<p>The syntax of the configuration files is the same than those used system-wide. See the <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-tmpfiles"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd-tmpfiles.8>systemd-tmpfiles(8)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 tmpfiles.d"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/tmpfiles.d.5>tmpfiles.d(5)</a></span> man pages for details.
</p>
<h2><span class=mw-headline id=Xorg_and_systemd>Xorg and systemd</span></h2>
<p>There are several ways to run xorg within systemd units. Below there are two options, either by starting a new user session with an xorg process, or by launching xorg from a systemd user service.
</p>
<h3><span class=mw-headline id=Automatic_login_into_Xorg_without_display_manager>Automatic login into Xorg without display manager</span></h3>
<div class="noprint archwiki-template-message">
<p><a href=https://wiki.archlinux.org/index.php/File:Tango-inaccurate.png class=image><img alt=Tango-inaccurate.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a><b>The factual accuracy of this article or section is disputed.</b><a href=https://wiki.archlinux.org/index.php/File:Tango-inaccurate.png class=image><img alt=Tango-inaccurate.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a></p>
<div><b>Reason:</b> This setup ends up with two user D-Bus buses, one for the desktop, and an other for systemd. Why can't we use the systemd one alone? (Discuss in <a rel=nofollow class="external text" href=https://wiki.archlinux.org/index.php/Talk:Systemd/User>Talk:Systemd/User#</a>)</div>
</div>
<p>This option will launch a system unit that will start a user session with an xorg server and then run the usual <code>~/.xinitrc</code> to launch the window manager, etc. You need to have <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/xlogin-git/>xlogin-git</a></span><sup><small>AUR</small></sup> installed. Set up your xinitrc as specified in the <a href=https://wiki.archlinux.org/index.php/Xinit#xinitrc title=Xinit>Xinit#xinitrc</a> section.
<p>The session will use its own dbus daemon, but various systemd utilities will automatically connect to the <code>dbus.service</code> instance. Finally, <a href=https://wiki.archlinux.org/index.php/Enable class=mw-redirect title=Enable>enable</a> the <code>xlogin@<i>username</i></code> service for automatic login at boot. The user session lives entirely inside a systemd scope and everything in the user session should work just fine.
</p>
<h3><span class=mw-headline id=Xorg_as_a_systemd_user_service>Xorg as a systemd user service</span></h3>
<p>Alternatively, <a href=https://wiki.archlinux.org/index.php/Xorg title=Xorg>xorg</a> can be run from within a systemd user service. This is nice since other X-related units can be made to depend on xorg, etc, but on the other hand, it has some drawbacks explained below.
<p><span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://www.archlinux.org/packages/?name=xorg-server">xorg-server</a></span> provides integration with systemd in two ways:
</p>
<ul><li>Can be run unprivileged, delegating device management to logind (see Hans de Goede commits around <a rel=nofollow class="external text" href="http://cgit.freedesktop.org/xorg/xserver/commit/?id=82863656ec449644cd34a86388ba40f36cea11e9">this commit</a>).</li>
<li>Can be made into a socket activated service (see <a rel=nofollow class="external text" href="http://cgit.freedesktop.org/xorg/xserver/commit/?id=b3d3ffd19937827bcbdb833a628f9b1814a6e189">this commit</a>). This removes the need for <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/systemd-xorg-launch-helper-git/>systemd-xorg-launch-helper-git</a></span><sup><small>AUR</small></sup>.</ul>
<p>Unfortunately, to be able to run xorg in unprivileged mode, it needs to run inside a session. So, right now the handicap of running xorg as user service is that it must be run with root privileges (like before 1.16), and can't take advantage of the unprivileged mode introduced in 1.16.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> This is not a fundamental restriction imposed by logind, but the reason seems to be that xorg needs to know which session to take over, and right now it gets this information calling <a rel=nofollow class="external text" href=http://www.freedesktop.org/wiki/Software/systemd/logind>logind</a>'s <code>GetSessionByPID</code> using its own pid as argument. See <a rel=nofollow class="external text" href=http://lists.x.org/archives/xorg-devel/2014-February/040476.html>this thread</a> and <a rel=nofollow class="external text" href=http://cgit.freedesktop.org/xorg/xserver/tree/hw/xfree86/os-support/linux/systemd-logind.c>xorg sources</a>. It seems likely that xorg could be modified to get the session from the tty it is attaching to, and then it could run unprivileged from a user service outside a session.</div>
<div class="archwiki-template-box archwiki-template-box-warning"><strong>Warning:</strong> On xorg 1.18 socket activation seems to be broken. The client triggering the activation deadlocks. See the upstream bug report <a rel=nofollow class="external autonumber" href=https://gitlab.freedesktop.org/xorg/xserver/issues/491>[4]</a>. As a temporary workaround you can start the xorg server without socket activation, making sure the clients connect after a delay, so the server is fully started. There seems to be no nice mechanism te get startup notification for the X server.</div>
<p>This is how to launch xorg from a user service:
<p>1. Make xorg run with root privileges and for any user, by editing <code>/etc/X11/Xwrapper.config</code> 
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/X11/Xwrapper.config</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>allowed_users=anybody
needs_root_rights=yes
</pre>
<p>2. Add the following units to <code>~/.config/systemd/user</code>
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>~/.config/systemd/user/xorg@.socket</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Unit]
Description=Socket for xorg at display %i

[Socket]
ListenStream=/tmp/.X11-unix/X%i
</pre>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>~/.config/systemd/user/xorg@.service</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Unit]
Description=Xorg server at display %i

Requires=xorg@%i.socket
After=xorg@%i.socket

[Service]
Type=simple
SuccessExitStatus=0 1

ExecStart=/usr/bin/Xorg :%i -nolisten tcp -noreset -verbose 2 "vt${XDG_VTNR}"
</pre>
<p>where <code>${XDG_VTNR} </code> is the virtual terminal where xorg will be launched, either hard-coded in the service unit, or set in the systemd environment with
</p>
<pre>$ systemctl --user set-environment XDG_VTNR=1
</pre>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> xorg should be launched at the same virtual terminal where the user logged in. Otherwise logind will consider the session inactive.</div>
<p>3. Make sure to configure the <code>DISPLAY</code> environment variable as explained <a href=#DISPLAY_and_XAUTHORITY>above</a>.
<p>4. Then, to enable socket activation for xorg on display 0 and tty 2 one would do:
</p>
<pre>$ systemctl --user set-environment XDG_VTNR=2     # So that xorg@.service knows which vt use
$ systemctl --user start xorg@0.socket            # Start listening on the socket for display 0
</pre>
<p>Now running any X application will launch xorg on virtual terminal 2 automatically.
<p>The environment variable <code>XDG_VTNR</code> can be set in the systemd environment from <code>.bash_profile</code>, and then one could start any X application, including a window manager, as a systemd unit that depends on <code>xorg@0.socket</code>.
</p>
<div class="archwiki-template-box archwiki-template-box-warning"><strong>Warning:</strong> Currently running a window manager as a user service means it runs outside of a session with the problems this may bring: <a href=https://wiki.archlinux.org/index.php/General_troubleshooting#Session_permissions title="General troubleshooting">break the session</a>. However, it seems that systemd developers intend to make something like this possible. See <a rel=nofollow class="external autonumber" href=https://mail.gnome.org/archives/desktop-devel-list/2014-January/msg00079.html>[5]</a> and <a rel=nofollow class="external autonumber" href=http://lists.freedesktop.org/archives/systemd-devel/2014-March/017552.html>[6]</a></div>
<h2><span class=mw-headline id=Some_use_cases>Some use cases</span></h2>
<h3><span class=mw-headline id=Persistent_terminal_multiplexer>Persistent terminal multiplexer</span></h3>
<div class="noprint archwiki-template-message">
<p><a href=https://wiki.archlinux.org/index.php/File:Tango-view-refresh-red.png class=image><img alt=Tango-view-refresh-red.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a><b>This article or section is out of date.</b><a href=https://wiki.archlinux.org/index.php/File:Tango-view-refresh-red.png class=image><img alt=Tango-view-refresh-red.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a></p>
<div><b>Reason:</b> References <code>user-session@.service</code> instead of <code>user@.service</code>; the latter does not contain <code>Conflicts=getty@tty1.service</code>. (Discuss in <a rel=nofollow class="external text" href=https://wiki.archlinux.org/index.php/Talk:Systemd/User>Talk:Systemd/User#</a>)</div>
</div>
<p>You may wish your user session to default to running a terminal multiplexer, such as <a href=https://wiki.archlinux.org/index.php/GNU_Screen title="GNU Screen">GNU Screen</a> or <a href=https://wiki.archlinux.org/index.php/Tmux title=Tmux>Tmux</a>, in the background rather than logging you into a window manager session. Separating login from X login is most likely only useful for those who boot to a TTY instead of to a display manager (in which case you can simply bundle everything you start in with myStuff.target). 
<p>To create this type of user session, procede as above, but instead of creating wm.target, create multiplexer.target:
</p>
<pre>[Unit]
Description=Terminal multiplexer
Documentation=info:screen man:screen(1) man:tmux(1)
After=cruft.target
Wants=cruft.target

[Install]
Alias=default.target</pre>
<p><code>cruft.target</code>, like <code>mystuff.target</code> above, should start anything you think should run before tmux or screen starts (or which you want started at boot regardless of timing), such as a GnuPG daemon session.
<p>You then need to create a service for your multiplexer session. Here is a sample service, using tmux as an example and sourcing a gpg-agent session which wrote its information to <code>/tmp/gpg-agent-info</code>. This sample session, when you start X, will also be able to run X programs, since DISPLAY is set.
</p>
<pre>[Unit]
Description=tmux: A terminal multiplixer 
Documentation=man:tmux(1)
After=gpg-agent.service
Wants=gpg-agent.service

[Service]
Type=forking
ExecStart=/usr/bin/tmux start
ExecStop=/usr/bin/tmux kill-server
Environment=DISPLAY=:0
EnvironmentFile=/tmp/gpg-agent-info

[Install]
WantedBy=multiplexer.target</pre>
<p>Once this is done, <code>systemctl --user enable</code> <code>tmux.service</code>, <code>multiplexer.target</code> and any services you created to be run by <code>cruft.target</code> and you should be set to go! Activated <code>user-session@.service</code> as described above, but be sure to remove the <code>Conflicts=getty@tty1.service</code> from <code>user-session@.service</code>, since your user session will not be taking over a TTY. Congratulations! You have a running terminal multiplexer and some other useful programs ready to start at boot!
</p>
<h3><span class=mw-headline id=Window_manager>Window manager</span></h3>
<p>To run a window manager as a systemd service, you first need to run <a href=#Xorg_as_a_systemd_user_service>#Xorg as a systemd user service</a>. In the following we will use <a href=https://wiki.archlinux.org/index.php/Awesome title=Awesome>awesome</a> as an example:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>~/.config/systemd/user/awesome.service</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Unit]
Description=Awesome window manager
After=xorg.target
Requires=xorg.target

[Service]
ExecStart=/usr/bin/awesome
Restart=always
RestartSec=10
 
[Install]
WantedBy=wm.target
</pre>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> The <code>[Install]</code> section includes a <code>WantedBy</code> part. When using <code>systemctl --user enable</code> it will link this as <code>~/.config/systemd/user/wm.target.wants/<i>window_manager</i>.service</code>, allowing it to be started at login. Is recommended to enable this service, not to link it manually.</div>
<h2><span class=mw-headline id=Kill_user_processes_on_logout>Kill user processes on logout</span></h2>
<p>Arch Linux builds the <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://www.archlinux.org/packages/?name=systemd">systemd</a></span> package with <code>--without-kill-user-processes</code>, setting <code>KillUserProcesses</code> to <code>no</code> by default. This setting causes user processes not to be killed when the user completely logs out. To change this behavior in order to have all user processes killed on the user's logout, set <code>KillUserProcesses=yes</code> in <code>/etc/systemd/logind.conf</code>. 
<p>Note that changing this setting breaks terminal multiplexers such as <a href=https://wiki.archlinux.org/index.php/Tmux title=Tmux>tmux</a> and <a href=https://wiki.archlinux.org/index.php/GNU_Screen title="GNU Screen">GNU Screen</a>. If you change this setting, you can still use a terminal multiplexer by using <code>systemd-run</code> as follows:
</p>
<pre>$ systemd-run --scope --user <i>command</i> <i>args</i>
</pre>
<p>For example, to run <code>screen</code> you would do:
</p>
<pre>$ systemd-run --scope --user screen -S <i>foo</i>
</pre>
<h2><span class=mw-headline id=See_also>See also</span></h2>
<ul><li><a rel=nofollow class="external text" href=https://bitbucket.org/KaiSforza/systemd-user-units/wiki/Home>KaiSforza's Bitbucket wiki</a></li>
<li><a rel=nofollow class="external text" href=https://github.com/zoqaeski/systemd-user-units>Zoqaeski's units on GitHub</a></li>
<li><a rel=nofollow class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=167115">Arch forum thread about changes in systemd 206 user instances</a></ul>
</div></div>
 
 <div class="printfooter sf-hidden">Retrieved from "<a dir=ltr href="https://wiki.archlinux.org/index.php?title=Systemd/User&amp;oldid=590511">https://wiki.archlinux.org/index.php?title=Systemd/User&amp;oldid=590511</a>"</div>
 
 <div id=catlinks class=catlinks data-mw=interface><div id=mw-normal-catlinks class=mw-normal-catlinks><a href=https://wiki.archlinux.org/index.php/Special:Categories title=Special:Categories>Categories</a>: <ul><li><a href=https://wiki.archlinux.org/index.php/Category:Daemons title=Category:Daemons>Daemons</a><li><a href=https://wiki.archlinux.org/index.php/Category:Boot_process title="Category:Boot process">Boot process</a></ul></div></div>
 
 
 
 </div>
</div>
 
 
 
