<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> <html style><!--
 Page saved with SingleFile 
 url: http://ext4magic.sourceforge.net/directory_en.html 
 saved date: Thu Jan 23 2020 01:11:55 GMT+0000 (Coordinated Universal Time)
--><meta charset=utf-8><style class="darkreader darkreader--user-agent" media=screen>[data-darkreader-inline-bgcolor]{background-color:var(--darkreader-inline-bgcolor)!important}[data-darkreader-inline-border-bottom]{border-bottom-color:var(--darkreader-inline-border-bottom)!important}[data-darkreader-inline-border-left]{border-left-color:var(--darkreader-inline-border-left)!important}[data-darkreader-inline-border-right]{border-right-color:var(--darkreader-inline-border-right)!important}[data-darkreader-inline-border-top]{border-top-color:var(--darkreader-inline-border-top)!important}html{background-color:#2f2f2e!important}html,body{background-color:#2f2f2e}html,body{border-color:#837f79;color:#ffffff}a{color:#6ec8ff}table{border-color:#74716b}::placeholder{color:#fffbe4}::selection{background-color:#2983ed;color:#ffffff}::-moz-selection{background-color:#2983ed;color:#ffffff}::-webkit-scrollbar{background-color:#343433;color:#fffff5}::-webkit-scrollbar-thumb{background-color:#474745}::-webkit-scrollbar-corner{background-color:#2f2f2e}*{scrollbar-color:#474745 #343433}</style>
<title></title>
<meta name=GENERATOR content="LibreOffice 3.5  (Linux)">
<meta name=CREATED content=20140327;22381000>
<meta name=CHANGED content=20140327;22401100>
<style><!--@page{margin:2cm}P{margin-bottom:0.21cm}H1{margin-bottom:0.21cm}H1.western{font-family:"Liberation Serif",serif}TD P{margin-bottom:0cm}H3{margin-bottom:0.21cm}A:link{so-language:zxx}--></style>
<style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style><link type=image/x-icon rel="shortcut icon" href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></head>
<body dir=LTR lang=de-DE>
<h1 class=western><a name=firstHeading style=display:none!important></a>Ext4magic-Directory</h1>
<div id=bodyContent dir=LTR>
 <p><br><br>
 </p>
 <div id=contentSub dir=LTR>
 <p><br><br>
 </p>
 </div>
 <div id=mw-content-text dir=LTR>
 <center>
 <table style=--darkreader-inline-bgcolor:#2f2f2e data-darkreader-inline-bgcolor width=100% cellspacing=0 cellpadding=5 bgcolor=#ffffff>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p><b><a href=http://ext4magic.sourceforge.net/ext4magic_en.html>Ext4magic</a>:</b>
 <a href=http://ext4magic.sourceforge.net/inode_en.html>Inode</a>
 - <strong>Directory</strong> - <a href=http://ext4magic.sourceforge.net/journal_en.html>Journal</a>
 - <a href=http://ext4magic.sourceforge.net/install_en.html>Install</a>
 - <a href=http://ext4magic.sourceforge.net/time-options_en.html>Time_Options</a>
 - <a href=http://ext4magic.sourceforge.net/histogram_en.html>Histogram</a>
 - <a href=http://ext4magic.sourceforge.net/howto_en.html>Scenarios</a>
 - <a href=http://ext4magic.sourceforge.net/tips_en.html>Tips&amp;Tricks</a>
 - <a href=http://ext4magic.sourceforge.net/manpage_en.html>Manpage</a>
 - <a href=http://ext4magic.sourceforge.net/expert-mode_en.html>Expert-Mode</a>
 
 </p>
 </td>
 </tr>
 </table>
 </center>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Directories></a>Directories</h3>
 <p lang=en>Directories represent a special file format. In the
 data blocks of a directory files are the file names and the
 corresponding inode numbers for all files in this directory. The
 concatenation of the directory files is finally the path where a
 file will be found in the file tree. 
 </p>
 <p lang=en>The data in the directory blocks are a table with the
 file name, the corresponding inode number and a flag that
 determines the file type. Each entry contains a hint where the next
 entry starts. In this way, all file names are linked together in
 the directory list. Deleted files are unlinked in this list and
 skipped when reading the file names of this directory. 
 </p>
 <p lang=en>Deleted file names and its inode numbers are included
 between the undeleted entries in the directory data. The system
 automatically cleans old deleted entries later step by
 step.<br>Directory data are not always unique when restoring files.
 The sum of deleted and undeleted entries can contain the same file
 names multiple times or can have the same inode numbers. The result
 can include multiple recovery of the same file or wrong file names.
 It's also possible the inode number of a deleted file can not to be
 found by file name.</p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=ex4magic_output_format_of_directory_entries></a>
 ex4magic output format of directory entries</h3>
 <p><span lang=en>The directory information will be displayed
 along with the inode when the inode is a directory and is not
 marked as deleted. For example, the current root directory of a
 file system images (the <a href=http://ext4magic.sourceforge.net/inode_en.html>inode
 output</a> is removed) </span>
 </p>
 <pre class=western lang=en>ROBI@LINUX:/tmp/test1 # ext4magic /home/rob/test/test.iso -I 2
<span lang=en>.....</span>
        <span lang=en>2  d  755 (2)      0      0    4096 24-Apr-2010 11:16 .</span>
        <span lang=en>2  d  755 (2)      0      0    4096 24-Apr-2010 11:16 ..</span>
       <span lang=en>11  d  700 (2)      0      0   16384 10-Dec-2009 19:36 lost+found</span>
       <span lang=en>15  l  777 (7)      0      0      11 12-Apr-2010 19:20 link1</span>
       <span lang=en>16  l  777 (7)      0      0      11 12-Apr-2010 19:20 link2</span>
       <span lang=en>17  l  777 (7)      0      0      11 12-Apr-2010 19:20 link3</span>
       <span lang=en>18  l  777 (7)      0      0      14 12-Apr-2010 19:20 link4</span>
       <span lang=en>19  _  644 (1)      0      0   524288000 24-Apr-2010 11:17 file3.sparse</span>
<span lang=en>&lt;      20&gt; _  644 (1)      0      0       0 23-Apr-2010 20:50 file1.sparse</span>
<span lang=en>&lt;   57350&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test8</span>
       <span lang=en>12  _  644 (1)      0      0    1601 10-Dec-2009 20:30 find</span>
       <span lang=en>13  _  644 (1)      0      0    7410 10-Dec-2009 20:35 find_ls</span>
       <span lang=en>14  _  644 (1)      0      0   29361 10-Dec-2009 20:35 find_stat</span></pre>
 <dl>
 <dt style=margin-bottom:.5cm lang=en>
 Column description 
 </dl>
 <ul>
 <li><p style=margin-bottom:0cm lang=en>
 First column: Inode number, if this is included in <b>"&lt;&gt;"</b>
 the file is marked as deleted in the directory 
 </p>
 <li><p style=margin-bottom:0cm lang=en>Second column: Flag
 for the file type (from inode data) 
 </p>
 <li><p style=margin-bottom:0cm lang=en>Third column: Access
 rights in octal form 
 </p>
 <li><p style=margin-bottom:0cm lang=en>Fourth column: File
 type flag from directory entry 
 </p>
 <li><p style=margin-bottom:0cm lang=en>Fifth and sixth
 column: UserID and GroupID 
 </p>
 <li><p style=margin-bottom:0cm lang=en>Seventh column: File
 size. (Value may be incorrect, the inode match not always exactly
 in time) 
 </p>
 <li><p style=margin-bottom:0cm lang=en>Eigth column: mtime 
 </p>
 <li><p lang=en>Last column: File name 
 </p>
 </ul>
 <p lang=en>The example shows a root directory which has some
 files and links, a deleted directory and a deleted file. This
 directory is a current directory in the file system (no command
 line options open the journals). Note the raw directory data is
 displayed but also data from the linked inode of this directory,
 the time, size and the access rights can only found there. 
 </p>
 <p lang=en><br>The same inode with a journal option has the
 following output. (Inode data removed) 
 </p>
 <pre class=western lang=en>ROBI@LINUX:/tmp/test1 # ext4magic /home/rob/test/test.iso -I 2 -T | sed -ne '/^ *2/,/^$/p'
        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:30 .                           </span>
        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:30 ..                          </span>
       <span lang=en>11  d  700 (2)      0      0   16384 10-Dec-2009 19:36 lost+found                  </span>
     <span lang=en>8193  d  755 (2)      0      0    4096 10-Dec-2009 19:40 test1                       </span>
    <span lang=en>16385  d  755 (2)      0      0       0 10-Dec-2009 20:36 test2                       </span>
    <span lang=en>24577  d  755 (2)      0      0       0 10-Dec-2009 20:36 test3                       </span>
    <span lang=en>40961  d  755 (2)      0      0       0 10-Dec-2009 20:36 test4                       </span>
    <span lang=en>57345  d  755 (2)      0      0       0 10-Dec-2009 20:36 test5                       </span>
    <span lang=en>49153  d  755 (2)      0      0    4096 10-Dec-2009 20:18 test6                       </span>
    <span lang=en>16386  d  755 (2)      0      0       0 10-Dec-2009 20:36 test7                       </span>
    <span lang=en>57350  d  755 (2)      0      0       0 10-Dec-2009 20:36 test8                       </span>
       <span lang=en>12  _  644 (1)      0      0    1601 10-Dec-2009 20:30 find                        </span>

        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:31 .</span>
        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:31 ..</span>
       <span lang=en>11  d  700 (2)      0      0   16384 10-Dec-2009 19:36 lost+found</span>
     <span lang=en>8193  d  755 (2)      0      0    4096 10-Dec-2009 19:40 test1     </span>
    <span lang=en>16385  d  755 (2)      0      0       0 10-Dec-2009 20:36 test2     </span>
    <span lang=en>24577  d  755 (2)      0      0       0 10-Dec-2009 20:36 test3     </span>
    <span lang=en>40961  d  755 (2)      0      0       0 10-Dec-2009 20:36 test4     </span>
    <span lang=en>57345  d  755 (2)      0      0       0 10-Dec-2009 20:36 test5     </span>
    <span lang=en>49153  d  755 (2)      0      0       0 10-Dec-2009 20:36 test6     </span>
    <span lang=en>16386  d  755 (2)      0      0       0 10-Dec-2009 20:36 test7</span>
    <span lang=en>57350  d  755 (2)      0      0       0 10-Dec-2009 20:36 test8</span>
       <span lang=en>12  _  644 (1)      0      0    1601 10-Dec-2009 20:30 find</span>
       <span lang=en>13  _  644 (1)      0      0    7331 10-Dec-2009 20:31 find_ls</span>

        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:31 .</span>
        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:31 ..</span>
       <span lang=en>11  d  700 (2)      0      0   16384 10-Dec-2009 19:36 lost+found</span>
     <span lang=en>8193  d  755 (2)      0      0    4096 10-Dec-2009 19:40 test1</span>
    <span lang=en>16385  d  755 (2)      0      0       0 10-Dec-2009 20:36 test2</span>
    <span lang=en>24577  d  755 (2)      0      0       0 10-Dec-2009 20:36 test3</span>
    <span lang=en>40961  d  755 (2)      0      0       0 10-Dec-2009 20:36 test4</span>
    <span lang=en>57345  d  755 (2)      0      0       0 10-Dec-2009 20:36 test5</span>
    <span lang=en>49153  d  755 (2)      0      0       0 10-Dec-2009 20:36 test6</span>
    <span lang=en>16386  d  755 (2)      0      0       0 10-Dec-2009 20:36 test7</span>
    <span lang=en>57350  d  755 (2)      0      0       0 10-Dec-2009 20:36 test8</span>
       <span lang=en>12  _  644 (1)      0      0    1601 10-Dec-2009 20:30 find</span>
       <span lang=en>13  _  644 (1)      0      0    7410 10-Dec-2009 20:35 find_ls</span>
       <span lang=en>14  _  644 (1)      0      0   29361 10-Dec-2009 20:31 find_stat</span>

        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:36 .</span>
        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:36 ..</span>
       <span lang=en>11  d  700 (2)      0      0   16384 10-Dec-2009 19:36 lost+found</span>
<span lang=en>&lt;    8193&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test1</span>
<span lang=en>&lt;   16385&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test2</span>
<span lang=en>&lt;   24577&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test3</span>
<span lang=en>&lt;   40961&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test4</span>
<span lang=en>&lt;   57345&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test5</span>
<span lang=en>&lt;   49153&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test6</span>
<span lang=en>&lt;   16386&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test7</span>
<span lang=en>&lt;   57350&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test8</span>
       <span lang=en>12  _  644 (1)      0      0    1601 10-Dec-2009 20:30 find</span>
       <span lang=en>13  _  644 (1)      0      0    7410 10-Dec-2009 20:35 find_ls</span>
       <span lang=en>14  _  644 (1)      0      0   29361 10-Dec-2009 20:35 find_stat</span>

        <span lang=en>2  d  755 (2)      0      0    4096 24-Apr-2010 11:16 .</span>
        <span lang=en>2  d  755 (2)      0      0    4096 24-Apr-2010 11:16 ..</span>
       <span lang=en>11  d  700 (2)      0      0   16384 10-Dec-2009 19:36 lost+found</span>
       <span lang=en>15  l  777 (7)      0      0      11 12-Apr-2010 19:20 link1</span>
       <span lang=en>16  l  777 (7)      0      0      11 12-Apr-2010 19:20 link2</span>
       <span lang=en>17  l  777 (7)      0      0      11 12-Apr-2010 19:20 link3</span>
       <span lang=en>18  l  777 (7)      0      0      14 12-Apr-2010 19:20 link4</span>
       <span lang=en>19  _  644 (1)      0      0   524288000 24-Apr-2010 11:17 file3.sparse</span>
<span lang=en>&lt;      20&gt; _  644 (1)      0      0       0 23-Apr-2010 20:50 file1.sparse</span>
<span lang=en>&lt;   57350&gt; d  755 (2)      0      0       0 10-Dec-2009 20:36 test8</span>
       <span lang=en>12  _  644 (1)      0      0    1601 10-Dec-2009 20:30 find</span>
       <span lang=en>13  _  644 (1)      0      0    7410 10-Dec-2009 20:35 find_ls</span>
       <span lang=en>14  _  644 (1)      0      0   29361 10-Dec-2009 20:35 find_stat</span></pre><p lang=en>
 Following example shows a piece of version history of this
 directory. "test1/" to "test7/" were deleted
 some time ago but there exists no trace in the current directory
 for them. Even the directories were deleted a long time ago
 directory data can be found when the journal is searched for inode
 data. 
 </p>
 <pre class=western lang=en>ROBI@LINUX:/tmp/test1 # ext4magic /home/rob/test/test.iso -I 8193 -T | sed -ne '/^ *8193/,/^$/p'
     <span lang=en>8193  d  755 (2)      0      0    4096 10-Dec-2009 19:40 .</span>
        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:36 ..</span>
     <span lang=en>8194  _  777 (1)   1000    100       6 10-Dec-2009 19:40 file1</span>
<span lang=en>&lt;    8195&gt; _  777 (1)   1000    100       6 10-Dec-2009 19:40 file2</span>
     <span lang=en>8196  _  777 (1)   1000    100       6 10-Dec-2009 19:40 file3</span>
     <span lang=en>8197  _  777 (1)   1000    100       6 10-Dec-2009 19:40 file4</span>

     <span lang=en>8193  d  755 (2)      0      0    4096 10-Dec-2009 20:36 .</span>
        <span lang=en>2  d  755 (2)      0      0    4096 10-Dec-2009 20:36 ..</span>
     <span lang=en>8194  _  777 (1)   1000    100       0 10-Dec-2009 20:36 file1</span>
<span lang=en>&lt;    8195&gt; _  777 (1)   1000    100       6 10-Dec-2009 19:40 file2</span>
     <span lang=en>8196  _  777 (1)   1000    100       0 10-Dec-2009 20:36 file3</span>
     <span lang=en>8197  _  777 (1)   1000    100       0 10-Dec-2009 20:36 file4</span></pre><p lang=en>
 It is possible that greater differences are in the output of large
 directories with or without a journal option. Without journal
 option, ext4magic uses the functions of libext2fs. If using a
 journal option, then modified functions of ext4magic are used. The
 difference arises because, the ext4magic internal functions will
 skip blocks in which HTREE data. These blocks are only deleted
 redundant entries, which often completely out of date and often
 results this HTREE data in problems when recover the files. If in
 doubt, the output of the directory data with a journal option, is
 "the more correct" 
 </p>
 <p><br><br>
 </p>
 <center>
 <table style=--darkreader-inline-bgcolor:#2f2f2e data-darkreader-inline-bgcolor width=100% cellspacing=0 cellpadding=5 bgcolor=#ffffff>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p><b><a href=http://ext4magic.sourceforge.net/ext4magic_en.html>Ext4magic</a>:</b>
 <a href=http://ext4magic.sourceforge.net/inode_en.html>Inode</a>
 - <strong>Directory</strong> - <a href=http://ext4magic.sourceforge.net/journal_en.html>Journal</a>
 - <a href=http://ext4magic.sourceforge.net/install_en.html>Install</a>
 - <a href=http://ext4magic.sourceforge.net/time-options_en.html>Time_Options</a>
 - <a href=http://ext4magic.sourceforge.net/histogram_en.html>Histogram</a>
 - <a href=http://ext4magic.sourceforge.net/howto_en.html>Scenarios</a>
 - <a href=http://ext4magic.sourceforge.net/tips_en.html>Tips&amp;Tricks</a>
 - <a href=http://ext4magic.sourceforge.net/manpage_en.html>Manpage</a>
 - <a href=http://ext4magic.sourceforge.net/expert-mode_en.html>Expert-Mode</a>
 
 </p>
 </td>
 </tr>
 </table>
 </center>
 <p><br><br>
 </p>
 </div>
</div>
