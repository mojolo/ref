<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> <html><!--
 Page saved with SingleFile 
 url: http://ext4magic.sourceforge.net/histogram_en.html 
 saved date: Thu Jan 23 2020 01:14:22 GMT+0000 (Coordinated Universal Time)
--><meta charset=utf-8><style class="darkreader darkreader--user-agent" media=screen>[data-darkreader-inline-bgcolor]{background-color:var(--darkreader-inline-bgcolor)!important}[data-darkreader-inline-border-bottom]{border-bottom-color:var(--darkreader-inline-border-bottom)!important}[data-darkreader-inline-border-left]{border-left-color:var(--darkreader-inline-border-left)!important}[data-darkreader-inline-border-right]{border-right-color:var(--darkreader-inline-border-right)!important}[data-darkreader-inline-border-top]{border-top-color:var(--darkreader-inline-border-top)!important}html{background-color:#2f2f2e!important}html,body{background-color:#2f2f2e}html,body{border-color:#837f79;color:#ffffff}a{color:#6ec8ff}table{border-color:#74716b}::placeholder{color:#fffbe4}::selection{background-color:#2983ed;color:#ffffff}::-moz-selection{background-color:#2983ed;color:#ffffff}::-webkit-scrollbar{background-color:#343433;color:#fffff5}::-webkit-scrollbar-thumb{background-color:#474745}::-webkit-scrollbar-corner{background-color:#2f2f2e}*{scrollbar-color:#474745 #343433}</style>
<title></title>
<meta name=GENERATOR content="LibreOffice 3.5  (Linux)">
<meta name=CREATED content=20140327;22491200>
<meta name=CHANGED content=20140327;22510300>
<style><!--@page{margin:2cm}P{margin-bottom:0.21cm}H1{margin-bottom:0.21cm}H1.western{font-family:"Liberation Serif",serif}TD P{margin-bottom:0cm}H2{margin-bottom:0.21cm}H3{margin-bottom:0.21cm}A:link{so-language:zxx}--></style>
<style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style><link type=image/x-icon rel="shortcut icon" href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></head>
<body dir=LTR lang=de-DE>
<h1 class=western><a name=firstHeading style=display:none!important></a>Ext4magic-Histogram</h1>
<div id=bodyContent dir=LTR>
 <p><br><br>
 </p>
 <div id=contentSub dir=LTR>
 <p><br><br>
 </p>
 </div>
 <div id=jump-to-nav dir=LTR>
 <p><br><br>
 </p>
 </div>
 <div id=mw-content-text dir=LTR>
 <center>
 <table style=--darkreader-inline-bgcolor:#2f2f2e data-darkreader-inline-bgcolor width=100% cellspacing=0 cellpadding=5 bgcolor=#ffffff>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p><b><a href=http://ext4magic.sourceforge.net/ext4magic_en.html>Ext4magic</a>:</b>
 <a href=http://ext4magic.sourceforge.net/inode_en.html>Inode</a>
 - <a href=http://ext4magic.sourceforge.net/directory_en.html>Directory</a>
 - <a href=http://ext4magic.sourceforge.net/journal_en.html>Journal</a>
 - <a href=http://ext4magic.sourceforge.net/install_en.html>Install</a>
 - <a href=http://ext4magic.sourceforge.net/time-options_en.html>Time_Options</a>
 - <strong>Histogram</strong> - <a href=http://ext4magic.sourceforge.net/howto_en.html>Scenarios</a>
 - <a href=http://ext4magic.sourceforge.net/tips_en.html>Tips&amp;Tricks</a>
 - <a href=http://ext4magic.sourceforge.net/manpage_en.html>Manpage</a>
 - <a href=http://ext4magic.sourceforge.net/expert-mode_en.html>Expert-Mode</a>
 
 </p>
 </td>
 </tr>
 </table>
 </center>
 <p><br><br>
 </p>
 <p><br><br>
 </p><a name=toc></a>
 <table width=414 cellspacing=0 cellpadding=2>
 <colgroup><col width=410>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=410>
 <div id=toctitle dir=LTR>
 <h2 class=western>Contents</h2>
 </div>
 <ul>
 <li><p><a href=#ext4magic_histogram_function>1
 ext4magic histogram function</a> 
 </p>
 <ul>
 <li><p><a href=#Generation_process>1.1
 Generation process</a> 
 </p>
 <li><p><a href=#Calculation>1.2
 Calculation</a> 
 </p>
 <li><p><a href=#Defaults>1.3
 Defaults</a> 
 </p>
 <li><p><a href=#Histogram_of_a_directory_tree>1.4
 Histogram of a directory tree</a> 
 </p>
 </ul>
 <li><p><a href=#Using_the_histogram>2
 Using the histogram</a> 
 </p>
 <ul>
 <li><p><a href=#Command_line_examples>2.1
 Command line examples</a> 
 </p>
 <li><p><a href=#Example_output>2.2
 Example output</a> 
 </p>
 </ul>
 </ul>
 </td>
 </tr>
 </table>
 <h2 class=western lang=en><a name=ext4magic_histogram_function></a>
 ext4magic histogram function</h2>
 <p lang=en>The histogram is an utility function of ext4magic. It
 helps to find out the optimal values for the time options.
 Timestamps are required for many options of ext4magic. The default
 values may be inappropriate in a lot of recovery situations (24
 hours when dealing with inodes, 5 minutes back from the last
 deletion in the filesystem in the magic function). 
 </p>
 <p lang=en>The histogram helps to identify changes in the file
 system. Usually the time parameters have to be tweaked a while and
 the histogram will be generated and investigated multiple times
 until the exact time values for begin and end of events are found.
 In order to interpret the output results efficiently the following
 sections should be read carefully. 
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Generation_process></a>Generation
 process</h3>
 <ul>
 <li><p style=margin-bottom:0cm lang=en>The time interval
 defined by the time paramaters is split into 10 time ranges. (or
 20 ranges with an additional option <b>"-x"</b>) 
 </p>
 <li><p style=margin-bottom:0cm lang=en>All timestamps of the
 file systems inode are counted which fall in a given time range. 
 </p>
 <li><p lang=en>ext4magic uses the results to create a scale and
 prints the inodes counted in a time range as a simple bar chart. 
 </p>
 </ul>
 <dl>
 <dd style=margin-bottom:.5cm lang=en><b>ctime</b>, <b>dtime</b>
 and optionally <b>crtime</b> is calculated in an additional
 histogram. 
 </dl>
 <p>
 <br><br>
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Calculation></a>Calculation</h3>
 <ul>
 <li><p style=margin-bottom:0cm lang=en>Only the last
 timestamp of inode change is used. 
 </p>
 <li><p style=margin-bottom:0cm lang=en>If inode changes
 happen in the time range and the last change was "delete",
 the inode will be counted in the <b>dtime</b> histogram 
 </p>
 <li><p style=margin-bottom:0cm lang=en>If inode changes
 happen in the time range and the last change was not "delete",
 the inode will be counted in the <b>ctime</b> histogram 
 </p>
 <li><p style=margin-bottom:0cm lang=en>If inode size is 256
 and filesystem is ext4 and a file was created and not deleted at
 then end of the time range, the inode will be counted in the
 optional <b>crtime</b> histogram 
 </p>
 <li><p lang=en>The calculation of <b>crtime</b> is independent
 of <b>ctime</b> and <b>dtime</b> calculation. 
 </p>
 </ul>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Defaults></a>Defaults</h3>
 <ul>
 <li><p style=margin-bottom:0cm lang=en>Default inodes&nbsp;:
 The histogram includes all inodes of the file system 
 </p>
 <li><p lang=en>Default time&nbsp;: last 24 hours 
 </p>
 </ul>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Histogram_of_a_directory_tree></a>
 Histogram of a directory tree</h3>
 <ul>
 <li><p lang=en>If a directory name or a directory inode number
 is passed as a parameter, only the inode of this directory tree
 will used. 
 </p>
 </ul>
 <dl>
 <dl>
 <dd lang=en>This is not very accurate. ext4magic loops through
 the directory structure in the time frame specified in the time
 options. If a directory tree was deleted as a whole, at runtime
 ext4magic recreates the tree from the journal. Only the journal
 information available in the time range specified with <b>AFTER</b>
 and <b>BEFORE</b> is used. This can limit the found number of
 inodes in the deleted directory tree because directory activities
 which happened outside this time range in the journal are not
 included in the histogram. Therefore a decent change of the time
 limits can increase the number of inodes which counted in the
 histogram. 
 <dd style=margin-bottom:.5cm lang=en>
 If the time interval is changed the output usually changes
 significantly because the resolution of the histogram will change
 and the histogram will span a much smaller time range. 
 </dl>
 </dl>
 <p>
 <br><br>
 </p>
 <h2 class=western lang=en><a name=Using_the_histogram></a>Using
 the histogram</h2>
 <h3 class=western lang=en><a name=Command_line_examples></a>Command
 line examples</h3>
 <p lang=en>The default, examine last 24 hours, all inodes 
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en>ext4magic DEVICE -H</pre><p lang=en>
 <br>Examine only a specific directory tree (user-1/Documents), last
 24 hours, high resolution 
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en>ext4magic DEVICE -H -x -f user-1/Documents</pre><p lang=en>
 <br>Examine the last 5 days, use of a <b>"date"</b>
 command, 
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en>ext4magic DEVICE -H -a $(date -d "-5 day" +%s) </pre><p lang=en>
 This complex time translation with "date" is only
 required for the first command call. For subsequent calls values
 for <b>-a</b> and <b>-b</b> ​​can taken from the histogram.
 (first column) 
 </p>
 <p lang=en><br>Subsequent call with time-specific parameters from
 a previous histogram calls 
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en>ext4magic DEVICE -H -a 1272329366 -b 1272329564 </pre><p>
 <br><br>
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Example_output></a>Example
 output</h3>
 <pre class=western lang=en>ROBI@LINUX:/tmp/test1 # ext4magic testfile.iso  -H -a 1272299456 -b 1272375077
<span lang=en>Filesystem in use: testfile.iso</span>

<span lang=en>|-----------c_time  Histogram-----------------  after  --------------------  Mon Apr 26 18:30:56 2010</span>
<span lang=en>1272307018&nbsp;:        0 |                                                  |   Mon Apr 26 20:36:58 2010</span>
<span lang=en>1272314580&nbsp;:        0 |                                                  |   Mon Apr 26 22:43:00 2010</span>
<span lang=en>1272322142&nbsp;:        0 |                                                  |   Tue Apr 27 00:49:02 2010</span>
<span lang=en>1272329704&nbsp;:       11 |**************************************************|   Tue Apr 27 02:55:04 2010</span>
<span lang=en>1272337266&nbsp;:        0 |                                                  |   Tue Apr 27 05:01:06 2010</span>
<span lang=en>1272344828&nbsp;:        0 |                                                  |   Tue Apr 27 07:07:08 2010</span>
<span lang=en>1272352390&nbsp;:        0 |                                                  |   Tue Apr 27 09:13:10 2010</span>
<span lang=en>1272359952&nbsp;:        0 |                                                  |   Tue Apr 27 11:19:12 2010</span>
<span lang=en>1272367514&nbsp;:        0 |                                                  |   Tue Apr 27 13:25:14 2010</span>
<span lang=en>1272375076&nbsp;:        0 |                                                  |   Tue Apr 27 15:31:16 2010</span>


<span lang=en>|-----------d_time  Histogram-----------------  after  --------------------  Mon Apr 26 18:30:56 2010</span>
<span lang=en>1272307018&nbsp;:        0 |                                                  |   Mon Apr 26 20:36:58 2010</span>
<span lang=en>1272314580&nbsp;:        0 |                                                  |   Mon Apr 26 22:43:00 2010</span>
<span lang=en>1272322142&nbsp;:        0 |                                                  |   Tue Apr 27 00:49:02 2010</span>
<span lang=en>1272329704&nbsp;:      103 |**************************************************|   Tue Apr 27 02:55:04 2010</span>
<span lang=en>1272337266&nbsp;:        0 |                                                  |   Tue Apr 27 05:01:06 2010</span>
<span lang=en>1272344828&nbsp;:        0 |                                                  |   Tue Apr 27 07:07:08 2010</span>
<span lang=en>1272352390&nbsp;:        0 |                                                  |   Tue Apr 27 09:13:10 2010</span>
<span lang=en>1272359952&nbsp;:        0 |                                                  |   Tue Apr 27 11:19:12 2010</span>
<span lang=en>1272367514&nbsp;:        0 |                                                  |   Tue Apr 27 13:25:14 2010</span>
<span lang=en>1272375076&nbsp;:        0 |                                                  |   Tue Apr 27 15:31:16 2010</span>


<span lang=en>|-----------cr_time Histogram-----------------  after  --------------------  Mon Apr 26 18:30:56 2010</span>
<span lang=en>1272307018&nbsp;:        0 |                                                  |   Mon Apr 26 20:36:58 2010</span>
<span lang=en>1272314580&nbsp;:        0 |                                                  |   Mon Apr 26 22:43:00 2010</span>
<span lang=en>1272322142&nbsp;:        0 |                                                  |   Tue Apr 27 00:49:02 2010</span>
<span lang=en>1272329704&nbsp;:       10 |**************************************************|   Tue Apr 27 02:55:04 2010</span>
<span lang=en>1272337266&nbsp;:        0 |                                                  |   Tue Apr 27 05:01:06 2010</span>
<span lang=en>1272344828&nbsp;:        0 |                                                  |   Tue Apr 27 07:07:08 2010</span>
<span lang=en>1272352390&nbsp;:        0 |                                                  |   Tue Apr 27 09:13:10 2010</span>
<span lang=en>1272359952&nbsp;:        0 |                                                  |   Tue Apr 27 11:19:12 2010</span>
<span lang=en>1272367514&nbsp;:        0 |                                                  |   Tue Apr 27 13:25:14 2010</span>
<span lang=en>1272375076&nbsp;:        0 |                                                  |   Tue Apr 27 15:31:16 2010</span></pre><p lang=en>
 In this example, in the time 00:49:02 - 02:55:04 are deleted 103
 files.<br>The next call with <b>-a 1272322142 -b 1272337266</b> and
 so on ....<br>Result with an interval range of 30 seconds 
 </p>
 <pre class=western lang=en>ROBI@LINUX:/tmp/test1 # ext4magic testfile.iso -H -a 1272329366 -b 1272329672
<span lang=en>Filesystem in use: testfile.iso</span>

<span lang=en>|-----------c_time  Histogram-----------------  after  --------------------  Tue Apr 27 02:49:26 2010</span>
<span lang=en>1272329396&nbsp;:        0 |                                                  |   Tue Apr 27 02:49:56 2010</span>
<span lang=en>1272329426&nbsp;:        5 |*************************                         |   Tue Apr 27 02:50:26 2010</span>
<span lang=en>1272329456&nbsp;:        0 |                                                  |   Tue Apr 27 02:50:56 2010</span>
<span lang=en>1272329486&nbsp;:        5 |*************************                         |   Tue Apr 27 02:51:26 2010</span>
<span lang=en>1272329516&nbsp;:        0 |                                                  |   Tue Apr 27 02:51:56 2010</span>
<span lang=en>1272329546&nbsp;:        0 |                                                  |   Tue Apr 27 02:52:26 2010</span>
<span lang=en>1272329576&nbsp;:        0 |                                                  |   Tue Apr 27 02:52:56 2010</span>
<span lang=en>1272329606&nbsp;:        1 |*****                                             |   Tue Apr 27 02:53:26 2010</span>
<span lang=en>1272329636&nbsp;:        0 |                                                  |   Tue Apr 27 02:53:56 2010</span>
<span lang=en>1272329666&nbsp;:        0 |                                                  |   Tue Apr 27 02:54:26 2010</span>


<span lang=en>|-----------d_time  Histogram-----------------  after  --------------------  Tue Apr 27 02:49:26 2010</span>
<span lang=en>1272329396&nbsp;:        0 |                                                  |   Tue Apr 27 02:49:56 2010</span>
<span lang=en>1272329426&nbsp;:        0 |                                                  |   Tue Apr 27 02:50:26 2010</span>
<span lang=en>1272329456&nbsp;:        0 |                                                  |   Tue Apr 27 02:50:56 2010</span>
<span lang=en>1272329486&nbsp;:        0 |                                                  |   Tue Apr 27 02:51:26 2010</span>
<span lang=en>1272329516&nbsp;:        0 |                                                  |   Tue Apr 27 02:51:56 2010</span>
<span lang=en>1272329546&nbsp;:        7 |****                                              |   Tue Apr 27 02:52:26 2010</span>
<span lang=en>1272329576&nbsp;:        3 |**                                                |   Tue Apr 27 02:52:56 2010</span>
<span lang=en>1272329606&nbsp;:       93 |**************************************************|   Tue Apr 27 02:53:26 2010</span>
<span lang=en>1272329636&nbsp;:        0 |                                                  |   Tue Apr 27 02:53:56 2010</span>
<span lang=en>1272329666&nbsp;:        0 |                                                  |   Tue Apr 27 02:54:26 2010</span>


<span lang=en>|-----------cr_time Histogram-----------------  after  --------------------  Tue Apr 27 02:49:26 2010</span>
<span lang=en>1272329396&nbsp;:        0 |                                                  |   Tue Apr 27 02:49:56 2010</span>
<span lang=en>1272329426&nbsp;:       25 |*****************                                 |   Tue Apr 27 02:50:26 2010</span>
<span lang=en>1272329456&nbsp;:        0 |                                                  |   Tue Apr 27 02:50:56 2010</span>
<span lang=en>1272329486&nbsp;:       75 |**************************************************|   Tue Apr 27 02:51:26 2010</span>
<span lang=en>1272329516&nbsp;:        7 |*****                                             |   Tue Apr 27 02:51:56 2010</span>
<span lang=en>1272329546&nbsp;:        3 |**                                                |   Tue Apr 27 02:52:26 2010</span>
<span lang=en>1272329576&nbsp;:        3 |**                                                |   Tue Apr 27 02:52:56 2010</span>
<span lang=en>1272329606&nbsp;:        0 |                                                  |   Tue Apr 27 02:53:26 2010</span>
<span lang=en>1272329636&nbsp;:        0 |                                                  |   Tue Apr 27 02:53:56 2010</span>
<span lang=en>1272329666&nbsp;:        0 |                                                  |   Tue Apr 27 02:54:26 2010</span></pre><p lang=en>
 This gives an idea what happened here. Files were created and
 deleted after a few minutes. Most of the same files that were
 created also were deleted, otherwise there should be more files in
 the upper <b>crtime</b> histogram. Only 10 files or directories
 that were created here, are not deleted. 
 </p>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <center>
 <table style=--darkreader-inline-bgcolor:#2f2f2e data-darkreader-inline-bgcolor width=100% cellspacing=0 cellpadding=5 bgcolor=#ffffff>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p><b><a href=http://ext4magic.sourceforge.net/ext4magic_en.html>Ext4magic</a>:</b>
 <a href=http://ext4magic.sourceforge.net/inode_en.html>Inode</a>
 - <a href=http://ext4magic.sourceforge.net/directory_en.html>Directory</a>
 - <a href=http://ext4magic.sourceforge.net/journal_en.html>Journal</a>
 - <a href=http://ext4magic.sourceforge.net/install_en.html>Install</a>
 - <a href=http://ext4magic.sourceforge.net/time-options_en.html>Time_Options</a>
 - <strong>Histogram</strong> - <a href=http://ext4magic.sourceforge.net/howto_en.html>Scenarios</a>
 - <a href=http://ext4magic.sourceforge.net/tips_en.html>Tips&amp;Tricks</a>
 - <a href=http://ext4magic.sourceforge.net/manpage_en.html>Manpage</a>
 - <a href=http://ext4magic.sourceforge.net/expert-mode_en.html>Expert-Mode</a>
 
 </p>
 </td>
 </tr>
 </table>
 </center>
 <p><br><br>
 </p>
 </div>
</div>
