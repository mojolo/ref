<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> <html><!--
 Page saved with SingleFile 
 url: http://ext4magic.sourceforge.net/ext4magic_en.html 
 saved date: Thu Jan 23 2020 01:08:02 GMT+0000 (Coordinated Universal Time)
--><meta charset=utf-8><style class="darkreader darkreader--user-agent" media=screen>[data-darkreader-inline-bgcolor]{background-color:var(--darkreader-inline-bgcolor)!important}[data-darkreader-inline-border-bottom]{border-bottom-color:var(--darkreader-inline-border-bottom)!important}[data-darkreader-inline-border-left]{border-left-color:var(--darkreader-inline-border-left)!important}[data-darkreader-inline-border-right]{border-right-color:var(--darkreader-inline-border-right)!important}[data-darkreader-inline-border-top]{border-top-color:var(--darkreader-inline-border-top)!important}html{background-color:#2f2f2e!important}html,body{background-color:#2f2f2e}html,body{border-color:#837f79;color:#ffffff}a{color:#6ec8ff}table{border-color:#74716b}::placeholder{color:#fffbe4}::selection{background-color:#2983ed;color:#ffffff}::-moz-selection{background-color:#2983ed;color:#ffffff}::-webkit-scrollbar{background-color:#343433;color:#fffff5}::-webkit-scrollbar-thumb{background-color:#474745}::-webkit-scrollbar-corner{background-color:#2f2f2e}*{scrollbar-color:#474745 #343433}</style>
<title></title>
<meta name=GENERATOR content="LibreOffice 3.5  (Linux)">
<meta name=CREATED content=20140327;21232000>
<meta name=CHANGED content=20140415;3142200>
<style><!--@page{margin:2cm}TD P{margin-bottom:0cm}H1{margin-bottom:0.21cm}H1.western{font-family:"Liberation Serif",serif}P{margin-bottom:0.21cm}H2{margin-bottom:0.21cm}H3{margin-bottom:0.21cm}H4{margin-bottom:0.21cm}H5{margin-bottom:0.21cm}TH P{margin-bottom:0cm}A:link{so-language:zxx}--></style><style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style>
<link type=image/x-icon rel="shortcut icon" href="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></head>
<body dir=LTR lang=de-DE>
<h1 class=western><a name=firstHeading style=display:none!important></a>Ext4magic</h1>
<div id=bodyContent dir=LTR>
 <div id=mw-content-text dir=LTR>
 <table cellspacing=5 cellpadding=5>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p><br>
 </p>
 </td>
 </tr>
 </table>
 <center>
 <table style=--darkreader-inline-bgcolor:#2f2f2e data-darkreader-inline-bgcolor width=100% cellspacing=0 cellpadding=5 bgcolor=#ffffff>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p><strong><b>Ext4magic</b></strong><b>:</b> <a href=http://ext4magic.sourceforge.net/inode_en.html>Inode</a>
 - <a href=http://ext4magic.sourceforge.net/directory_en.html>Directory</a> - <a href=http://ext4magic.sourceforge.net/journal_en.html>Journal</a>
 - <a href=http://ext4magic.sourceforge.net/install_en.html>Install</a> - <a href=http://ext4magic.sourceforge.net/time-options_en.html>Time_Options</a>
 - <a href=http://ext4magic.sourceforge.net/histogram_en.html>Histogram</a> - <a href=http://ext4magic.sourceforge.net/howto_en.html>Scenarios</a>
 - <a href=http://ext4magic.sourceforge.net/tips_en.html>Tips&amp;Tricks</a> - <a href=http://ext4magic.sourceforge.net/manpage_en.html>Manpage</a>
 - <a href=http://ext4magic.sourceforge.net/expert-mode_en.html>Expert-Mode</a> 
 </p>
 </td>
 </tr>
 </table>
 </center>
 <p><br><br>
 </p>
 <div align=RIGHT>
 <table style=break-before:page;break-after:auto;--darkreader-inline-bgcolor:#393a39 data-darkreader-inline-bgcolor width=414 cellspacing=0 cellpadding=0 bgcolor=#e2e2e2>
 <colgroup><col width=181>
 <col width=233>
 <tbody><tr>
 <th colspan=2 style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=414>
 <p align=CENTER>ext4magic 
 </p>
 </th>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#302f2e data-darkreader-inline-bgcolor bgcolor=#fdfdff>
 <td colspan=2 style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=414>
 <p><br>
 </p>
 </td>
 </tr>
 <tr>
 <th colspan=2 style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=414>
 <p>Basic Data 
 </p>
 </th>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor valign=TOP bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><b>Developer:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233>
 <p><a href=http://sourceforge.net/u/robi6/profile/>robi</a> 
 </p>
 </td>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><b>Actual Release:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233>
 <p>0.3.2 
 </p>
 </td>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><b>Release Date:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233>
 <p>2014-09-12 
 </p>
 </td>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><b>Operating System:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233>
 <p>Linux 
 </p>
 </td>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><b>Dependencies:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233></td>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><b>Category:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233></td>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor valign=TOP bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><b>License:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233>
 <p>GNU General Public License 
 </p>
 </td>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor valign=TOP bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><span lang=en><b>Documentation</b></span><b>:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233>
 <p>English <a href=http://ext4magic.sourceforge.net/ext4magic_de.html>German</a> 
 </p>
 </td>
 </tr>
 <tr style=--darkreader-inline-bgcolor:#313230 data-darkreader-inline-bgcolor valign=TOP bgcolor=#f8f8ff>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=181>
 <p><b>Project Site:</b> 
 </p>
 </td>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=233>
 <p><a href=http://sourceforge.net/projects/ext4magic/>Ext4magic</a>
 </p>
 </td>
 </tr>
 </table>
 </div>
 <h2 class=western lang=en><a name=Summary></a>Summary</h2>
 <p lang=en><b>ext4magic</b> is a disk utility to recover files
 from ext3 or ext4 partitions 
 </p>
 <p><span lang=en>It is based on <a href=http://code.google.com/p/ext3grep/>ext3grep</a>
 and <a href=http://extundelete.sourceforge.net/>extundelete</a>,
 but was rewritten from scratch. In addition to the tools just
 mentioned ext4magic </span>
 </p>
 <ul>
 <li><p style=margin-bottom:0cm lang=en>handles more file
 types, also hardlinks and symlinks 
 </p>
 <li><p style=margin-bottom:0cm lang=en>extracts and using
 more information from the journal and the filesystem 
 </p>
 <li><p style=margin-bottom:0cm lang=en>restores owner, group
 and modification time (optional file attributes) of files and
 directories 
 </p>
 <li><p style=margin-bottom:0cm lang=en>can try to find moved
 and overwritten directories and files and more then one version of
 a file 
 </p>
 <li><p style=margin-bottom:0cm lang=en>can extract a lot of
 useful information about the journal and the journal data itself 
 </p>
 <li><p style=margin-bottom:0cm lang=en>has a file carving
 function at the end of a multi-step recover process with different
 recover methods 
 </p>
 <li><p lang=en>includes functions tries to recover a partially
 destroyed file system. 
 </p>
 </ul>
 <p><br><br>
 </p><a name=toc></a>
 <table width=611 cellspacing=0 cellpadding=0>
 <colgroup><col width=611>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left width=611 height=1>
 <div id=toctitle dir=LTR>
 <h2 class=western>Contents</h2>
 </div>
 <ul>
 <li><p style=margin-bottom:.5cm><a href=#Summary>1
 Summary</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Introduction>2
 Introduction</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Installation>3
 Installation</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Invocation>4
 Invocation</a> 
 </p>
 <ul>
 <li><p style=margin-bottom:.5cm><a href=#Create_a_device_copy>4.1
 Create a device copy</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Save_journal_only>4.2
 Save journal only</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Mount_saved_image_of_a_whole_disk_with_loop_device>4.3
 Mount saved image of a whole disk with loop device</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Parameters>4.4
 Parameters</a> 
 </p>
 <ul>
 <li><p style=margin-bottom:.5cm><a href=#Summary_2>4.4.1
 Summary</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Options>4.4.2
 Options</a> 
 </p>
 <ul>
 <li><p style=margin-bottom:.5cm><a href=#Magic_options>4.4.2.1
 Magic options</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Recovery_options>4.4.2.2
 Recovery options</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Display_options>4.4.2.3
 Display options</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Filter_options>4.4.2.4
 Filter options</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Time_options>4.4.2.5
 Time options</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Input-.2FOutput_options>4.4.2.6
 Input-/Output options</a> 
 </p>
 <li><p style=margin-bottom:.5cm><a href=#Expert_Options>4.4.2.7
 Expert Options</a> 
 </p>
 </ul>
 </ul>
 <li><p style=margin-bottom:.5cm><a href=#Examples>4.5
 Examples</a> 
 </p>
 <ul>
 <li><p style=margin-bottom:.5cm><a href=#Display_examples>4.5.1
 Display examples</a> 
 </p>
 <li><p><a href=#Recovery_examples>4</a><a href=#Recovery_examples>.5.2
 Recovery examples</a> 
 </p>
 </ul>
 </ul>
 </ul>
 </td>
 </tr>
 </table>
 <p><br><br>
 </p>
 <h2 class=western lang=en><a name=Introduction></a>Introduction</h2>
 <p><span lang=en>Sooner or later it happens to everybody using a
 Linux system: You hit Enter and immediately realize you just
 started to delete important data on your system. Unfortunately you
 don't have any backup or you have a backup, but it's a very old and
 outdated. If you use ext2 as your filesystem you are able to
 recover the deleted data but ext3 and ext4 reinitializes block
 pointers to NULL (See <a href=http://batleth.sapienti-sat.org/projects/FAQs/ext3-faq.html>Linux
 ext3 FAQ</a> and <a href=https://ext4.wiki.kernel.org/index.php/Frequently_Asked_Questions#Can_I_undelete_files_in_Ext4.3F>ext4</a>)
 and therfore a data recovery is not possible any more on ext3 and
 ext4. There exist scan tools (See <a href=http://carlo17.home.xs4all.nl/howto/undelete_ext3.html>HOWTO
 recover deleted files on an ext3 file system</a>) which may be able
 to recover the data. Unfortunately nowadays most Linux
 distributions use ext3 or ext4. </span>
 </p>
 <p lang=en><br>ext3 and ext4 use a journaling file system to be
 able to recover disk failures. This journal keeps copies of
 internal file system information and file data and can also be used
 to recover data deleted by accident. ext4magic is able to use the
 information in the journal to recover most or even all of the lost
 data, if such information are still available in the journal data.
 There is no guarantee the data can be recovered because there are a
 lot of factors which influence the recovery capabilities of
 ext4magic and the tool may even fail to recover the important data.
 But there is a given probability ext4magic is able to recover the
 data. 
 </p>
 <p lang=en>The amount of changes done on the filesystem after
 some data was deleted by error impacts the recovery capabilities of
 <b>ext4magic</b>. Therefore it's important to stop working on the
 filesystem immediately or as soon as possible. 
 </p>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h2 class=western lang=en><a name=Installation></a>Installation</h2>
 <p lang=en>Some distribution provided community packets 
 </p>
 <ul>
 <li><p style=margin-bottom:0cm><span lang=en><a href=http://packages.gentoo.org/package/sys-fs/ext4magic>Gentoo</a>
 </span>
 </p>
 <li><p><span lang=en><a href=http://www.archlinux.org/packages/community/i686/ext4magic>ArchLinux</a>
 </span>
 </p>
 </ul>
 <p><span lang=en>The development of ext4magic create also some
 full feature packages by <a href=http://openbuildservice.org/>openSUSE
 Build Service</a> </span>
 </p>
 <ul>
 <li><p><span lang=en><a href=http://download.opensuse.org/repositories/home:/robi-1>Index
 of /repositories/home:/robi-1</a> </span>
 </p>
 </ul>
 <p><span lang=en>If you can not find a package for your
 distribution, ext4magic can be compiled from source.<br>Follow the
 instructions on the <a href=http://ext4magic.sourceforge.net/install_en.html>install page</a>. </span>
 </p>
 <p lang=en><b>Release Note</b>: currently available: 
 </p>
 <dl>
 <dt lang=en><b>ext4magic-0.2.4 ( Beta )</b> includes tho old
 Magic-function only for ext3 
 <dt style=margin-bottom:.5cm lang=en>
 <b>ext4magic-0.3.2 ( Beta )</b> includes the new Magic-function
 currently only for ext4</dl>
 <p>
 <br><br>
 </p>
 <p><br><br>
 </p>
 <h2 class=western lang=en><a name=Invocation></a>Invocation</h2>
 <table style=--darkreader-inline-bgcolor:#5a1311 data-darkreader-inline-bgcolor width=100% cellspacing=2 cellpadding=2 bgcolor=#ffe1e1>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-bgcolor:#ef1f1b;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-bgcolor data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left bgcolor=#ff0000>
 <p><font size=2><b>Attention:</b> </font>
 </p>
 </td>
 </tr>
 <tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p>It's important to work on a unmounted or read only mounted
 partition or even better to create a copy of the partition in
 read only mode and use ext4magic on the partition copy.
 Otherwise important information in the journal can be
 overwritten and reduces the probability to successfully recover
 data. 
 </p>
 </td>
 </tr>
 </table>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Create_a_device_copy></a>Create
 a device copy</h3>
 <p lang=en>The most important invocation parameter to <b>ext4magic</b>
 is the target which should be recovered. It's either a block device
 (e.g. /dev/loop0) or a partition (e.g. /dev/sda1) or a file system
 image. There are no modifications done on the target but it's
 strongly recommended to create a copy of the target and run
 <b>ext4magic</b> on this copy. That way in case of any failure
 during the recovery it's possible to start over and create a new
 copy and start again the recovery procedure. 
 </p>
 <p lang=en>The copy should be created on any other partition on
 the same disk or another disk, or can also be a file on a other
 filesystem. 
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># dd if=/dev/<i>DEVICE</i> of=/BACKUPPATH/<i>DEVICE.img</i></pre><p lang=en>
 The saved image of a partition can be used directly by <b>ext4magic</b>.
 If you created an image of a whole disk you have to use the loop
 device to get access to the partition (Details see below) 
 </p>
 <p lang=en>Be aware this will take some time depending on the
 disk size you copy. But double check the filesystem is mounted read
 only just before you start to create the copy! 
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Save_journal_only></a>Save
 journal only</h3>
 <p lang=en>You may also save the journal of the target only
 instead of the whole target. The journal is the repository of the
 needed information for the recover. A simple new mount, the next
 write, and also read or find commands on the read-write mounted
 file system will destroy some journal data. With a copy of the
 Journal immediately following the accident, later you have a good
 chance to recover files, if you can not use ext4magic immediately. 
 </p>
 <p lang=en>It's important to create this journal copy immediately
 before a new mount of the file system. Otherwise some journal data
 will be destroyed and lost. Create it also before the first using
 of <b>ext4magic</b>. 
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># debugfs -R "dump &lt;8&gt; /PATH/journal.copy" /dev/<i>DEVICE </i></pre><p lang=en>
 "/PATH/journal.copy" is the name of the file which will
 get the journal and <b>must</b> be on a different filesystem.
 "/dev/<i>DEVICE</i>" is the block device or partition
 which should be recovered.<br>This snapshot of the current journal
 now can be used by <b>ext4magic</b> for recovery analysis instead
 of the existing journal on the target device. 
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/<i>DEVICE</i> -j /PATH/journal.copy .......... </pre><p lang=en>
 Because the journal was now saved you can continue to work (should
 it really be necessary) on the filesystem but keep in mind
 filesystem blocks of deleted files may be overwritten now.
 Therefore it's strongly recommended to stop working on the
 filesystem immediately. 
 </p>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Mount_saved_image_of_a_whole_disk_with_loop_device></a>
 Mount saved image of a whole disk with loop device</h3>
 <p><span lang=en>Images of partitions can be used directly by
 </span><span lang=en><b>extmagic</b></span><span lang=en>.
 Images created from a whole disk need a loop device in order to
 access a partition. In most cases the partition to recover is not
 the first one on the disk. An offset is required which points to
 the start of the partition in the image.<br><a href=http://ext4magic.sourceforge.net/tips_en.html#Use_a_image_of_a_whole_disk>Here</a>
 you can find a script that can this calculate, and the
 instructions. </span>
 </p>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Parameters></a>Parameters</h3>
 <h4 class=western lang=en><a name=Summary_2></a>Summary</h4>
 <pre class=western style=margin-bottom:.5cm lang=en>ext4magic {-M|-m} [-j &lt;journal_file&gt;] [-d &lt;target_dir&gt;] &lt;filesystem&gt;
<span lang=en>ext4magic [-S|-J|-H|-V|-T] [-x] [-j &lt;journal_file&gt;] </span>
          <span lang=en>[-B n|-I n|-f &lt;file_name&gt;|-i &lt;input_list&gt;] </span>
          <span lang=en>[-t n|[[-a n][-b n]]] </span>
          <span lang=en>[-d &lt;target_dir&gt;][-R|-r|-L|-l] [-Q] &lt;filesystem&gt;</span></pre><h4 class=western lang=en>
 <a name=Options></a>Options</h4>
 <p lang=en><b>ext4magic</b> has a huge number of options to
 control it's processing. There exist four different modes: 
 </p>
 <ul>
 <li><p style=margin-bottom:0cm lang=en>Magic mode <b>-M</b>
 or <b>-m</b> - a extensive and powerful multi-stage recover
 process, using different methods to each other 
 </p>
 <li><p style=margin-bottom:0cm lang=en>Recovery mode <b>-R</b>
 or <b>-r</b> - Recover deleted files and directories by inode
 copies 
 </p>
 <li><p style=margin-bottom:0cm lang=en>Analysis mode <b>-S</b>,
 <b>-J</b>, <b>-H</b>, <b>-T</b>- Analyze the existing filesystem
 and journal and provide information about the files, directories,
 inodes and data blocks 
 </p>
 <li><p><span lang=en>Disaster mode (optional) </span><span lang=en><b>-D</b></span>
 <span lang=en>recover data from severely damaged file systems
 <a href=http://ext4magic.sourceforge.net/expert-mode_en.html>(Expert-Mode)</a> </span>
 </p>
 </ul>
 <p lang=en>Filter options allow a fine grain control of the time
 range, directory- and inodes and transactions used for recovery.
 Input/output options are available to define the input sources used
 for recovery processing and where the recovered files should be
 written.<br>One option must always be specified, the file system.
 This can be specified as a Partition or a virtual block device or
 as a filesystem image. 
 </p>
 <p><br><br>
 </p>
 <h5 class=western lang=en><a name=Magic_options></a>Magic
 options</h5>
 <p lang=en>These options allow to recover files in particular if
 files were deleted recursively or the whole file system was deleted
 at once. This starts a powerful multi-stage recover process and
 using different methods to each other. 
 </p>
 <table style=--darkreader-inline-bgcolor:#5a1311 data-darkreader-inline-bgcolor width=100% cellspacing=2 cellpadding=2 bgcolor=#ffe1e1>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-bgcolor:#ef1f1b;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-bgcolor data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left bgcolor=#ff0000>
 <p><font size=2><b>Attention:</b> </font>
 </p>
 </td>
 </tr>
 <tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p>Note: At the moment the full support for this function is for
 ext3 only in version 0.2.x <br>and the full support for ext4
 only in version 0.3.x , later versions will support both in the
 future. 
 </p>
 </td>
 </tr>
 </table>
 <p><br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-M</font><dd style=margin-bottom:.5cm lang=en>
 Recovery of all files on the filesystem. This option is useful if
 the whole filesystem was deleted. 
 <dt lang=en>
 <font size=3>-m</font><dd style=margin-bottom:.5cm lang=en>
 Recovery of deleted files. This option is useful if a limited
 number of files was deleted. 
 </dl>
 <p lang=en>
 <br><b>This function assumes:</b> 
 </p>
 <ul>
 <li><p style=margin-bottom:0cm lang=en>The recent actions in
 the file system was the delete the files 
 </p>
 <li><p lang=en>Deleting the data has did not take longer than 5
 minutes 
 </p>
 </ul>
 <p lang=en><br>Under these conditions, ext4magic finds itself the
 optimal time parameters and the command line needs only the option
 <b>"-M"</b> or <b>"-m"</b> <br>The function we
 will work well even the delete process is running before many days.
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en>ext4magic /dev/sda3 -M -d /home/recoverdir</pre><p lang=en>
 <br>But, was deleting not the last action in the file system, or
 the deletion running very slow and has required a long time (&gt; 5
 minutes), or a long time there were many individual file deletions,
 then additional is necessarily required the option <b>-a</b> with a
 time stamp immediately before the beginning of the deletion. In
 other cases, it will not work or only a few files will recover. 
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en>ext4magic /dev/sda3 -M -a 1330042429 -d /home/recoverdir</pre><p lang=en>
 You can determine this timestamp with the histogram function <i>((see
 also, still needs to be translated))</i> 
 </p>
 <p><br><br>
 </p>
 <h5 class=western lang=en><a name=Recovery_options></a>Recovery
 options</h5>
 <p><span lang=en>This option controls the recovery algorithm used
 and the way recoverable files are displayed. The processing works
 recursive on directories and are influenced by time options. The
 start directory for the search is either a directory name or an
 inode number of a directory. Default is the root filesystem of the
 filesystem to recover. Only files and directories can restored if a
 undeleted inode copy is found in the file system journal. The
 journal is designed for a different task, the fast restoring of the
 consistency of the file system after a crash or similar problems,
 and not for a recover of deleted files. So it's not ensured, that
 always exists such a copy of each file is in the journal. Many
 factors play a role which are of adequate data for a recover there.
 </span><span lang=en><i>(see journal, not yet been
 translated)</i></span><span lang=en><br>That ext4magic can found
 these copies, it needs a time window which determines the time
 period of interest. ext4magic has a default time window, the last
 24hours. This means, without specification of any other time window
 only recovers files that have been deleted in the past 24 hours.
 And that means: if files were deleted long time ago, it must be set
 a different time window, otherwise these files can not found, even
 if suitable inode copies available in the journal. Background
 information and examples <a href=http://ext4magic.sourceforge.net/time-options_en.html>here</a>
 ((</span><span lang=en><i>currently only partially translate))</i></span>
 </p>
 <p><br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-r</font><dd style=margin-bottom:.5cm lang=en>
 All files which are below the start directory and without any
 conflicts are recovered with there existing data blocks. The list
 of files will be identical to the files which are displayed with
 option <b>-l</b> . Symlinks and empty files have no blocks, also
 no conflicts with used blocks. Therefore, they are all here
 recovers, although necessary they are not deleted. Its not a bug
 its a feature&nbsp;;-) 
 </dl>
 <p lang=en>
 All recovered files will get their old filenames and if possible
 the old properties. <b>-f</b> defines the start directory to search
 or <b>-I</b> defines the start inode of the directory. If an inode
 number is defined the recovered directory will have the inode
 number as directory name. If a file will be recovered multiple
 times <b>#</b> chars are appended at the filename. A filename will
 have at most five <b>#</b>. Individual files can also recovered
 with time options and transaction numbers. If this function is used
 from the root directory the first stage of the multi-stage
 magic-function runs additional automatically. This will search for
 not found directories and files, because for that some required
 directory information missing. These files will be stored in the
 MAGIC-1 and MAGIC-2 directories. 
 </p>
 <p><br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-R</font><dd lang=en>
 Mostly same functionality as <b>-r</b> with two major differences:
 This option recovers all inodes even if the data blocks are used,
 and user and access rights an time stamps of the directories are
 recovered. Empty directories are also recovered. If a directory
 was deleted as the last action completely the behavior of <b>-R</b>
 and <b>-r</b> is identical but the directory attributes are also
 recovered.<dd lang=en>
 Has already been written to the file system after erase of files,
 it is possible that some data blocks has been re-used for new
 files. <b>-r</b> recover only files were no data blocks are
 re-used again. This are the undamaged files. 
 <dd style=margin-bottom:.5cm lang=en>
 <b>-R</b> recover the files with their original data blocks,
 whether there some data blocks already used by new files, or not.
 It's possible this generate some corrupted files. 
 </dl>
 <p>
 <br><br>
 </p>
 <p style=margin-bottom:0cm lang=en>Every recovery output
 starts with&nbsp;;</p>
 <p style=margin-bottom:0cm lang=en><font size=3><b>--------</b></font></p>
 <p lang=en>in front of each filename which marks the successful
 recovery. If access rights are missing to write the file there will
 show up some <b>"x"</b>. 
 </p>
 <p lang=en>At the end of the recovery results from the hardlink
 database may be displayed. There are missing hardlinks detecetd if
 a positive number is written in front of the filename whereas too
 much hard links were found. if a negative number shows up, more
 filenames found for this recovered inode, as contained in the link
 counter of this inode. Cause may be varied. If the consistent state
 of the hard links are important for your files, you should evaluate
 the output of the hard link database. 
 </p>
 <p lang=en>It's impossible to detect whether datablocks were
 reused after deletion of a file and later on the reusing file
 deleted also. This can lead to files with defective data and every
 recovered file should be checked before it's used again. 
 </p>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h5 class=western lang=en><a name=Display_options></a>Display
 options</h5>
 <p lang=en>These options generate status information of the
 filesystem and the journal. 
 </p>
 <dl>
 <dt lang=en><font size=3>-S</font><dd style=margin-bottom:.5cm lang=en>
 Display the filesystem superblock. Option <b>-x</b> allows in
 addition to display the group descriptor table 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-J</font><dd style=margin-bottom:.5cm lang=en>
 Display the content of the journal superblock. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-H</font><dd style=margin-bottom:.5cm lang=en>
 Display a histogram of the inode timestamps. This allows to locate
 the exact time when mass changes happened on the filesystem. A
 directory or inode number can be passed to restrict the display to
 this directory or inode. For every inode the last change or
 deletion time is used. For ext4 another histogram displays the
 create time of the inodes. <b>-x</b> allows a better resolution of
 the time interval. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-V</font><dd style=margin-bottom:.5cm lang=en>
 Displays only the ext4magic and libext2fs version used, and
 indicates whether the expert mode is active. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-T</font><dd style=margin-bottom:.5cm lang=en>
 Display of the whole transaction list of all data block copies in
 the journal. <b>-B</b>, <b>-I</b> and <b>-f</b> " can be used
 to restrict the display to the data blocks. Additional <b>-x</b>
 displays also for inode blocks the transaction time. The result is
 displayed in the sequence they were written in the journal.
 &lt;--!Backups or other activities which change the timestamp of
 inodes may cause no display of timestamps.--&gt; 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-x</font><dd style=margin-bottom:.5cm lang=en>
 Changes the output format and output contants of most of List
 options. Lookup these options for more details about format and
 contents. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-L</font><dd style=margin-bottom:.5cm lang=en>
 Output of all filenames with their inode numbers recursiv of the
 selected directory which contains all deleted and not deleted
 files and directories. But remember, it looks in the journal data
 and is controlled of the time window of the Time options. <b>-L -x</b>
 will output the filenames with double quotes so they can be used
 as input_list for option <b>-i</b>. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-l</font><dd style=margin-bottom:.5cm lang=en>
 Output of file names and directory names which refer to unused
 data blocks. Every line includes the percentage of unused data
 blocks first. This output will list all files which can be
 recovered. If an earlier interval time limit is used with <b>-l</b>
 files may be listed where the data blocks will already be
 overwritten by other files which were deleted in the meantime
 also. This list will also contain files without any data blocks,
 i.e. symbolic links, empty files and special files. At the
 beginning of the output of each file is a percentage found.</dl>
 <p lang=en>
 100% means, no data blocks of the deleted file is currently in use.
 The same command line but with tho Option <b>-r</b> will recover
 all these files. This option can therefore easily used for check
 whether the time options are chosen correctly. 
 </p>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h5 class=western lang=en><a name=Filter_options></a>Filter
 options</h5>
 <p lang=en>These options can be used to select the file,
 directory or the data block to process. These options cannot be
 combined in one command. 
 </p>
 <dl>
 <dt lang=en><font size=3>-B n</font><dd lang=en>
 <b>n</b> is the data block number of the filesystem block. Default
 is to create a "One-Byte Hex+ASCII" dump of the data
 block like the result of <i>hexdump -C</i>. <b>-x</b> creates a "4
 Byte Hex+ASCII" dump. <b>-t n</b> will display the copy of
 this block in the journal with the transaction number specified
 with option <b>t</b>. and <b>T</b> will search for all copies of
 this block from the journal. 
 <dd style=margin-bottom:.5cm lang=en>
 <i>Example:</i> 
 </dl>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dir/filesytem.iso -B 97 -t 22</pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Create a hexdump of the copy of file system block No 97 which was
 written in the journal in transaction No 22. 
 <dd lang=en>
 To display all transactions for block 97 with their transaction
 number use option <b>-T</b>. 
 <dd style=margin-bottom:.5cm lang=en>
 <i>Example:</i> 
 </dl>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dir/filesystem.iso -B 97 -T</pre><p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-I n</font><dd lang=en>
 <b>n</b> is the inode number. Default is to display the contents
 of the actual inodes of the filesystem.<b>-x</b> will display the
 list of all the referred data blocks from this inode. If the inode
 is a directory the contents of the directory entries are displayed
 als. If <b>-T</b> or <b>-J</b> is used the contents is not the
 real inode of the filesystem then all inode copies of the journal
 are displayed. Option <b>-t n</b> displays the contents of the
 inode of transaction <b>n</b> only.<dd style=margin-bottom:.5cm lang=en>
 The search for specific missing files or file versions is often
 easier if not used the file name of the file. You can find out the
 inode number and then you can list out all inode copies of this
 inode. If found the correct inode copy for the file or directory
 version then can recover this highly focused with details: inode
 number and transaction nummer or with second accurate time options
 for this inode copy. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-f filename</font><dd lang=en>
 This option has the same selection function like <b>-I n</b>.
 <b>ext4magic</b> tries to locate the corresponding inode number in
 the filesystem. <i>Filename</i> can be a filename or a directory
 name. <i>filename</i> is relative to the root of the filesystem,
 not to the Linux root directory. 
 <dd lang=en>
 <i>Example:</i> 
 <dd style=margin-bottom:.5cm lang=en>
 Mountpoint for the file system is /home and the full Linux path
 name is /home/usr1/Document". <b>filename</b> for <b>ext4magic</b>
 now has to be 
 </dl>
 <pre class=western style=margin-bottom:.5cm lang=en># extmagic /dev/sda3 -f usr1/Document</pre>
 <dl>
 <dd lang=en>
 The root filesystem can be specified as <b>-f / </b><i><b>or </b></i><b>-f
 ""</b> All other filenames shouldn't have a leading and
 trailing /.<dd style=margin-bottom:.5cm lang=en>
 To find out the inode number for a file name ext4magic will
 looking within the time window. Files and directories can use
 different inode numbers at different times. Also, all directories
 from file root up to the desired file must be found with the same
 time options. That will not always succeed. If <b>-f filename</b>
 does not work, you can try to find out the inode yourself, and
 then recover inode number. 
 </dl>
 <p>
 <br><br>
 </p>
 <h5 class=western lang=en><a name=Time_options></a>Time
 options</h5>
 <p lang=en>The following options define the time interval which
 is scanned in the journal and used to list or recover data. The
 interval start is defined by <b>-a</b> (AFTER) and the interval end
 by <b>-b</b> (BEFORE). In order to list or recover files, the files
 must have existed in a undeleted state between AFTER and BEFORE.
 AFTER prevents restore of very old deleted files, and all inode
 changes after BEFORE ignored. The Time should be in the form of the
 number of seconds since the UNIX epoch. All inode copies which are
 deleted before AFTER or change after BEFORE are ignored during
 processing. 
 </p>
 <p lang=en>If these options are not used the last 24 hours are
 recovered. If the data loss is detected more than one day later
 these options have to be used because otherwise nothing will be
 recovered. (Exception: Magic options <b>-M</b> and <b>-m</b>) 
 </p>
 <dl>
 <dt lang=en><font size=3>-a n</font><dd lang=en>
 Defines the start time limit (AFTER). Default is the current time
 one day before 
 <dt lang=en>
 <font size=3>-b n</font><dd style=margin-bottom:.5cm lang=en>
 Defines the end time limit (BEFORE). Default is the current time. 
 <dd style=margin-bottom:.5cm lang=en>
 <b>n</b> is the number of seconds since 01.01.1970 00:00:00 (UTC).
 This timeformat is used by ext4magic in a lot of reports and can
 be extracted from there. The <b>date</b> command can be used to
 convert standard date into this format. 
 </dl>
 <p lang=en>
 <b>Example:</b></p>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>Set start interval to
 <i>now - 36 hours</i> and end interval to <i>now - 24 hours</i> 
 </dl>
 <pre class=western style=margin-bottom:.5cm lang=en>-a $(date -d "-3day" +%s) -b $(date -d "-2day" +%s)</pre>
 <dl>
 <dt lang=en>
 <font size=3>-t n</font><dd style=margin-bottom:.5cm lang=en>
 This option can be used together with <b>-B</b>, <b>-I</b> and <b>-f</b>.
 <b>n</b> is the transaction number and allows to use the inode
 with this transaction number to recover data. Transactionsnumbers
 are listed with option <b>-T</b> or the report of inode contents.</dl>
 <p>
 <span lang=en>see the <a href=http://ext4magic.sourceforge.net/time-options_en.html>Time Options
 Site</a> for more details and examples. </span>
 </p>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h5 class=western lang=en><a name=Input-.2FOutput_options></a>
 Input-/Output options</h5>
 <p lang=en>The following options define the input and output. 
 </p>
 <dl>
 <dt lang=en><font size=3>filesystem</font><dd style=margin-bottom:.5cm lang=en>
 Defines the input filesystem and is a mandatory parameter. It
 either can be a block device or a ext3 or ext4 filesystem
 (partition) or a uncompressed image of a partition. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-j journal_file</font><dd style=margin-bottom:.5cm>
 <span lang=en>This option defines the journal file to use for
 recovery. Default is to use the internal journal or an external
 journal on a block device as it's defined in the filesystem
 superblock. With this option it is possible to use a <a href=#Save_journal_only>journal
 copy</a>. </span>
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-d target_dir</font><dd style=margin-bottom:.5cm lang=en>
 This option defines the output directory of the recovered files.
 The directory will be created if it does not exist. Default is to
 use <i>RECOVERDIR</i> in the directory <b>ext4magic</b> was
 started. <b>IMPORTANT:</b> This directory shouldn't be located on
 the filesystem which is recovered. The filesystem of the output
 directory should also be ext3 or ext4. Otherwise there may be
 problems with the access rights and properties of the recovered
 files. And last but not least, this directory should be enough
 space, so that all found files can written there. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-i input_list</font><dd lang=en>
 <i><b>input_list</b></i> is an input file which contains file
 names with double quotes. All these files will be recovered if
 option <b>-r</b> or <b>R</b> is used and a suitable time window is
 set 
 <dd lang=en>
 Empty lines, unquoted lines or incorrect quoted filenames or
 leading and trailing characters of the line, all ignored. 
 <dd style=margin-bottom:.5cm lang=en>
 Options <b>-l -x</b> or <b>-L -x</b> create output in this format
 and can be edited by hand or script and later used as argument for
 a <i><b>input_list for</b></i> to recover. Use the same time
 options for restoring as for creating the list 
 </dl>
 <p>
 <br><br>
 </p>
 <p><br><br>
 </p>
 <h5 class=western lang=en><a name=Expert_Options></a>Expert
 Options</h5>
 <p lang=en>Expert mode has to be enabled during the compile step
 with <i><b>--enable-expert-mode</b></i> during configure. That way
 corrupted filesystems can beopened to recover data. This allows to
 use the superblock backups to recreate a corrupted journal inode
 and to recover files on a partially or corrupted filesystem. 
 </p>
 <p><br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-s blocksize -n blocknumber</font><dd style=margin-bottom:.5cm lang=en>
 This options allow to select a superblock backup. Valid blocksizes
 are 1024, 2048, or 4096. Blocknumber is the filesystem block
 number to use. The blocknumbers of these backups are dependent on
 the blocksize. Use the same values for blocksize and blocknumber
 as they are used with fsck or debugfs. Both options have to be
 inserted in the sequence -s and -n. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-c</font><dd style=margin-bottom:.5cm lang=en>
 This option forces <b>ext4magic</b> to extract the journal inode
 from the superblock and helps to recover data if the first inode
 block of the filesystem is corrupt. 
 </dl>
 <p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-D</font><dd style=margin-bottom:.5cm lang=en>
 All data from a corrupted filesystem will be recoverd if possible.
 The combination all of these expert options is useful if the
 superblock and the begin of the filesystem is corrupted. This
 works only if the filesystem wasn't repaired with e2fsck already..
 <dd lang=en>
 <b>Example:</b> 
 <dd style=margin-bottom:.5cm lang=en>
 The first megabytes of the filesystem were overwritten. Following
 command tries to recover all undamanged files into the target
 directory <i>/tmp/recoverdir</i>. 
 </dl>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/sda1 -s 4096 -n 32768 -c -D -d /tmp/recoverdir</pre><p>
 <br><br>
 </p>
 <dl>
 <dt lang=en><font size=3>-Q</font><dd style=margin-bottom:.5cm lang=en>
 This option works only additional with the recovery options <b>-r</b>
 and <b>-R</b> and this works only if there exist correlated
 directory data in the journal. This option has special
 requirements on the quality of the journal data and requires very
 precise time settings. should be used carefully. If you were not
 sure do not use this option. 
 </dl>
 <p>
 <span lang=en><br>more infos about these options near future
 <a href=http://ext4magic.sourceforge.net/expert-mode_en.html>Expert-Mode</a> </span>
 </p>
 <p><br><br>
 </p>
 <p><br><br>
 </p>
 <h3 class=western lang=en><a name=Examples></a>Examples</h3>
 <p lang=en>Some examples of using ext4magic. Typical scenarios
 with detailed description in near future on a separate page 
 </p>
 <p><br><br>
 </p>
 <h4 class=western lang=en><a name=Display_examples></a>Display
 examples</h4>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/sda3 -f /</pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Display the contents of inode (root directory of file system) 
 </dl>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/sda3 -I 2</pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Displays the actual root inode of the filesystem. The first exampl
 usd the pathname and the second uses the inode number, both result
 in the same output 
 </dl>
 <p>
 <br><br>
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /tmp/filesystem.iso -f / -T -x</pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Display all transaction of block copies which reside in the root
 inode. In addition every different inode with a list of data
 blocks which this inode referrs to is displayed. Because the inode
 is a directory inode the existing block copies of the directory
 contents are displayed. Filesystem image <i><b>/tmp/filesystem.iso</b></i>
 is used. Have there been many changes in the directory and are
 there still in the Journal, then this output is a piece of history
 of this directory. 
 </dl>
 <p>
 <br><br>
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /tmp/filesystem.iso -j /tmp/journal.backup -I 8195 -t 182</pre>
 <dl>
 <dd lang=en>
 Use filesystem image <i><b>/tmp/filesystem.iso</b></i> and read
 the journal from and external copy file <i><b>/tmp/journal.backup</b></i>.
 Output will contain the contents of inode number 8195 with
 transaction number 182 
 <dd style=margin-bottom:.5cm lang=en>
 A very specific request for outputting a specific inode copy of
 the journal. 
 </dl>
 <p>
 <br><br>
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/sda3 -f user1/Documents -a $(date -d "-3 day" +%s) -b $(date -d "-2 day" +%s)</pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Output of the contents of an existing inode copy for pathname
 <i><b>user1/Documents</b></i> which was written between 3 and 2
 days before now into the journal. If it's a directory in addition
 the contents of the directory is listed. If there exist copies of
 directory blocks which map to the inode copy of the journal the
 contents of the directory will be listed. If there are no data
 blocks found then the directory contents is the actual contents of
 the filesystem. 
 </dl>
 <p>
 <br><br>
 </p>
 <h4 class=western lang=en><a name=Recovery_examples></a>Recovery
 examples</h4>
 <table style=--darkreader-inline-bgcolor:#5a1311 data-darkreader-inline-bgcolor width=100% cellspacing=2 cellpadding=2 bgcolor=#ffe1e1>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-bgcolor:#ef1f1b;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-bgcolor data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left bgcolor=#ff0000>
 <p><font size=2><b>Attention:</b> </font>
 </p>
 </td>
 </tr>
 <tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p>Don't use the journal of a filesystem mounted read/write
 because this can lead to incorrect recovery results. If for some
 reasons the filesystem has to be kept in read/write mode create
 a copy of the journal and use this copy with option <b>-j</b>
 during recovery. See <b>Save journal copy</b> paragraph above
 for details how to create a copy of the journal. 
 </p>
 </td>
 </tr>
 </table>
 <p><br><br>
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/sda3 -r -f user1/picture/cim01234.jpg -d /tmp</pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Recovery of file <i>/home/user1/picture/cim01234.jpg</i> which was
 deleted a couple of minutes ago. The filesystem is mounted on
 <i>/home</i>. Note: The path is the path on the filesystem and not
 the root filesystem of the LInux system the filesystem is mounted
 on. If possible unmount the filesystem before recovery. The
 recovered file will be stored at <b>/tmp/user1/picture/cim01234.jpg</b>
 </dl>
 <p>
 <br><br>
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/sda3 -r</pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Recover all files which were deleted the last 24 hours, and which
 have undeleted inode copies within Journal. The recovered files
 will be stored at <i><b>./RECOVERDIR/</b></i> 
 </dl>
 <p>
 <br><br>
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/sda3 -R -a $(date -d "-5day" +%s)</pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Recover all files by inode copies even if parts of the deleted
 files are already overwritten, or still used by the undeleted
 files, starting 4 days ago. Here also restored files were not
 deleted from the file system. The Option <b>"-R"</b>
 should therefore be used preferably in a completely cleared file
 system. 
 </dl>
 <p>
 <br><br>
 </p>
 <pre class=western style=margin-bottom:.5cm lang=en># ext4magic /dev/sda3 -M -d /home/recover</pre>
 <dl>
 <dd lang=en>
 Try to recover all files in a multistep process with different
 methods. Typical usecase: A filesystem was deleted complete with
 <b>rm -rf *</b>. Recovered files are stored in <i><b>/home/recover</b></i>
 <dd style=margin-bottom:.5cm lang=en>
 <b>Note:</b> The last step for ext3 and ext4 is currently only
 included in different versions. see also release notes 
 </dl>
 <p>
 <br><br>
 </p>
 <pre class=western lang=en># ext4magic /home/filesystem.iso -Lx -f user1 | grep "jpg" &gt; ./tmpfile
<span lang=en># ext4magic /home/filesystem.iso -i ./tmpfile -r -d /mnt/testrecover</span></pre>
 <dl>
 <dd style=margin-bottom:.5cm lang=en>
 Recovers all files deleted the last 24 hours from directory <i><b>user1/</b></i>
 which have the string <i><b>jpg</b></i> in their filename. The
 recovered files are stored at <i><b>/mnt/testrecover</b></i>. A
 temporary file <i><b>./tmpfile</b></i> is used to get the list of
 filenames to recover. 
 </dl>
 <p>
 <br><br>
 </p>
 <center>
 <table style=--darkreader-inline-bgcolor:#2f2f2e data-darkreader-inline-bgcolor width=100% cellspacing=0 cellpadding=5 bgcolor=#ffffff>
 <tbody><tr>
 <td style="border:medium none;padding:0cm;--darkreader-inline-border-top:currentcolor;--darkreader-inline-border-right:currentcolor;--darkreader-inline-border-bottom:currentcolor;--darkreader-inline-border-left:currentcolor" data-darkreader-inline-border-top data-darkreader-inline-border-right data-darkreader-inline-border-bottom data-darkreader-inline-border-left>
 <p><strong><b>Ext4magic</b></strong><b>:</b> <a href=http://ext4magic.sourceforge.net/inode_en.html>Inode</a>
 - <a href=http://ext4magic.sourceforge.net/directory_en.html>Directory</a> - <a href=http://ext4magic.sourceforge.net/journal_en.html>Journal</a>
 - <a href=http://ext4magic.sourceforge.net/install_en.html>Install</a> - <a href=http://ext4magic.sourceforge.net/time-options_en.html>Time_Options</a>
 - <a href=http://ext4magic.sourceforge.net/histogram_en.html>Histogram</a> - <a href=http://ext4magic.sourceforge.net/howto_en.html>Scenarios</a>
 - <a href=http://ext4magic.sourceforge.net/tips_en.html>Tips&amp;Tricks</a> - <a href=http://ext4magic.sourceforge.net/manpage_en.html>Manpage</a>
 - <a href=http://ext4magic.sourceforge.net/expert-mode_en.html>Expert-Mode</a> </p>
 </td>
 </tr>
 </table>
 </center>
 </div>
</div>
