<!DOCTYPE html> <html class=client-js dir=ltr lang=en><!--
 Page saved with SingleFile 
 url: https://wiki.archlinux.org/index.php/Systemd 
 saved date: Sat Jan 25 2020 05:02:29 GMT+0000 (Coordinated Universal Time)
--><meta charset=utf-8><style>:root{--sf-img-1:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAAs0lEQVR4AWP4//8/yRiroHH6njrjtN1/sGGYJpwajdJ2bXNI2M8BE8PQhMXUv0B8yThtMxeGJgyBmf9ZDRO3iRqn775rmL5NCyQG0giyEacm0WWvVstNvnNXt+hYNogP0giyEeRUnJpkVj3mBGqcC8SvNGrOVIJsBDkV5EecmmBYZOnrbqmZD1+CnAqTA2nEq4lh/38W0aWv9gGxF4YcpiYEFlz1jh+kGa8m3BhTE1GYYk0A08+9f1lXOBcAAAAASUVORK5CYII=");--sf-img-3:url("data:image/png;base64,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");--sf-img-4:url("data:image/png;base64,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")}</style><style class="darkreader darkreader--user-agent" media=screen>[data-darkreader-inline-border-bottom]{border-bottom-color:var(--darkreader-inline-border-bottom)!important}html{background-color:#2f2f2e!important}html,body,input{background-color:#2f2f2e}html,body,input{border-color:#837f79;color:#ffffff}a{color:#6ec8ff}table{border-color:#74716b}::placeholder{color:#fffbe4}::selection{background-color:#2983ed;color:#ffffff}::-moz-selection{background-color:#2983ed;color:#ffffff}::-webkit-scrollbar{background-color:#343433;color:#fffff5}::-webkit-scrollbar-thumb{background-color:#474745}::-webkit-scrollbar-corner{background-color:#2f2f2e}*{scrollbar-color:#474745 #343433}</style>
<title>systemd - ArchWiki</title>
<style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style>
<style>@media screen{.mw-content-ltr{direction:ltr}.sitedir-ltr input{direction:ltr}@supports (text-decoration:underline dotted){abbr[title],.explain[title]{border-bottom:0;text-decoration:underline dotted}}#catlinks{text-align:left}.catlinks ul{display:inline;margin:0;padding:0;list-style:none none}.catlinks li{display:inline-block;line-height:1.25em;border-left:1px solid #a2a9b1;margin:.125em 0;padding:0 .5em}.catlinks li:first-child{padding-left:.25em;border-left:0}.plainlinks a.external{background:none!important;padding:0!important}.wikitable{background-color:#f8f9fa;color:#222;margin:1em 0;border:1px solid #a2a9b1;border-collapse:collapse}.wikitable>*>tr>th,.wikitable>*>tr>td{border:1px solid #a2a9b1;padding:.2em .4em}.wikitable>*>tr>th{background-color:#eaecf0;text-align:center}.mw-content-ltr ul{margin:.3em 0 0 1.6em;padding:0}.mw-content-ltr ol{margin:.3em 0 0 3.2em;padding:0}.mw-content-ltr dd{margin-left:1.6em;margin-right:0}h1:lang(anp),h1:lang(as),h1:lang(bh),h1:lang(bho),h1:lang(bn),h1:lang(gu),h1:lang(hi),h1:lang(kn),h1:lang(ks),h1:lang(ml),h1:lang(mr),h1:lang(my),h1:lang(mai),h1:lang(ne),h1:lang(new),h1:lang(or),h1:lang(pa),h1:lang(pi),h1:lang(sa),h1:lang(ta),h1:lang(te){line-height:1.6em!important}h2:lang(anp),h3:lang(anp),h4:lang(anp),h5:lang(anp),h6:lang(anp),h2:lang(as),h3:lang(as),h4:lang(as),h5:lang(as),h6:lang(as),h2:lang(bho),h3:lang(bho),h4:lang(bho),h5:lang(bho),h6:lang(bho),h2:lang(bh),h3:lang(bh),h4:lang(bh),h5:lang(bh),h6:lang(bh),h2:lang(bn),h3:lang(bn),h4:lang(bn),h5:lang(bn),h6:lang(bn),h2:lang(gu),h3:lang(gu),h4:lang(gu),h5:lang(gu),h6:lang(gu),h2:lang(hi),h3:lang(hi),h4:lang(hi),h5:lang(hi),h6:lang(hi),h2:lang(kn),h3:lang(kn),h4:lang(kn),h5:lang(kn),h6:lang(kn),h2:lang(ks),h3:lang(ks),h4:lang(ks),h5:lang(ks),h6:lang(ks),h2:lang(ml),h3:lang(ml),h4:lang(ml),h5:lang(ml),h6:lang(ml),h2:lang(mr),h3:lang(mr),h4:lang(mr),h5:lang(mr),h6:lang(mr),h2:lang(my),h3:lang(my),h4:lang(my),h5:lang(my),h6:lang(my),h2:lang(mai),h3:lang(mai),h4:lang(mai),h5:lang(mai),h6:lang(mai),h2:lang(ne),h3:lang(ne),h4:lang(ne),h5:lang(ne),h6:lang(ne),h2:lang(new),h3:lang(new),h4:lang(new),h5:lang(new),h6:lang(new),h2:lang(or),h3:lang(or),h4:lang(or),h5:lang(or),h6:lang(or),h2:lang(pa),h3:lang(pa),h4:lang(pa),h5:lang(pa),h6:lang(pa),h2:lang(pi),h3:lang(pi),h4:lang(pi),h5:lang(pi),h6:lang(pi),h2:lang(sa),h3:lang(sa),h4:lang(sa),h5:lang(sa),h6:lang(sa),h2:lang(ta),h3:lang(ta),h4:lang(ta),h5:lang(ta),h6:lang(ta),h2:lang(te),h3:lang(te),h4:lang(te),h5:lang(te),h6:lang(te){line-height:1.2em}ol:lang(azb) li,ol:lang(bcc) li,ol:lang(bgn) li,ol:lang(bqi) li,ol:lang(fa) li,ol:lang(glk) li,ol:lang(kk-arab) li,ol:lang(lrc) li,ol:lang(luz) li,ol:lang(mzn) li{list-style-type:-moz-persian;list-style-type:persian}ol:lang(ckb) li,ol:lang(sdh) li{list-style-type:-moz-arabic-indic;list-style-type:arabic-indic}ol:lang(hi) li,ol:lang(mai) li,ol:lang(mr) li,ol:lang(ne) li{list-style-type:-moz-devanagari;list-style-type:devanagari}ol:lang(as) li,ol:lang(bn) li{list-style-type:-moz-bengali;list-style-type:bengali}ol:lang(or) li{list-style-type:-moz-oriya;list-style-type:oriya}.toc ul{margin:.3em 0}.mw-content-ltr .toc ul{text-align:left}.mw-content-ltr .toc ul ul{margin:0 0 0 2em}.toc .toctitle{direction:ltr}sup{line-height:1}}@media screen{a{text-decoration:none;color:#0645ad;background:0}a:not([href]){cursor:pointer}a:visited{color:#0b0080}a:active{color:#faa700}a:hover,a:focus{text-decoration:underline}a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}.mw-parser-output a.extiw,.mw-parser-output a.extiw:active{color:#36b}.mw-parser-output a.extiw:visited{color:#636}.mw-parser-output a.extiw:active{color:#b63}.mw-parser-output a.external{color:#36b}.mw-parser-output a.external:visited{color:#636}.mw-parser-output a.external:active{color:#b63}img{border:0;vertical-align:middle}h1,h2,h3,h4{color:#000;background:0;font-weight:normal;margin:0;overflow:hidden;padding-top:.5em;padding-bottom:.17em;border-bottom:1px solid #a2a9b1}h1{font-size:188%}h2{font-size:150%}h3,h4{border-bottom:0;font-weight:bold}h3{font-size:128%}h4{font-size:116%}h2{margin-bottom:.6em}h3,h4{margin-bottom:.3em}p{margin:.4em 0 .5em 0}p img{margin:0}ul{margin:.3em 0 0 1.6em;padding:0}ol{margin:.3em 0 0 3.2em;padding:0;list-style-image:none}li{margin-bottom:.1em}dl{margin-top:.2em;margin-bottom:.5em}dd{margin-left:1.6em;margin-bottom:.1em}pre,code{font-family:monospace,monospace}code{color:#000;background-color:#f8f9fa;border:1px solid #eaecf0;border-radius:2px;padding:1px 4px}pre{color:#000;background-color:#f8f9fa;border:1px solid #eaecf0;padding:1em;white-space:pre-wrap}table{font-size:100%}.toc{border:1px solid #a2a9b1;background-color:#f8f9fa;font-size:95%}.toc{display:table;padding:7px}.toc h2{display:inline;border:0;padding:0;font-size:100%;font-weight:bold}.toc .toctitle{text-align:center}.toc ul{list-style-type:none;list-style-image:none;margin-left:0;padding:0;text-align:left}.toc ul ul{margin:0 0 0 2em}.tocnumber,.toctext{display:table-cell;text-decoration:inherit}.tocnumber{color:#222}.mw-content-ltr .tocnumber{padding-left:0;padding-right:.5em}.catlinks{border:1px solid #a2a9b1;background-color:#f8f9fa;padding:5px;margin-top:1em;clear:both}.firstHeading{margin-bottom:.1em;line-height:1.2em;padding-bottom:0}#contentSub{font-size:84%;line-height:1.2em;margin:0 0 1.4em 1em;color:#54595d;width:auto}}.toctogglecheckbox:checked~ul{display:none}@media screen{:not(:checked)>.toctogglecheckbox{display:inline!important;position:absolute;opacity:0;z-index:-1}.toctogglespan{font-size:94%}:not(:checked)>.toctogglespan:before{content:' ['}:not(:checked)>.toctogglespan:after{content:']'}.toctogglelabel{cursor:pointer;color:#0645ad}.toctogglelabel:hover{text-decoration:underline}.toctogglecheckbox:focus+.toctitle .toctogglelabel{text-decoration:underline;outline:dotted 1px;outline:auto -webkit-focus-ring-color}.toctogglecheckbox:checked+.toctitle .toctogglelabel:after{content:'show'}.toctogglecheckbox:not(:checked)+.toctitle .toctogglelabel:after{content:'hide'}}@media screen{html{font-size:100%}html,body{height:100%;margin:0;padding:0;font-family:sans-serif}body{background-color:#f6f6f6}.mw-body{padding:1em;background-color:#fff;color:#222;direction:ltr}.mw-body{margin-left:10em;border:1px solid #a7d7f9;border-right-width:0;margin-top:-1px}.mw-body h1,.mw-body-content h2{font-family:'Linux Libertine','Georgia','Times',serif;line-height:1.3;margin-bottom:.25em;padding:0}.mw-body h1:lang(ja),.mw-body-content h1:lang(ja),.mw-body-content h2:lang(ja),.mw-body h1:lang(he),.mw-body-content h1:lang(he),.mw-body-content h2:lang(he),.mw-body h1:lang(ko),.mw-body-content h1:lang(ko),.mw-body-content h2:lang(ko){font-family:sans-serif}.mw-body h1:lang(my),.mw-body-content h1:lang(my),.mw-body-content h2:lang(my){line-height:normal}.mw-body h1{font-size:1.8em}.mw-body .firstHeading{overflow:visible}.mw-body-content{position:relative;line-height:1.6;font-size:.875em;z-index:0}.mw-body-content p{line-height:inherit;margin:.5em 0}.mw-body-content h2{font-size:1.5em;margin-top:1em}.mw-body-content h3,.mw-body-content h4{line-height:1.6;margin-top:.3em;margin-bottom:0;padding-bottom:0}.mw-body-content h3{font-size:1.2em}.mw-body-content h3,.mw-body-content h4{font-weight:bold}.mw-body-content h4{font-size:100%}.mw-body-content .toc h2{font-size:100%;font-family:sans-serif}ul{list-style-image:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%225%22 height=%2213%22%3E %3Ccircle cx=%222.5%22 cy=%229%22 r=%222.5%22 fill=%22%23222%22/%3E %3C/svg%3E")}pre{line-height:1.3em}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{from{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);transform:rotate(360deg)}}.mw-jump-link:not(:focus){display:block;position:absolute!important;clip:rect(1px,1px,1px,1px);width:1px;height:1px;margin:-1px;border:0;padding:0;overflow:hidden}.mw-parser-output .external{background-position:center right;background-repeat:no-repeat;background-image:linear-gradient(transparent,transparent),url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%2212%22%3E %3Cpath fill=%22%23fff%22 stroke=%22%2336c%22 d=%22M1.5 4.518h5.982V10.5H1.5z%22/%3E %3Cpath fill=%22%2336c%22 d=%22M5.765 1H11v5.39L9.427 7.937l-1.31-1.31L5.393 9.35l-2.69-2.688 2.81-2.808L4.2 2.544z%22/%3E %3Cpath fill=%22%23fff%22 d=%22M9.995 2.004l.022 4.885L8.2 5.07 5.32 7.95 4.09 6.723l2.882-2.88-1.85-1.852z%22/%3E %3C/svg%3E");padding-right:13px}}@media screen and (min-width:982px){.mw-body{margin-left:11em}.mw-body{padding:1.25em 1.5em 1.5em 1.5em}}@media screen and (max-width:720px){div#content{border-left:0;margin-left:0}}body{background:#f6f9fc}#content{background:#fff;border:1px solid #ccc}#content table,#content h1,#content h2,#content h3,#content h4,#content pre,#content code{color:#222}#content ul{list-style-image:none}#content table{border-collapse:collapse;padding:2px}#content td{padding:2px}#content pre{border:1px solid #bcd;overflow:auto;word-break:break-all;white-space:pre-wrap!important}#content pre,#content code{background-color:#ebf1f5;font-family:monospace}#content code{display:inline-block;padding:0 .3em;border-width:0;border-radius:0}#toc{background-color:#f9faff;border:1px solid #d7dfe3}#bodyContent>div.mw-content-ltr a{font-weight:bold}#bodyContent #toc a{font-weight:normal}#content a:not(.new),#mw-navigation li:not(.new) a:not(.new),#mw-panel li:not(.new) a:not(.new),#column-one li:not(.new) a:not(.new),#footer a:not(.new){text-decoration:none;color:#07b!important}#content a:not(.new):hover,#mw-navigation li:not(.new) a:not(.new):hover,#mw-panel li:not(.new) a:not(.new):hover,#column-one li:not(.new) a:not(.new):hover,#footer a:not(.new):hover{text-decoration:underline;background-color:transparent;color:#999!important}#content a:active,#mw-navigation li:not(.new) a:active,#mw-panel li:not(.new) a:active,#column-one li:not(.new) a:active,#footer a:active,#content a:focus,#mw-navigation li:not(.new) a:focus,#mw-panel li:not(.new) a:focus,#column-one li:not(.new) a:focus,#footer a:focus,#content a:active:hover,#mw-navigation li:not(.new) a:active:hover,#mw-panel li:not(.new) a:active:hover,#column-one li:not(.new) a:active:hover,#footer a:active:hover,#content a:focus:hover,#mw-navigation li:not(.new) a:focus:hover,#mw-panel li:not(.new) a:focus:hover,#column-one li:not(.new) a:focus:hover,#footer a:focus:hover{color:#e90!important}#content a:not(.new):visited,#mw-panel li:not(.new) a:not(.new):visited,#p-navigation li:not(.new) a:not(.new):visited,#p-tb li:not(.new) a:not(.new):visited{color:#666!important}.mw-body-content a.external,.mw-body-content a.extiw{background:var(--sf-img-1) center right no-repeat;padding-right:13px}.mw-body h1,.mw-body-content h2{font-family:sans-serif}</style><style class="darkreader darkreader--sync" media=screen>@media screen{.catlinks li{border-left-color:rgb(102,105,107)}.catlinks li:first-child{border-left-color:currentcolor}.plainlinks a.external{background-color:rgba(14,13,13,0)!important;background-image:none!important}.wikitable{background-color:rgb(49,50,48);color:rgb(255,255,255);border-color:rgb(102,105,107)}.wikitable>*>tr>th,.wikitable>*>tr>td{border-color:rgb(102,105,107)}.wikitable>*>tr>th{background-color:rgb(55,55,53)}a{text-decoration-color:currentcolor;color:rgb(175,243,255);background-color:rgba(14,13,13,0);background-image:none}a:visited{color:rgb(203,186,255)}a:active{color:rgb(255,255,112)}a:hover,a:focus{text-decoration-color:currentcolor}a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration-color:currentcolor}.mw-parser-output a.extiw,.mw-parser-output a.extiw:active{color:rgb(189,233,255)}.mw-parser-output a.extiw:visited{color:rgb(255,245,255)}.mw-parser-output a.extiw:active{color:rgb(255,222,172)}.mw-parser-output a.external{color:rgb(189,233,255)}.mw-parser-output a.external:visited{color:rgb(255,245,255)}.mw-parser-output a.external:active{color:rgb(255,222,172)}img{border-color:currentcolor}h1,h2,h3,h4{color:rgb(255,255,255);background-color:rgba(14,13,13,0);background-image:none;border-bottom-color:rgb(102,105,107)}h3,h4{border-bottom-color:currentcolor}code{color:rgb(255,255,255);background-color:rgb(49,50,48);border-color:rgb(82,87,95)}pre{color:rgb(255,255,255);background-color:rgb(49,50,48);border-color:rgb(82,87,95)}.toc{border-color:rgb(102,105,107);background-color:rgb(49,50,48)}.toc h2{border-color:currentcolor}.tocnumber,.toctext{text-decoration-color:inherit}.tocnumber{color:rgb(255,255,255)}.catlinks{border-color:rgb(102,105,107);background-color:rgb(49,50,48)}#contentSub{color:rgb(255,255,247)}}@media screen{.toctogglelabel{color:rgb(175,243,255)}.toctogglelabel:hover{text-decoration-color:currentcolor}.toctogglecheckbox:focus+.toctitle .toctogglelabel{text-decoration-color:currentcolor;outline-color:currentcolor}body{background-color:rgb(50,50,49)}.mw-body{background-color:rgb(47,47,46);color:rgb(255,255,255)}.mw-body{border-color:rgb(52,133,187)}.mw-jump-link:not(:focus){border-color:currentcolor}.mw-parser-output .external{background-image:linear-gradient(rgba(14,13,13,0),rgba(14,13,13,0)),url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2212%22 height=%2212%22%3E %3Cpath fill=%22%23fff%22 stroke=%22%2336c%22 d=%22M1.5 4.518h5.982V10.5H1.5z%22/%3E %3Cpath fill=%22%2336c%22 d=%22M5.765 1H11v5.39L9.427 7.937l-1.31-1.31L5.393 9.35l-2.69-2.688 2.81-2.808L4.2 2.544z%22/%3E %3Cpath fill=%22%23fff%22 d=%22M9.995 2.004l.022 4.885L8.2 5.07 5.32 7.95 4.09 6.723l2.882-2.88-1.85-1.852z%22/%3E %3C/svg%3E")}}@media screen and (max-width:720px){div#content{border-left-color:currentcolor}}body{background-color:rgb(50,50,49);background-image:none}#content{background-color:rgb(47,47,46);background-image:none;border-color:rgb(96,93,88)}#content table,#content h1,#content h2,#content h3,#content h4,#content pre,#content code{color:rgb(255,255,255)}#content pre{border-color:rgb(83,104,122)}#content pre,#content code{background-color:rgb(55,55,53)}#toc{background-color:rgb(49,50,48);border-color:rgb(86,99,101)}#content a:not(.new),#mw-navigation li:not(.new) a:not(.new),#mw-panel li:not(.new) a:not(.new),#column-one li:not(.new) a:not(.new),#footer a:not(.new){text-decoration-color:currentcolor;color:rgb(166,255,255)!important}#content a:not(.new):hover,#mw-navigation li:not(.new) a:not(.new):hover,#mw-panel li:not(.new) a:not(.new):hover,#column-one li:not(.new) a:not(.new):hover,#footer a:not(.new):hover{text-decoration-color:currentcolor;background-color:transparent;color:rgb(255,251,228)!important}#content a:active,#mw-navigation li:not(.new) a:active,#mw-panel li:not(.new) a:active,#column-one li:not(.new) a:active,#footer a:active,#content a:focus,#mw-navigation li:not(.new) a:focus,#mw-panel li:not(.new) a:focus,#column-one li:not(.new) a:focus,#footer a:focus,#content a:active:hover,#mw-navigation li:not(.new) a:active:hover,#mw-panel li:not(.new) a:active:hover,#column-one li:not(.new) a:active:hover,#footer a:active:hover,#content a:focus:hover,#mw-navigation li:not(.new) a:focus:hover,#mw-panel li:not(.new) a:focus:hover,#column-one li:not(.new) a:focus:hover,#footer a:focus:hover{color:rgb(255,255,119)!important}#content a:not(.new):visited,#mw-panel li:not(.new) a:not(.new):visited,#p-navigation li:not(.new) a:not(.new):visited,#p-tb li:not(.new) a:not(.new):visited{color:rgb(255,255,241)!important}.mw-body-content a.external,.mw-body-content a.extiw{background-color:rgba(14,13,13,0);background-image:var(--sf-img-1)}</style>
<meta name=ResourceLoaderDynamicStyles content>
<style>#bodyContent a.external[href^="https://wiki.archlinux.org"]{background:0;padding-right:0}span.archwiki-template-pkg,span.archwiki-template-man{font-family:monospace}div.archwiki-template-box{padding:5px;border:thin solid black;margin:.5em 0;overflow:hidden}div.archwiki-template-box.archwiki-template-box-note{background-color:#ddf;border-color:#bbd}div.archwiki-template-box.archwiki-template-box-tip{background-color:#dfd;border-color:#bdb}div.archwiki-template-message{position:relative;overflow:hidden;min-height:4.6em;margin-bottom:1em;background-color:#f9faff;border:1px solid #d7dfe3;padding:0 100px;text-align:center}div.archwiki-template-message>p>a{display:block;position:absolute;top:5px}div.archwiki-template-message>p>a:first-of-type{left:26px}div.archwiki-template-message>p>a:last-of-type{right:26px}div.archwiki-template-message>div{font-size:90%}div.archwiki-template-meta-related-articles-start{float:right;clear:right;width:25%;margin:0 0 .5em .5em}div.archwiki-template-meta-related-articles-start>p{background:#333;color:white;padding:.2em;border-bottom:5px #08c solid;margin:0;text-align:center;font-weight:bold}div.archwiki-template-meta-related-articles-start>ul{list-style-type:none;margin:0;padding:.3em}div.archwiki-template-meta-related-articles-start>ul>li{padding:.4em 0;line-height:1}</style><style class="darkreader darkreader--sync" media=screen>#bodyContent a.external[href^="https://wiki.archlinux.org"]{background-color:rgba(14,13,13,0);background-image:none}div.archwiki-template-box.archwiki-template-box-note{background-color:rgb(60,60,58);border-color:rgb(78,76,119)}div.archwiki-template-box.archwiki-template-box-tip{background-color:rgb(27,97,22);border-color:rgb(85,129,76)}div.archwiki-template-message{background-color:rgb(49,50,48);border-color:rgb(86,99,101)}div.archwiki-template-meta-related-articles-start>p{background-color:rgb(79,80,79);background-image:none;color:rgb(255,255,255);border-bottom-color:rgb(52,191,255)}</style>
<meta name=generator content="MediaWiki 1.33.1">
<meta name=viewport content="width=device-width, initial-scale=1">
<link rel=search type=application/opensearchdescription+xml href=https://wiki.archlinux.org/opensearch_desc.php title="ArchWiki (en)">
<link rel=EditURI type=application/rsd+xml href="https://wiki.archlinux.org/api.php?action=rsd">
<link rel=license href=http://www.gnu.org/copyleft/fdl.html>
<link rel=alternate type=application/atom+xml title="ArchWiki Atom feed" href="https://wiki.archlinux.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<!--[if lt IE 9]><script src="/load.php?lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=vector&amp;sync=1"></script><![endif]-->
<link rel="shortcut icon" href=data:image/vnd.microsoft.icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABvElEQVQ4jY2TP4gTQRTGfzM7ybp35mBX8LY4GxM5OI4UiqDWtoKIjWhl4QmmEQwIhzZaa3GLlYWgjViI+AcUrrASUYTbQ0UxepwpFj1EDCSXuLNj4QYSLxP8mnm8972P3wyMMMZgUxjF+ycLUjUW5l/YPMq6/VfnHCEmAGuAsBHsurG6QwiaRUeq2cCdfXy88nmUT9qSJ4tywVNyGxjVSbPzNp81wFNyt6cknpJ00uzk2Wfr/n8HHLrz4ajriFeuEsuekvS08Zu/eoujvFveYN+t98XAUw1jmEmN+ZEZfG2M8BzZKhVl+f6x8vexBIGn6hMFOeMqgTEEXZ2J39qwqbNSR5tLYwnmbr6b2hO4axvt1P/a6tHTw3SuI1pTrlNZPT33bSTBps7qb5K23/jZ7S8/AO72511tShud9MJIgjCKdwINYHs+e5TUqkfy2W3gVN5vA+WkVk3+Jbg8sAzwcKB+mp8G+ALUh64QRnEZOMOwPg3Ub/vEgAvcGwoArgKFvF4DrgEfBwKawHVgHagAy2EUnwAQ00sre4HXwBPgSlKrvmSMwig+CCwCh4F5Mb20chF4ntSq1h83JujAH3Eom+H9uAq8AAAAAElFTkSuQmCC><style>.sf-hidden{display:none!important}</style></head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Systemd rootpage-Systemd skin-vector action-view"><div id=archnavbar class=noprint style=display:none!important>
 
 
</div>
<div id=mw-page-base class=noprint style=display:none!important></div>
<div id=mw-head-base class=noprint style=display:none!important></div>
<div id=content class=mw-body role=main>
 <a id=top style=display:none!important></a>
 
 <div class="mw-indicators mw-body-content" style=display:none!important>
</div>
 <h1 id=firstHeading class=firstHeading lang=en>systemd</h1>
 
 <div id=bodyContent class=mw-body-content>
 <div id=siteSub class="noprint sf-hidden">From ArchWiki</div>
 <div id=contentSub></div>
 
 
 
 <div id=jump-to-nav></div>
 <a class=mw-jump-link href=#mw-head>Jump to navigation</a>
 <a class=mw-jump-link href=#p-search>Jump to search</a>
 <div id=mw-content-text dir=ltr class=mw-content-ltr lang=en><div class=mw-parser-output><p><span></span>
</p>
<div class=archwiki-template-meta-related-articles-start><p>Related articles<ul>
<li><a href=https://wiki.archlinux.org/index.php/Systemd/User title=Systemd/User>systemd/User</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Systemd/Timers title=Systemd/Timers>systemd/Timers</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Systemd/Journal title=Systemd/Journal>systemd/Journal</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Systemd_FAQ class=mw-redirect title="Systemd FAQ">systemd FAQ</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Init title=Init>init</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Daemons title=Daemons>Daemons</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Udev title=Udev>udev</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Improving_performance/Boot_process title="Improving performance/Boot process">Improving performance/Boot process</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Allow_users_to_shutdown title="Allow users to shutdown">Allow users to shutdown</a></li>
</ul></div>
<p>From the <a rel=nofollow class="external text" href=https://freedesktop.org/wiki/Software/systemd/>project web page</a>:
</p>
<dl><dd><i>systemd</i> is a suite of basic building blocks for a Linux system. It provides a system and service manager that runs as PID 1 and starts the rest of the system. systemd provides aggressive parallelization capabilities, uses socket and <a href=https://wiki.archlinux.org/index.php/D-Bus title=D-Bus>D-Bus</a> activation for starting services, offers on-demand starting of daemons, keeps track of processes using Linux <a href=https://wiki.archlinux.org/index.php/Control_groups class=mw-redirect title="Control groups">control groups</a>, maintains mount and automount points, and implements an elaborate transactional dependency-based service control logic. <i>systemd</i> supports SysV and LSB init scripts and works as a replacement for sysvinit. Other parts include a logging daemon, utilities to control basic system configuration like the hostname, date, locale, maintain a list of logged-in users and running containers and virtual machines, system accounts, runtime directories and settings, and daemons to manage simple network configuration, network time synchronization, log forwarding, and name resolution.</dl>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> For a detailed explanation of why Arch moved to <i>systemd</i>, see <a rel=nofollow class="external text" href="https://bbs.archlinux.org/viewtopic.php?pid=1149530#p1149530">this forum post</a>.</div>
<div id=toc class=toc><input type=checkbox role=button id=toctogglecheckbox class=toctogglecheckbox style=display:none><div class=toctitle dir=ltr lang=en><h2>Contents</h2><span class=toctogglespan><label class=toctogglelabel for=toctogglecheckbox></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href=#Basic_systemctl_usage><span class=tocnumber>1</span> <span class=toctext>Basic systemctl usage</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href=#Analyzing_the_system_state><span class=tocnumber>1.1</span> <span class=toctext>Analyzing the system state</span></a></li>
<li class="toclevel-2 tocsection-3"><a href=#Using_units><span class=tocnumber>1.2</span> <span class=toctext>Using units</span></a></li>
<li class="toclevel-2 tocsection-4"><a href=#Power_management><span class=tocnumber>1.3</span> <span class=toctext>Power management</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href=#Writing_unit_files><span class=tocnumber>2</span> <span class=toctext>Writing unit files</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href=#Handling_dependencies><span class=tocnumber>2.1</span> <span class=toctext>Handling dependencies</span></a></li>
<li class="toclevel-2 tocsection-7"><a href=#Service_types><span class=tocnumber>2.2</span> <span class=toctext>Service types</span></a></li>
<li class="toclevel-2 tocsection-8"><a href=#Editing_provided_units><span class=tocnumber>2.3</span> <span class=toctext>Editing provided units</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href=#Replacement_unit_files><span class=tocnumber>2.3.1</span> <span class=toctext>Replacement unit files</span></a></li>
<li class="toclevel-3 tocsection-10"><a href=#Drop-in_files><span class=tocnumber>2.3.2</span> <span class=toctext>Drop-in files</span></a></li>
<li class="toclevel-3 tocsection-11"><a href=#Revert_to_vendor_version><span class=tocnumber>2.3.3</span> <span class=toctext>Revert to vendor version</span></a></li>
<li class="toclevel-3 tocsection-12"><a href=#Examples><span class=tocnumber>2.3.4</span> <span class=toctext>Examples</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href=#Targets><span class=tocnumber>3</span> <span class=toctext>Targets</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href=#Get_current_targets><span class=tocnumber>3.1</span> <span class=toctext>Get current targets</span></a></li>
<li class="toclevel-2 tocsection-15"><a href=#Create_custom_target><span class=tocnumber>3.2</span> <span class=toctext>Create custom target</span></a></li>
<li class="toclevel-2 tocsection-16"><a href=#Mapping_between_SysV_runlevels_and_systemd_targets><span class=tocnumber>3.3</span> <span class=toctext>Mapping between SysV runlevels and systemd targets</span></a></li>
<li class="toclevel-2 tocsection-17"><a href=#Change_current_target><span class=tocnumber>3.4</span> <span class=toctext>Change current target</span></a></li>
<li class="toclevel-2 tocsection-18"><a href=#Change_default_target_to_boot_into><span class=tocnumber>3.5</span> <span class=toctext>Change default target to boot into</span></a></li>
<li class="toclevel-2 tocsection-19"><a href=#Default_target_order><span class=tocnumber>3.6</span> <span class=toctext>Default target order</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href=#Temporary_files><span class=tocnumber>4</span> <span class=toctext>Temporary files</span></a></li>
<li class="toclevel-1 tocsection-21"><a href=#Timers><span class=tocnumber>5</span> <span class=toctext>Timers</span></a></li>
<li class="toclevel-1 tocsection-22"><a href=#Mounting><span class=tocnumber>6</span> <span class=toctext>Mounting</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href=#GPT_partition_automounting><span class=tocnumber>6.1</span> <span class=toctext>GPT partition automounting</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href=#systemd-sysvcompat><span class=tocnumber>7</span> <span class=toctext>systemd-sysvcompat</span></a></li>
<li class="toclevel-1 tocsection-25"><a href=#Tips_and_tricks><span class=tocnumber>8</span> <span class=toctext>Tips and tricks</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href=#Running_services_after_the_network_is_up><span class=tocnumber>8.1</span> <span class=toctext>Running services after the network is up</span></a></li>
<li class="toclevel-2 tocsection-27"><a href=#Enable_installed_units_by_default><span class=tocnumber>8.2</span> <span class=toctext>Enable installed units by default</span></a></li>
<li class="toclevel-2 tocsection-28"><a href=#Sandboxing_application_environments><span class=tocnumber>8.3</span> <span class=toctext>Sandboxing application environments</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href=#Troubleshooting><span class=tocnumber>9</span> <span class=toctext>Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href=#Investigating_systemd_errors><span class=tocnumber>9.1</span> <span class=toctext>Investigating systemd errors</span></a></li>
<li class="toclevel-2 tocsection-31"><a href=#Diagnosing_boot_problems><span class=tocnumber>9.2</span> <span class=toctext>Diagnosing boot problems</span></a></li>
<li class="toclevel-2 tocsection-32"><a href=#Diagnosing_a_service><span class=tocnumber>9.3</span> <span class=toctext>Diagnosing a service</span></a></li>
<li class="toclevel-2 tocsection-33"><a href=#Shutdown/reboot_takes_terribly_long><span class=tocnumber>9.4</span> <span class=toctext>Shutdown/reboot takes terribly long</span></a></li>
<li class="toclevel-2 tocsection-34"><a href=#Short_lived_processes_do_not_seem_to_log_any_output><span class=tocnumber>9.5</span> <span class=toctext>Short lived processes do not seem to log any output</span></a></li>
<li class="toclevel-2 tocsection-35"><a href=#Boot_time_increasing_over_time><span class=tocnumber>9.6</span> <span class=toctext>Boot time increasing over time</span></a></li>
<li class="toclevel-2 tocsection-36"><a href=#systemd-tmpfiles-setup.service_fails_to_start_at_boot><span class=tocnumber>9.7</span> <span class=toctext>systemd-tmpfiles-setup.service fails to start at boot</span></a></li>
<li class="toclevel-2 tocsection-37"><a href=#systemd_version_printed_on_boot_is_not_the_same_as_installed_package_version><span class=tocnumber>9.8</span> <span class=toctext>systemd version printed on boot is not the same as installed package version</span></a></li>
<li class="toclevel-2 tocsection-38"><a href=#Disable_emergency_mode_on_remote_machine><span class=tocnumber>9.9</span> <span class=toctext>Disable emergency mode on remote machine</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-39"><a href=#See_also><span class=tocnumber>10</span> <span class=toctext>See also</span></a></li>
</ul>
</div>
<h2><span class=mw-headline id=Basic_systemctl_usage>Basic systemctl usage</span></h2>
<p>The main command used to introspect and control <i>systemd</i> is <i>systemctl</i>. Some of its uses are examining the system state and managing the system and services. See <span class="plainlinks archwiki-template-man" title="$ man 1 systemctl"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemctl.1>systemctl(1)</a></span> for more details.
</p>
<div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> 
<ul><li>You can use all of the following <i>systemctl</i> commands with the <code>-H <i>user</i>@<i>host</i></code> switch to control a <i>systemd</i> instance on a remote machine. This will use <a href=https://wiki.archlinux.org/index.php/SSH class=mw-redirect title=SSH>SSH</a> to connect to the remote <i>systemd</i> instance.</li>
<li><a href=https://wiki.archlinux.org/index.php/Plasma class=mw-redirect title=Plasma>Plasma</a> users can install <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href=https://aur.archlinux.org/packages/systemd-kcm/>systemd-kcm</a></span><sup><small>AUR</small></sup> as a graphical frontend for <i>systemctl</i>. After installing the module will be added under <i>System administration</i>.</ul>
</div>
<h3><span class=mw-headline id=Analyzing_the_system_state>Analyzing the system state</span></h3>
<p>Show <b>system status</b> using:
</p>
<pre>$ systemctl status
</pre>
<p><b>List running</b> units:
</p>
<pre>$ systemctl
</pre>
<p>or:
</p>
<pre>$ systemctl list-units
</pre>
<p><b>List failed</b> units:
</p>
<pre>$ systemctl --failed
</pre>
<p>The available unit files can be seen in <code>/usr/lib/systemd/system/</code> and <code>/etc/systemd/system/</code> (the latter takes precedence). <b>List installed</b> unit files with:
</p>
<pre>$ systemctl list-unit-files
</pre>
<p>Show the <a href=https://wiki.archlinux.org/index.php/Cgroups title=Cgroups>cgroup slice</a>, memory and parent for a PID:
</p>
<pre>$ systemctl status <i>pid</i>
</pre>
<h3><span class=mw-headline id=Using_units>Using units</span></h3>
<p>Units can be, for example, services (<i>.service</i>), mount points (<i>.mount</i>), devices (<i>.device</i>) or sockets (<i>.socket</i>).
<p>When using <i>systemctl</i>, you generally have to specify the complete name of the unit file, including its suffix, for example <code>sshd.socket</code>. There are however a few short forms when specifying the unit in the following <i>systemctl</i> commands:
</p>
<ul><li>If you do not specify the suffix, systemctl will assume <i>.service</i>. For example, <code>netctl</code> and <code>netctl.service</code> are equivalent.</li>
<li>Mount points will automatically be translated into the appropriate <i>.mount</i> unit. For example, specifying <code>/home</code> is equivalent to <code>home.mount</code>.</li>
<li>Similar to mount points, devices are automatically translated into the appropriate <i>.device</i> unit, therefore specifying <code>/dev/sda2</code> is equivalent to <code>dev-sda2.device</code>.</ul>
<p>See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd.unit.5>systemd.unit(5)</a></span> for details.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> Some unit names contain an <code>@</code> sign (e.g. <code>name@<i>string</i>.service</code>): this means that they are <a rel=nofollow class="external text" href=http://0pointer.de/blog/projects/instances.html>instances</a> of a <i>template</i> unit, whose actual file name does not contain the <code><i>string</i></code> part (e.g. <code>name@.service</code>). <code><i>string</i></code> is called the <i>instance identifier</i>, and is similar to an argument that is passed to the template unit when called with the <i>systemctl</i> command: in the unit file it will substitute the <code>%i</code> specifier. 
To be more accurate, <i>before</i> trying to instantiate the <code>name@.suffix</code> template unit, <i>systemd</i> will actually look for a unit with the exact <code>name@string.suffix</code> file name, although by convention such a "clash" happens rarely, i.e. most unit files containing an <code>@</code> sign are meant to be templates. Also, if a template unit is called without an instance identifier, it will just fail, since the <code>%i</code> specifier cannot be substituted.</div>
<div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> 
<ul><li>Most of the following commands also work if multiple units are specified, see <span class="plainlinks archwiki-template-man" title="$ man 1 systemctl"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemctl.1>systemctl(1)</a></span> for more information.</li>
<li>The <code>--now</code> switch can be used in conjunction with <code>enable</code>, <code>disable</code>, and <code>mask</code> to respectively start, stop, or mask the unit <i>immediately</i> rather than after rebooting.</li>
<li>A package may offer units for different purposes. If you just installed a package, <code>pacman -Qql <i>package</i> | grep -Fe .service -e .socket</code> can be used to check and find them.</ul>
</div>
<p><b>Start</b> a unit immediately:
</p>
<pre># systemctl start <i>unit</i>
</pre>
<p><b>Stop</b> a unit immediately:
</p>
<pre># systemctl stop <i>unit</i>
</pre>
<p><b>Restart</b> a unit:
</p>
<pre># systemctl restart <i>unit</i>
</pre>
<p>Ask a unit to <b>reload</b> its configuration:
</p>
<pre># systemctl reload <i>unit</i>
</pre>
<p>Show the <b>status</b> of a unit, including whether it is running or not:
</p>
<pre>$ systemctl status <i>unit</i>
</pre>
<p><b>Check</b> whether a unit is already enabled or not:
</p>
<pre>$ systemctl is-enabled <i>unit</i>
</pre>
<p><b>Enable</b> a unit to be started on <b>bootup</b>:
</p>
<pre># systemctl enable <i>unit</i>
</pre>
<p><b>Enable</b> a unit to be started on <b>bootup</b> and <b>Start</b> immediately:
</p>
<pre># systemctl enable --now <i>unit</i>
</pre>
<p><b>Disable</b> a unit to not start during bootup:
</p>
<pre># systemctl disable <i>unit</i>
</pre>
<p><b>Mask</b> a unit to make it impossible to start it (both manually and as a dependency, which makes masking dangerous):
</p>
<pre># systemctl mask <i>unit</i>
</pre>
<p><b>Unmask</b> a unit:
</p>
<pre># systemctl unmask <i>unit</i>
</pre>
<p>Show the <b>manual page</b> associated with a unit (this has to be supported by the unit file):
</p>
<pre>$ systemctl help <i>unit</i>
</pre>
<p><b>Reload <i>systemd</i> </b> manager configuration, scanning for <b>new or changed units</b>:
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> This does not ask the changed units to reload their own configurations. See <code>reload</code> example above.</div>
<pre># systemctl daemon-reload
</pre>
<h3><span class=mw-headline id=Power_management>Power management</span></h3>
<p><a href=https://wiki.archlinux.org/index.php/Polkit title=Polkit>polkit</a> is necessary for power management as an unprivileged user. If you are in a local <i>systemd-logind</i> user session and no other session is active, the following commands will work without root privileges. If not (for example, because another user is logged into a tty), <i>systemd</i> will automatically ask you for the root password.
<p>Shut down and reboot the system:
</p>
<pre>$ systemctl reboot
</pre>
<p>Shut down and power-off the system:
</p>
<pre>$ systemctl poweroff
</pre>
<p>Suspend the system:
</p>
<pre>$ systemctl suspend
</pre>
<p>Put the system into hibernation:
</p>
<pre>$ systemctl hibernate
</pre>
<p>Put the system into hybrid-sleep state (or suspend-to-both):
</p>
<pre>$ systemctl hybrid-sleep
</pre>
<h2><span class=mw-headline id=Writing_unit_files>Writing unit files</span></h2>
<p>The syntax of <i>systemd'</i>s <a rel=nofollow class="external text" href=https://www.freedesktop.org/software/systemd/man/systemd.unit.html>unit files</a> is inspired by XDG Desktop Entry Specification <i>.desktop</i> files, which are in turn inspired by Microsoft Windows <i>.ini</i> files. Unit files are loaded from multiple locations (to see the full list, run <code>systemctl show --property=UnitPath</code>), but the main ones are (listed from lowest to highest precedence):
</p>
<ul><li><code>/usr/lib/systemd/system/</code>: units provided by installed packages</li>
<li><code>/etc/systemd/system/</code>: units installed by the system administrator</ul>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> 
<ul><li>The load paths are completely different when running <i>systemd</i> in <a href=https://wiki.archlinux.org/index.php/Systemd/User#How_it_works title=Systemd/User>user mode</a>.</li>
<li>systemd unit names may only contain ASCII alphanumeric characters, underscores and periods. All other characters must be replaced by C-style "\x2d" escapes, or employ their predefined semantics ('@', '-'). See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.unit"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd.unit.5>systemd.unit(5)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 1 systemd-escape"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd-escape.1>systemd-escape(1)</a></span> for more information.</ul>
</div>
<p>Look at the units installed by your packages for examples, as well as the <a rel=nofollow class="external text" href=https://www.freedesktop.org/software/systemd/man/systemd.service.html#Examples>annotated example section</a> of <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.service"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd.service.5>systemd.service(5)</a></span>.
</p>
<div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> Comments prepended with <code>#</code> may be used in unit-files as well, but only in new lines. Do not use end-line comments after <i>systemd</i> parameters or the unit will fail to activate.</div>
<h3><span class=mw-headline id=Handling_dependencies>Handling dependencies</span></h3>
<p>With <i>systemd</i>, dependencies can be resolved by designing the unit files correctly. The most typical case is that the unit <i>A</i> requires the unit <i>B</i> to be running before <i>A</i> is started. In that case add <code>Requires=<i>B</i></code> and <code>After=<i>B</i></code> to the <code>[Unit]</code> section of <i>A</i>. If the dependency is optional, add <code>Wants=<i>B</i></code> and <code>After=<i>B</i></code> instead. Note that <code>Wants=</code> and <code>Requires=</code> do not imply <code>After=</code>, meaning that if <code>After=</code> is not specified, the two units will be started in parallel.
<p>Dependencies are typically placed on services and not on <a href=#Targets>#Targets</a>. For example, <code>network.target</code> is pulled in by whatever service configures your network interfaces, therefore ordering your custom unit after it is sufficient since <code>network.target</code> is started anyway.
</p>
<h3><span class=mw-headline id=Service_types>Service types</span></h3>
<p>There are several different start-up types to consider when writing a custom service file. This is set with the <code>Type=</code> parameter in the <code>[Service]</code> section:
</p>
<ul><li><code>Type=simple</code> (default): <i>systemd</i> considers the service to be started up immediately. The process must not fork. Do not use this type if other services need to be ordered on this service, unless it is socket activated.</li>
<li><code>Type=forking</code>: <i>systemd</i> considers the service started up once the process forks and the parent has exited. For classic daemons use this type unless you know that it is not necessary. You should specify <code>PIDFile=</code> as well so <i>systemd</i> can keep track of the main process.</li>
<li><code>Type=oneshot</code>: this is useful for scripts that do a single job and then exit. You may want to set <code>RemainAfterExit=yes</code> as well so that <i>systemd</i> still considers the service as active after the process has exited.</li>
<li><code>Type=notify</code>: identical to <code>Type=simple</code>, but with the stipulation that the daemon will send a signal to <i>systemd</i> when it is ready. The reference implementation for this notification is provided by <i>libsystemd-daemon.so</i>.</li>
<li><code>Type=dbus</code>: the service is considered ready when the specified <code>BusName</code> appears on DBus's system bus.</li>
<li><code>Type=idle</code>: <i>systemd</i> will delay execution of the service binary until all jobs are dispatched. Other than that behavior is very similar to <code>Type=simple</code>.</ul>
<p>See the <a rel=nofollow class="external text" href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#Type=">systemd.service(5)</a> man page for a more detailed explanation of the <code>Type</code> values.
</p>
<h3><span class=mw-headline id=Editing_provided_units>Editing provided units</span></h3>
<div class="noprint archwiki-template-message">
<p><a href=https://wiki.archlinux.org/index.php/File:Tango-edit-clear.png class=image><img alt=Tango-edit-clear.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a><b>This article or section needs language, wiki syntax or style improvements. See <a href=https://wiki.archlinux.org/index.php/Help:Style title=Help:Style>Help:Style</a> for reference.</b><a href=https://wiki.archlinux.org/index.php/File:Tango-edit-clear.png class=image><img alt=Tango-edit-clear.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a></p>
<div><b>Reason:</b> Should be renamed to more descriptive <i>Modifying provided units</i>. (Discuss in <a rel=nofollow class="external text" href=https://wiki.archlinux.org/index.php/Talk:Edit#Deprecation>Talk:Edit#Deprecation</a>)</div>
</div>
<p>To avoid conflicts with pacman, unit files provided by packages should not be directly edited. There are two safe ways to modify a unit without touching the original file: create a new unit file which <a href=#Replacement_unit_files>overrides the original unit</a> or create <a href=#Drop-in_files>drop-in snippets</a> which are applied on top of the original unit. For both methods, you must reload the unit afterwards to apply your changes. This can be done either by editing the unit with <code>systemctl edit</code> (which reloads the unit automatically) or by reloading all units with:
</p>
<pre># systemctl daemon-reload
</pre>
<div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> 
<ul><li>You can use <i>systemd-delta</i> to see which unit files have been overridden or extended and what exactly has been changed.</li>
<li>Use <code>systemctl cat <i>unit</i></code> to view the content of a unit file and all associated drop-in snippets.</ul>
</div>
<h4><span class=mw-headline id=Replacement_unit_files>Replacement unit files</span></h4>
<p>To replace the unit file <code>/usr/lib/systemd/system/<i>unit</i></code>, create the file <code>/etc/systemd/system/<i>unit</i></code> and <i>reenable</i> the unit to update the symlinks:
</p>
<pre># systemctl reenable <i>unit</i>
</pre>
<p>Alternatively, run:
</p>
<pre># systemctl edit --full <i>unit</i>
</pre>
<p>This opens <code>/etc/systemd/system/<i>unit</i></code> in your editor (copying the installed version if it does not exist yet) and automatically reloads it when you finish editing.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> The replacement units will keep on being used even if Pacman updates the original units in the future. This method makes system maintenance more difficult and therefore the next approach is preferred.</div>
<h4><span class=mw-headline id=Drop-in_files>Drop-in files</span></h4>
<p>To create drop-in files for the unit file <code>/usr/lib/systemd/system/<i>unit</i></code>, create the directory <code>/etc/systemd/system/<i>unit</i>.d/</code> and place <i>.conf</i> files there to override or add new options. <i>systemd</i> will parse and apply these files on top of the original unit.
<p>The easiest way to do this is to run:
</p>
<pre># systemctl edit <i>unit</i>
</pre>
<p>This opens the file <code>/etc/systemd/system/<i>unit</i>.d/override.conf</code> in your text editor (creating it if necessary) and automatically reloads the unit when you are done editing.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> Not all keys can be overridden with drop-in files. For example, for changing <code>Conflicts=</code> a replacement file <a rel=nofollow class="external text" href=https://lists.freedesktop.org/archives/systemd-devel/2017-June/038976.html>is necessary</a>.</div>
<h4><span class=mw-headline id=Revert_to_vendor_version>Revert to vendor version</span></h4>
<p>To revert any changes to a unit made using <code>systemctl edit</code> do:
</p>
<pre># systemctl revert <i>unit</i>
</pre>
<h4><span class=mw-headline id=Examples>Examples</span></h4>
<p>For example, if you simply want to add an additional dependency to a unit, you may create the following file:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/systemd/system/<i>unit</i>.d/customdependency.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Unit]
Requires=<i>new dependency</i>
After=<i>new dependency</i></pre>
<p>As another example, in order to replace the <code>ExecStart</code> directive for a unit that is not of type <code>oneshot</code>, create the following file:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/systemd/system/<i>unit</i>.d/customexec.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Service]
ExecStart=
ExecStart=<i>new command</i></pre>
<p>Note how <code>ExecStart</code> must be cleared before being re-assigned <a rel=nofollow class="external autonumber" href="https://bugzilla.redhat.com/show_bug.cgi?id=756787#c9">[1]</a>. The same holds for every item that can be specified multiple times, e.g. <code>OnCalendar</code> for timers.
<p>One more example to automatically restart a service:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/systemd/system/<i>unit</i>.d/restart.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Service]
Restart=always
RestartSec=30</pre>
<h2><span class=mw-headline id=Targets>Targets</span></h2>
<div class="noprint archwiki-template-message">
<p><a href=https://wiki.archlinux.org/index.php/File:Tango-edit-clear.png class=image><img alt=Tango-edit-clear.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a><b>This article or section needs language, wiki syntax or style improvements. See <a href=https://wiki.archlinux.org/index.php/Help:Style title=Help:Style>Help:Style</a> for reference.</b><a href=https://wiki.archlinux.org/index.php/File:Tango-edit-clear.png class=image><img alt=Tango-edit-clear.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-3)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a></p>
<div><b>Reason:</b> Unclear description, copy-pasted content (explicitly mentions "Fedora"). (Discuss in <a rel=nofollow class="external text" href=https://wiki.archlinux.org/index.php/Talk:Systemd#Make_section_>"Targets"_more_clearly Talk:Systemd#Make section "Targets" more clearly</a>)</div>
</div>
<p><i>systemd</i> uses <i>targets</i> to group units together via dependencies and as standardized synchronization points. They serve a similar purpose as <a href=https://en.wikipedia.org/wiki/Runlevel class=extiw title=wikipedia:Runlevel>runlevels</a> but act a little different. Each <i>target</i> is named instead of numbered and is intended to serve a specific purpose with the possibility of having multiple ones active at the same time. Some <i>target</i>s are implemented by inheriting all of the services of another <i>target</i> and adding additional services to it. There are <i>systemd</i> <i>target</i>s that mimic the common SystemVinit runlevels so you can still switch <i>target</i>s using the familiar <code>telinit RUNLEVEL</code> command.
</p>
<h3><span class=mw-headline id=Get_current_targets>Get current targets</span></h3>
<p>The following should be used under <i>systemd</i> instead of running <code>runlevel</code>:
</p>
<pre>$ systemctl list-units --type=target
</pre>
<h3><span class=mw-headline id=Create_custom_target>Create custom target</span></h3>
<p>The runlevels that held a defined meaning under sysvinit (i.e., 0, 1, 3, 5, and 6); have a 1:1 mapping with a specific <i>systemd</i> <i>target</i>. Unfortunately, there is no good way to do the same for the user-defined runlevels like 2 and 4. If you make use of those it is suggested that you make a new named <i>systemd</i> <i>target</i> as <code>/etc/systemd/system/<i>your target</i></code> that takes one of the existing runlevels as a base (you can look at <code>/usr/lib/systemd/system/graphical.target</code> as an example), make a directory <code>/etc/systemd/system/<i>your target</i>.wants</code>, and then symlink the additional services from <code>/usr/lib/systemd/system/</code> that you wish to enable.
</p>
<h3><span class=mw-headline id=Mapping_between_SysV_runlevels_and_systemd_targets>Mapping between SysV runlevels and systemd targets</span></h3>
<table class=wikitable>
<tbody><tr>
<th>SysV Runlevel</th>
<th>systemd Target</th>
<th>Notes
</tr>
<tr>
<td>0</td>
<td>runlevel0.target, poweroff.target</td>
<td>Halt the system.
</tr>
<tr>
<td>1, s, single</td>
<td>runlevel1.target, rescue.target</td>
<td>Single user mode.
</tr>
<tr>
<td>2, 4</td>
<td>runlevel2.target, runlevel4.target, multi-user.target</td>
<td>User-defined/Site-specific runlevels. By default, identical to 3.
</tr>
<tr>
<td>3</td>
<td>runlevel3.target, multi-user.target</td>
<td>Multi-user, non-graphical. Users can usually login via multiple consoles or via the network.
</tr>
<tr>
<td>5</td>
<td>runlevel5.target, graphical.target</td>
<td>Multi-user, graphical. Usually has all the services of runlevel 3 plus a graphical login.
</tr>
<tr>
<td>6</td>
<td>runlevel6.target, reboot.target</td>
<td>Reboot
</tr>
<tr>
<td>emergency</td>
<td>emergency.target</td>
<td>Emergency shell
</tr>
</table>
<h3><span class=mw-headline id=Change_current_target>Change current target</span></h3>
<p>In <i>systemd</i> targets are exposed via <i>target units</i>. You can change them like this:
</p>
<pre># systemctl isolate graphical.target
</pre>
<p>This will only change the current target, and has no effect on the next boot. This is equivalent to commands such as <code>telinit 3</code> or <code>telinit 5</code> in Sysvinit.
</p>
<h3><span class=mw-headline id=Change_default_target_to_boot_into>Change default target to boot into</span></h3>
<p>The standard target is <code>default.target</code>, which is a symlink to <code>graphical.target</code>. This roughly corresponds to the old runlevel 5.
<p>To verify the current target with <i>systemctl</i>:
</p>
<pre>$ systemctl get-default
</pre>
<p>To change the default target to boot into, change the <code>default.target</code> symlink. With <i>systemctl</i>:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom># systemctl set-default multi-user.target</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>Removed /etc/systemd/system/default.target.
Created symlink /etc/systemd/system/default.target -&gt; /usr/lib/systemd/system/multi-user.target.</pre>
<p>Alternatively, append one of the following <a href=https://wiki.archlinux.org/index.php/Kernel_parameters title="Kernel parameters">kernel parameters</a> to your bootloader:
</p>
<ul><li><code>systemd.unit=multi-user.target</code> (which roughly corresponds to the old runlevel 3),</li>
<li><code>systemd.unit=rescue.target</code> (which roughly corresponds to the old runlevel 1).</ul>
<h3><span class=mw-headline id=Default_target_order>Default target order</span></h3>
<p>Systemd chooses the <code>default.target</code> according to the following order:
</p>
<ol><li>Kernel parameter shown above</li>
<li>Symlink of <code>/etc/systemd/system/default.target</code></li>
<li>Symlink of <code>/usr/lib/systemd/system/default.target</code></ol>
<h2><span class=mw-headline id=Temporary_files>Temporary files</span></h2>
<p>"<i>systemd-tmpfiles</i> creates, deletes and cleans up volatile and temporary files and directories." It reads configuration files in <code>/etc/tmpfiles.d/</code> and <code>/usr/lib/tmpfiles.d/</code> to discover which actions to perform. Configuration files in the former directory take precedence over those in the latter directory.
<p>Configuration files are usually provided together with service files, and they are named in the style of <code>/usr/lib/tmpfiles.d/<i>program</i>.conf</code>. For example, the <a href=https://wiki.archlinux.org/index.php/Samba title=Samba>Samba</a> daemon expects the directory <code>/run/samba</code> to exist and to have the correct permissions. Therefore, the <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://www.archlinux.org/packages/?name=samba">samba</a></span> package ships with this configuration:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/usr/lib/tmpfiles.d/samba.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>D /run/samba 0755 root root
</pre>
<p>Configuration files may also be used to write values into certain files on boot. For example, if you used <code>/etc/rc.local</code> to disable wakeup from USB devices with <code>echo USBE &gt; /proc/acpi/wakeup</code>, you may use the following tmpfile instead:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/tmpfiles.d/disable-usb-wake.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>#    Path                  Mode UID  GID  Age Argument
w    /proc/acpi/wakeup     -    -    -    -   USBE
</pre>
<p>See the <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-tmpfiles"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd-tmpfiles.8>systemd-tmpfiles(8)</a></span> and <span class="plainlinks archwiki-template-man" title="$ man 5 tmpfiles.d"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/tmpfiles.d.5>tmpfiles.d(5)</a></span> man pages for details.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> This method may not work to set options in <code>/sys</code> since the <i>systemd-tmpfiles-setup</i> service may run before the appropriate device modules is loaded. In this case you could check whether the module has a parameter for the option you want to set with <code>modinfo <i>module</i></code> and set this option with a <a href=https://wiki.archlinux.org/index.php/Kernel_modules#Setting_module_options class=mw-redirect title="Kernel modules">config file in /etc/modprobe.d</a>. Otherwise you will have to write a <a href=https://wiki.archlinux.org/index.php/Udev#About_udev_rules title=Udev>udev rule</a> to set the appropriate attribute as soon as the device appears.</div>
<h2><span class=mw-headline id=Timers>Timers</span></h2>
<p>A timer is a unit configuration file whose name ends with <i>.timer</i> and encodes information about a timer controlled and supervised by <i>systemd</i>, for timer-based activation. See <a href=https://wiki.archlinux.org/index.php/Systemd/Timers title=Systemd/Timers>systemd/Timers</a>.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> Timers can replace <a href=https://wiki.archlinux.org/index.php/Cron title=Cron>cron</a> functionality to a great extent. See <a href=https://wiki.archlinux.org/index.php/Systemd/Timers#As_a_cron_replacement title=Systemd/Timers>systemd/Timers#As a cron replacement</a>.</div>
<h2><span class=mw-headline id=Mounting>Mounting</span></h2>
<p><i>systemd</i> is in charge of mounting the partitions and filesystems specified in <code>/etc/fstab</code>. The <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-fstab-generator"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd-fstab-generator.8>systemd-fstab-generator(8)</a></span> translates all the entries in <code>/etc/fstab</code> into systemd units, this is performed at boot time and whenever the configuration of the system manager is reloaded.
<p><i>systemd</i> extends the usual <a href=https://wiki.archlinux.org/index.php/Fstab title=Fstab>fstab</a> capabilities and offers additional mount options. These affect the dependencies of the mount unit, they can for example ensure that a mount is performed only once the network is up or only once another partition is mounted. The full list of specific <i>systemd</i> mount options, typically prefixed with <code>x-systemd.</code>, is detailed in <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.mount"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd.mount.5#FSTAB>systemd.mount(5)</a></span>.
<p>An example of these mount options in the context of <i>automounting</i>, which means mounting only when the resource is required rather than automatically at boot time, is provided in <a href=https://wiki.archlinux.org/index.php/Fstab#Automount_with_systemd title=Fstab>fstab#Automount with systemd</a>.
</p>
<h3><span class=mw-headline id=GPT_partition_automounting>GPT partition automounting</span></h3>
<p>On a <a href=https://wiki.archlinux.org/index.php/GPT class=mw-redirect title=GPT>GPT</a> partitioned disk <span class="plainlinks archwiki-template-man" title="$ man 8 systemd-gpt-auto-generator"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd-gpt-auto-generator.8>systemd-gpt-auto-generator(8)</a></span> will mount partitions following the <a rel=nofollow class="external text" href=https://www.freedesktop.org/wiki/Specifications/DiscoverablePartitionsSpec/>Discoverable Partitions Specification</a>, thus they can be omitted from <code>fstab</code>.
<p>The automounting for a partition can be disabled by changing the partition's <a href=https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs class=extiw title="wikipedia:GUID Partition Table">type GUID</a> or setting the partition attribute bit 63 "do not automount", see <a href=https://wiki.archlinux.org/index.php/Gdisk#Prevent_GPT_partition_automounting class=mw-redirect title=Gdisk>gdisk#Prevent GPT partition automounting</a>.
</p>
<h2><span class=mw-headline id=systemd-sysvcompat>systemd-sysvcompat</span></h2>
<p><span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://www.archlinux.org/packages/?name=systemd-sysvcompat">systemd-sysvcompat</a></span> (required by <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://www.archlinux.org/packages/?name=base">base</a></span>) primary role is to provide the traditional linux <a href=https://wiki.archlinux.org/index.php/Init title=Init>init</a> binary. For systemd controlled systems, <code>init</code> is just a symbolic link to its <code>systemd</code> executable.
<p>In addition, it also provides 6 convenience short cuts that <a href=https://wiki.archlinux.org/index.php/SysVinit title=SysVinit>SysVinit</a> users might be used to. The convenience short cuts are <span class="plainlinks archwiki-template-man" title="$ man 8 halt"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/halt.8>halt(8)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 poweroff"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/poweroff.8>poweroff(8)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 reboot"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/reboot.8>reboot(8)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 runlevel"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/runlevel.8>runlevel(8)</a></span>, <span class="plainlinks archwiki-template-man" title="$ man 8 shutdown"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/shutdown.8>shutdown(8)</a></span>, and <span class="plainlinks archwiki-template-man" title="$ man 8 telinit"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/telinit.8>telinit(8)</a></span>. Each one of those 6 commands is a symbolic link to <code>systemctl</code>, and governed by systemd behavior. Therefore, the discussion at <a href=#Power_management>#Power management</a> applies to <code>halt</code>, <code>poweroff</code>, <code>reboot</code> and <code>shutdown</code>. The discussion at <a href=#Mapping_between_SysV_runlevels_and_systemd_targets>#Mapping between SysV runlevels and systemd targets</a> applies to <code>runlevel</code> and <code>telinit</code>.
<p>Systemd based systems can give up those System V compatibility methods by using the <code>init=</code> <a href=https://wiki.archlinux.org/index.php/Kernel_parameters#Parameter_list title="Kernel parameters">boot parameter</a> (see, for example, <a rel=nofollow class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=233387">[solved] /bin/init is in systemd-sysvcompat&nbsp;?</a>) and systemd native <code>systemctl</code> command arguments.
</p>
<h2><span class=mw-headline id=Tips_and_tricks>Tips and tricks</span></h2>
<h3><span class=mw-headline id=Running_services_after_the_network_is_up>Running services after the network is up</span></h3>
<p>To delay a service after the network is up, include the following dependencies in the <i>.service</i> file:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/systemd/system/<i>foo</i>.service</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>[Unit]
...
<b>Wants=network-online.target</b>
<b>After=network-online.target</b>
...</pre>
<p>The network wait service of the particular application that manages the network, must also be enabled so that <code>network-online.target</code> properly reflects the network status.
</p>
<ul><li>If using <a href=https://wiki.archlinux.org/index.php/NetworkManager title=NetworkManager>NetworkManager</a>, <code>NetworkManager-wait-online.service</code> is enabled together with <code>NetworkManager.service</code>. Check if this is the case with <code>systemctl is-enabled NetworkManager-wait-online.service</code>. If it is not enabled, then <a href=https://wiki.archlinux.org/index.php/Enable class=mw-redirect title=Enable>reenable</a> <code>NetworkManager.service</code>.</li>
<li>In the case of <a href=https://wiki.archlinux.org/index.php/Netctl title=Netctl>netctl</a>, <a href=https://wiki.archlinux.org/index.php/Enable class=mw-redirect title=Enable>enable</a> the <code>netctl-wait-online.service</code>.</li>
<li>If using <a href=https://wiki.archlinux.org/index.php/Systemd-networkd title=Systemd-networkd>systemd-networkd</a>, <code>systemd-networkd-wait-online.service</code> is enabled together with <code>systemd-networkd.service</code>. Check if this is the case with <code>systemctl is-enabled systemd-networkd-wait-online.service</code>.</ul>
<p>For more detailed explanations see <a rel=nofollow class="external text" href=https://www.freedesktop.org/wiki/Software/systemd/NetworkTarget/>Running services after the network is up</a> in the systemd wiki.
</p>
<h3><span class=mw-headline id=Enable_installed_units_by_default>Enable installed units by default</span></h3>
<div class="noprint archwiki-template-message">
<p><a href=https://wiki.archlinux.org/index.php/File:Tango-view-fullscreen.png class=image><img alt=Tango-view-fullscreen.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a><b>This article or section needs expansion.</b><a href=https://wiki.archlinux.org/index.php/File:Tango-view-fullscreen.png class=image><img alt=Tango-view-fullscreen.png src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48"><rect fill-opacity="0"/></svg>' decoding=async style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-4)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" width=48 height=48></a></p>
<div><b>Reason:</b> How does it work with instantiated units? (Discuss in <a rel=nofollow class="external text" href=https://wiki.archlinux.org/index.php/Talk:Systemd>Talk:Systemd#</a>)</div>
</div>
<p>Arch Linux ships with <code>/usr/lib/systemd/system-preset/99-default.preset</code> containing <code>disable *</code>. This causes <i>systemctl preset</i> to disable all units by default, such that when a new package is installed, the user must manually enable the unit.
<p>If this behavior is not desired, simply create a symlink from <code>/etc/systemd/system-preset/99-default.preset</code> to <code>/dev/null</code> in order to override the configuration file. This will cause <i>systemctl preset</i> to enable all units that get installed—regardless of unit type—unless specified in another file in one <i>systemctl preset'</i>s configuration directories. User units are not affected. See <span class="plainlinks archwiki-template-man" title="$ man 5 systemd.preset"><a rel=nofollow class="external text" href=https://jlk.fjfi.cvut.cz/arch/manpages/man/systemd.preset.5>systemd.preset(5)</a></span> for more information.
</p>
<div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> Enabling all units by default may cause problems with packages that contain two or more mutually exclusive units. <i>systemctl preset</i> is designed to be used by distributions and spins or system administrators. In the case where two conflicting units would be enabled, you should explicitly specify which one is to be disabled in a preset configuration file as specified in the manpage for <code>systemd.preset</code>.</div>
<h3><span class=mw-headline id=Sandboxing_application_environments>Sandboxing application environments</span></h3>
<p>A unit file can be created as a sandbox to isolate applications and their processes within a hardened virtual environment. systemd leverages <a href=https://en.wikipedia.org/wiki/Linux_namespaces class=extiw title="wikipedia:Linux namespaces">namespaces</a>, white-/blacklisting of <a href=https://wiki.archlinux.org/index.php/Capabilities title=Capabilities>Capabilities</a>, and <a href=https://wiki.archlinux.org/index.php/Control_groups class=mw-redirect title="Control groups">control groups</a> to container processes through an extensive <a rel=nofollow class="external text" href=https://www.freedesktop.org/software/systemd/man/systemd.exec.html>execution environment configuration</a>.
<p>The enhancement of an existing systemd unit file with application sandboxing typically requires trial-and-error tests accompanied by the generous use of <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://www.archlinux.org/packages/?name=strace">strace</a></span>, <a href=https://en.wikipedia.org/wiki/Standard_streams#Standard_error_.28stderr.29 class=extiw title="wikipedia:Standard streams">stderr</a> and <a rel=nofollow class="external text" href=https://www.freedesktop.org/software/systemd/man/journalctl.html>journalctl</a> error logging and output facilities. You may want to first search upstream documentation for already done tests to base trials on.
<p>Some examples on how sandboxing with systemd can be deployed:
</p>
<ul><li><code>CapabilityBoundingSet</code> defines a whitelisted set of allowed capabilities, but may also be used to blacklist a specific capability for a unit.
<ul><li>The <code>CAP_SYS_ADM</code> capability, for example, which should be one of the <a rel=nofollow class="external text" href=https://lwn.net/Articles/486306/>goals of a secure sandbox</a>: <code>CapabilityBoundingSet=~ CAP_SYS_ADM</code></ul></ul>
<h2><span class=mw-headline id=Troubleshooting>Troubleshooting</span></h2>
<h3><span class=mw-headline id=Investigating_systemd_errors>Investigating systemd errors</span></h3>
<p>As an example, we will investigate an error with <code>systemd-modules-load</code> service:
<p><b>1.</b> Lets find the <i>systemd</i> services which fail to start at boot time:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>$ systemctl --state=failed</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>systemd-modules-load.service   loaded <b>failed failed</b>  Load Kernel Modules</pre>
<p>Another way is to live log <i>systemd</i> messages:
</p>
<pre>$ journalctl -fp err
</pre>
<p><b>2.</b> Ok, we found a problem with <code>systemd-modules-load</code> service. We want to know more:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>$ systemctl status systemd-modules-load</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>systemd-modules-load.service - Load Kernel Modules
   Loaded: loaded (/usr/lib/systemd/system/systemd-modules-load.service; static)
   Active: <b>failed</b> (Result: exit-code) since So 2013-08-25 11:48:13 CEST; 32s ago
     Docs: man:systemd-modules-load.service(8).
           man:modules-load.d(5)
  Process: <b>15630</b> ExecStart=/usr/lib/systemd/systemd-modules-load (<b>code=exited, status=1/FAILURE</b>)</pre>
<p>If the <code>Process ID</code> is not listed, just restart the failed service with <code>systemctl restart systemd-modules-load</code>
<p><b>3.</b> Now we have the process id (PID) to investigate this error in depth. Enter the following command with the current <code>Process ID</code> (here: 15630):
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>$ journalctl _PID=15630</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>-- Logs begin at Sa 2013-05-25 10:31:12 CEST, end at So 2013-08-25 11:51:17 CEST. --
Aug 25 11:48:13 mypc systemd-modules-load[15630]: <b>Failed to find module 'blacklist usblp'</b>
Aug 25 11:48:13 mypc systemd-modules-load[15630]: <b>Failed to find module 'install usblp /bin/false'</b></pre>
<p><b>4.</b> We see that some of the kernel module configs have wrong settings. Therefore we have a look at these settings in <code>/etc/modules-load.d/</code>:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>$ ls -Al /etc/modules-load.d/</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>...
-rw-r--r--   1 root root    79  1. Dez 2012  blacklist.conf
-rw-r--r--   1 root root     1  2. Mär 14:30 encrypt.conf
-rw-r--r--   1 root root     3  5. Dez 2012  printing.conf
-rw-r--r--   1 root root     6 14. Jul 11:01 realtek.conf
-rw-r--r--   1 root root    65  2. Jun 23:01 virtualbox.conf
...
</pre>
<p><b>5.</b> The <code>Failed to find module 'blacklist usblp'</code> error message might be related to a wrong setting inside of <code>blacklist.conf</code>. Lets deactivate it with inserting a trailing <b>#</b> before each option we found via step 3:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>/etc/modules-load.d/blacklist.conf</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em><b>#</b> blacklist usblp
<b>#</b> install usblp /bin/false
</pre>
<p><b>6.</b> Now, try to start <code>systemd-modules-load</code>:
</p>
<pre># systemctl start systemd-modules-load
</pre>
<p>If it was successful, this should not prompt anything. If you see any error, go back to step 3 and use the new PID for solving the errors left.
<p>If everything is ok, you can verify that the service was started successfully with:
</p>
<pre style="margin-bottom:0px;border-bottom:medium none;padding-bottom:.8em;--darkreader-inline-border-bottom:currentcolor" data-darkreader-inline-border-bottom>$ systemctl status systemd-modules-load</pre>
<pre style=margin-top:0;border-top-style:dashed;padding-top:.8em>systemd-modules-load.service - Load Kernel Modules
   Loaded: <b>loaded</b> (/usr/lib/systemd/system/systemd-modules-load.service; static)
   Active: <b>active (exited)</b> since So 2013-08-25 12:22:31 CEST; 34s ago
     Docs: man:systemd-modules-load.service(8)
           man:modules-load.d(5)
 Process: 19005 ExecStart=/usr/lib/systemd/systemd-modules-load (code=exited, status=0/SUCCESS)
Aug 25 12:22:31 mypc systemd[1]: <b>Started Load Kernel Modules</b>.</pre>
<h3><span class=mw-headline id=Diagnosing_boot_problems>Diagnosing boot problems</span></h3>
<p><i>systemd</i> has several options for diagnosing problems with the boot process. See <a href=https://wiki.archlinux.org/index.php/Boot_debugging class=mw-redirect title="Boot debugging">boot debugging</a> for more general instructions and options to capture boot messages before <i>systemd</i> takes over the <a href=https://wiki.archlinux.org/index.php/Boot_process class=mw-redirect title="Boot process">boot process</a>. Also see the <a rel=nofollow class="external text" href=https://freedesktop.org/wiki/Software/systemd/Debugging/>systemd debugging documentation</a>.
</p>
<h3><span class=mw-headline id=Diagnosing_a_service>Diagnosing a service</span></h3>
<p>If some <i>systemd</i> service misbehaves or you want to get more information about what is happening, set the <code>SYSTEMD_LOG_LEVEL</code> <a href=https://wiki.archlinux.org/index.php/Environment_variable class=mw-redirect title="Environment variable">environment variable</a> to <code>debug</code>. For example, to run the <i>systemd-networkd</i> daemon in debug mode:
<p>Add a <a href=#Drop-in_files>drop-in file</a> for the service adding the two lines:
</p>
<pre>[Service]
Environment=SYSTEMD_LOG_LEVEL=debug
</pre>
<p>Or equivalently, set the environment variable manually:
</p>
<pre># SYSTEMD_LOG_LEVEL=debug /lib/systemd/systemd-networkd
</pre>
<p>then <a href=https://wiki.archlinux.org/index.php/Restart class=mw-redirect title=Restart>restart</a> <i>systemd-networkd</i> and watch the journal for the service with the <code>-f</code>/<code>--follow</code> option.
</p>
<h3><span id=Shutdown.2Freboot_takes_terribly_long></span><span class=mw-headline id=Shutdown/reboot_takes_terribly_long>Shutdown/reboot takes terribly long</span></h3>
<p>If the shutdown process takes a very long time (or seems to freeze) most likely a service not exiting is to blame. <i>systemd</i> waits some time for each service to exit before trying to kill it. To find out if you are affected, see <a rel=nofollow class="external text" href=https://freedesktop.org/wiki/Software/systemd/Debugging/#shutdowncompleteseventually>this article</a>.
</p>
<h3><span class=mw-headline id=Short_lived_processes_do_not_seem_to_log_any_output>Short lived processes do not seem to log any output</span></h3>
<p>If <code>journalctl -u foounit</code> does not show any output for a short lived service, look at the PID instead. For example, if <code>systemd-modules-load.service</code> fails, and <code>systemctl status systemd-modules-load</code> shows that it ran as PID 123, then you might be able to see output in the journal for that PID, i.e. <code>journalctl -b _PID=123</code>. Metadata fields for the journal such as <code>_SYSTEMD_UNIT</code> and <code>_COMM</code> are collected asynchronously and rely on the <code>/proc</code> directory for the process existing. Fixing this requires fixing the kernel to provide this data via a socket connection, similar to <code>SCM_CREDENTIALS</code>. In short, it is a <a rel=nofollow class="external text" href=https://github.com/systemd/systemd/issues/2913>bug</a>. Keep in mind that immediately failed services might not print anything to the journal as per design of systemd.
</p>
<h3><span class=mw-headline id=Boot_time_increasing_over_time>Boot time increasing over time</span></h3>
<p>After using <code>systemd-analyze</code> a number of users have noticed that their boot time has increased significantly in comparison with what it used to be. After using <code>systemd-analyze blame</code> <a href=https://wiki.archlinux.org/index.php/NetworkManager title=NetworkManager>NetworkManager</a> is being reported as taking an unusually large amount of time to start. 
<p>The problem for some users has been due to <code>/var/log/journal</code> becoming too large. This may have other impacts on performance, such as for <code>systemctl status</code> or <code>journalctl</code>. As such the solution is to remove every file within the folder (ideally making a backup of it somewhere, at least temporarily) and then setting a journal file size limit as described in <a href=https://wiki.archlinux.org/index.php/Systemd/Journal#Journal_size_limit title=Systemd/Journal>Systemd/Journal#Journal size limit</a>.
</p>
<h3><span class=mw-headline id=systemd-tmpfiles-setup.service_fails_to_start_at_boot>systemd-tmpfiles-setup.service fails to start at boot</span></h3>
<p>Starting with systemd 219, <code>/usr/lib/tmpfiles.d/systemd.conf</code> specifies ACL attributes for directories under <code>/var/log/journal</code> and, therefore, requires ACL support to be enabled for the filesystem the journal resides on.
<p>See <a href=https://wiki.archlinux.org/index.php/Access_Control_Lists#Enable_ACL title="Access Control Lists">Access Control Lists#Enable ACL</a> for instructions on how to enable ACL on the filesystem that houses <code>/var/log/journal</code>.
</p>
<h3><span class=mw-headline id=systemd_version_printed_on_boot_is_not_the_same_as_installed_package_version>systemd version printed on boot is not the same as installed package version</span></h3>
<p>You need to <a href=https://wiki.archlinux.org/index.php/Mkinitcpio#Image_creation_and_activation title=Mkinitcpio>regenerate your initramfs</a> and the versions should match. 
</p>
<div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> A pacman hook can be used to automatically regenerate the initramfs every time <span class="plainlinks archwiki-template-pkg"><a rel=nofollow class="external text" href="https://www.archlinux.org/packages/?name=systemd">systemd</a></span> is upgraded. See <a rel=nofollow class="external text" href="https://bbs.archlinux.org/viewtopic.php?id=215411">this forum thread</a> and <a href=https://wiki.archlinux.org/index.php/Pacman#Hooks title=Pacman>Pacman#Hooks</a>.</div>
<h3><span class=mw-headline id=Disable_emergency_mode_on_remote_machine>Disable emergency mode on remote machine</span></h3>
<p>You may want to disable emergency mode on a remote machine, for example, a virtual machine hosted at Azure or Google Cloud. It is because if emergency mode is triggered, the machine will be blocked from connecting to network.
</p>
<pre># systemctl mask emergency.service
# systemctl mask emergency.target
</pre>
<h2><span class=mw-headline id=See_also>See also</span></h2>
<ul><li><a href=https://en.wikipedia.org/wiki/systemd class=extiw title=wikipedia:systemd>Wikipedia:systemd</a></li>
<li><a rel=nofollow class="external text" href=https://www.freedesktop.org/wiki/Software/systemd>systemd Official web site</a>
<ul><li><a rel=nofollow class="external text" href=https://www.freedesktop.org/wiki/Software/systemd/Optimizations>systemd optimizations</a></li>
<li><a rel=nofollow class="external text" href=https://www.freedesktop.org/wiki/Software/systemd/FrequentlyAskedQuestions>systemd FAQ</a></li>
<li><a rel=nofollow class="external text" href=https://www.freedesktop.org/wiki/Software/systemd/TipsAndTricks>systemd Tips and tricks</a></ul></li>
<li><a rel=nofollow class="external text" href=https://www.freedesktop.org/software/systemd/man/>Manual pages</a></li>
<li>Other distributions
<ul><li><a href=https://wiki.gentoo.org/wiki/Systemd class=extiw title=gentoo:Systemd>Gentoo:Systemd</a></li>
<li><a href=https://fedoraproject.org/wiki/Systemd class=extiw title=fedora:Systemd>Fedora:Systemd</a></li>
<li><a href=https://fedoraproject.org/wiki/How_to_debug_Systemd_problems class=extiw title="fedora:How to debug Systemd problems">Fedora:How to debug Systemd problems</a></li>
<li><a href=https://fedoraproject.org/wiki/SysVinit_to_Systemd_Cheatsheet class=extiw title="fedora:SysVinit to Systemd Cheatsheet">Fedora:SysVinit to Systemd Cheatsheet</a></li>
<li><a href=https://wiki.debian.org/systemd class=extiw title=debian:systemd>Debian:systemd</a></ul></li>
<li><a rel=nofollow class="external text" href=http://0pointer.de/blog/projects/systemd.html>Lennart's blog story</a>, <a rel=nofollow class="external text" href=http://0pointer.de/blog/projects/systemd-update.html>update 1</a>, <a rel=nofollow class="external text" href=http://0pointer.de/blog/projects/systemd-update-2.html>update 2</a>, <a rel=nofollow class="external text" href=http://0pointer.de/blog/projects/systemd-update-3.html>update 3</a>, <a rel=nofollow class="external text" href=http://0pointer.de/blog/projects/why.html>summary</a></li>
<li><a rel=nofollow class="external text" href=http://0pointer.de/public/systemd-ebook-psankar.pdf>systemd for Administrators (PDF)</a></li>
<li><a rel=nofollow class="external text" href=https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units>How To Use Systemctl to Manage Systemd Services and Units </a></li>
<li><a rel=nofollow class="external text" href=https://dvdhrm.wordpress.com/2013/08/24/session-management-on-linux/>Session management with systemd-logind</a></li>
<li><a href=https://wiki.archlinux.org/index.php/Emacs#Syntax_highlighting_for_systemd_Files title=Emacs>Emacs Syntax highlighting for Systemd files</a></li>
<li><a rel=nofollow class="external text" href=http://www.h-online.com/open/features/Control-Centre-The-systemd-Linux-init-system-1565543.html>Two</a> <a rel=nofollow class="external text" href=http://www.h-online.com/open/features/Booting-up-Tools-and-tips-for-systemd-1570630.html>part</a> introductory article in <i>The H Open</i> magazine.</ul>
</div></div>
 
 <div class="printfooter sf-hidden">Retrieved from "<a dir=ltr href="https://wiki.archlinux.org/index.php?title=Systemd&amp;oldid=594520">https://wiki.archlinux.org/index.php?title=Systemd&amp;oldid=594520</a>"</div>
 
 <div id=catlinks class=catlinks data-mw=interface><div id=mw-normal-catlinks class=mw-normal-catlinks><a href=https://wiki.archlinux.org/index.php/Special:Categories title=Special:Categories>Categories</a>: <ul><li><a href=https://wiki.archlinux.org/index.php/Category:Daemons title=Category:Daemons>Daemons</a><li><a href=https://wiki.archlinux.org/index.php/Category:Init title=Category:Init>Init</a></ul></div></div>
 
 
 
 </div>
</div>
 
 
 
