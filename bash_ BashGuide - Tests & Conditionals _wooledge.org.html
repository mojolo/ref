<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> <html style><!--
 Page saved with SingleFile 
 url: https://mywiki.wooledge.org/BashGuide/TestsAndConditionals 
 saved date: Tue Jul 04 2023 00:32:35 GMT-0700 (Pacific Daylight Time)
--><meta charset=utf-8><style class="darkreader darkreader--user-agent" media=screen>.jfk-bubble.gtx-bubble,.captcheck_answer_label>input+img,span#closed_text>img[src^="https://www.gstatic.com/images/branding/googlelogo"],span[data-href^="https://www.hcaptcha.com/"]>#icon,#bit-notification-bar-iframe,::-webkit-calendar-picker-indicator{filter:invert(100%) hue-rotate(180deg) contrast(90%) sepia(5%)!important}:root{--darkreader-neutral-background:#131516;--darkreader-neutral-text:#dcd6cf;--darkreader-selection-background:#054da5;--darkreader-selection-text:#ece8e2}html{background-color:#191a1b!important}html{color-scheme:dark!important}html,body,input,select{background-color:#191a1b}html,body,input,select{border-color:#756c5e;color:#ece8e2}a{color:#3992f8}::placeholder{color:#b5ada1}input:-webkit-autofill,textarea:-webkit-autofill,select:-webkit-autofill{background-color:#414403!important;color:#ece8e2!important}::-webkit-scrollbar{background-color:#212324;color:#aea699}::-webkit-scrollbar-thumb{background-color:#464b4d}::-webkit-scrollbar-corner{background-color:#191a1b}*{scrollbar-color:#464b4d #212324}::selection{background-color:#054da5!important;color:#ece8e2!important}::-moz-selection{background-color:#054da5!important;color:#ece8e2!important}</style>
<meta http-equiv=X-UA-Compatible content="IE=Edge">
<meta name=viewport content="width=device-width, initial-scale=1">
<style>.backtick{background-color:#eeeeee;font-size:larger}</style><style class="darkreader darkreader--sync" media=screen>.backtick{background-color:rgb(35,36,38)}</style><meta name=darkreader content=e828bec9672542759c5a843cda8aca63><style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style>
<meta name=robots content=index,nofollow>
<title>BashGuide/TestsAndConditionals - Greg's Wiki</title>
<style>html{background-color:white;color:black;font-family:sans-serif;font-size:1em}body{margin:0}a{color:#0044B3}a:visited{color:#FF7BB3}a.nonexistent:visited,a.nonexistent{color:gray}a.http:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1QQaBywH5hnejwAAADV0RVh0Q29tbWVudAAoYykgMjAwNCBKYWt1YiBTdGVpbmVyCgpDcmVhdGVkIHdpdGggVGhlIEdJTVCQ2YtvAAAC7ElEQVQ4y62TXWhbZRyHn/ec95xjkzRpm+ajjW3W0KIsuHWyyMSrKagwFG+UKd1FZTgQb4ShoLdSEMX7XYgVR0HE6Y1MhjezMLWzlo12K67rXD+znCwfTXKSc5Kc1wvZxO3W5/r/ey7+/H6CBzj+3uwp4C1dyv0KLOX7DaVY0HTt7NzM1BcP3ov7wfe/nDR17ceJsWTiyIE0Y6koAcuiXG+ytmmzuLLJjY3CZSHEybmZqav/Ebz27ue5YLjnt1eOHhQHJ+KU603snQ1kKA49/eDYpBJRFla2OT+/chchnr0nkQDRaOin55/JiicyA5SKeQZHs0QGh3BabfKb60jfQ+s2eS6Xoeur6IVL188ATwNob3741UfJeH/4aG4cQ/PpyBBoAkNKTEMSsCSJaC9D8RixviC57KOkhweOvPHB2WkALRwJnDycHaVSLnLHDRAf3odS4CtAaAjfY7fU4PuLy1yYXyRiKfaPDwO8CiBrTjuWTvazcKNAZiKOr/79bL1S4qnJLEIIlFJs796h1WwyFIsAHAbQWl5HsywTLRSnUm9h1zwct0vN8fDqNkL8oxNCkIhFubp6E8uQAAMAUtc1v9poacHWDiFpUWgMUjRMOl2fVqnDZLuN63r0hoI4jsO+VIxC0wMoAUhD0/K3torDh8aTZEaGuL25zfzaHh4mTS/Ip99ewRJd3n75ALVajaVrN6E3DfA7gKa63XNLq1t4vgQgPZLi2KEYu4USd6sNqq7gdtnHtm2q1SqP9KdYXc8DfAOgL/187vx47qXTQtfNSNCgx9T5ZXGZ5byi1nDZa7jsOS65EZ3CnsdW2efa2s6vczNT79wvUqVQPHHxsv+d78OTjyX44UqVsmfidbq4XgfLEGxUFH8V2lz6Y60shDj10BaOTX/8+mhmZDYc6TMfzyRJDoaxLAOn1WbXrvDnrTxbO8XrQpfHH9rCPfoGxswXTpye1a3Ai+iyD4RQyu+oTntdCe2zrz+ZPsP/zd9wbDf3MdodlQAAAABJRU5ErkJggg==);margin:0 0.2em}li p{margin:.25em 0}a,img{border:0}pre{border:1pt solid #AEBDCC;background-color:#F3F5F7;padding:5pt;font-family:courier,monospace;white-space:pre-wrap;word-wrap:break-word;white-space:-moz-pre-wrap;white-space:-o-pre-wrap}div.table-of-contents{border:1px solid #bbbbbb;color:black;background-color:#eeeeee;font-size:80%;text-align:left;margin:0.5em 0 0.5em 1em;padding:0.5em 0.75em 0.5em 0.5em;max-width:50%;display:inline-table}div.table-of-contents ol{margin:0;padding:0 0 0 2em}div.table-of-contents li{margin:0;padding:0}p.table-of-contents-heading{font-weight:bold;padding:0;margin:0 0 0.5em 0;letter-spacing:0.075em}.info{float:right;font-size:0.7em;color:gray}#pageinfo{margin-top:2em}#pagebottom{clear:both}hr{height:1pt;background-color:#9C9C9C;border:0}.hr4{height:5pt}div.codearea{margin:0.5em 0;padding:0;border:1pt solid #AEBDCC;background-color:#F3F5F7;color:black}div.codearea pre{margin:0;padding:10pt;border:none}a.codenumbers{margin:0 10pt;font-size:0.85em;color:gray}div.codearea pre span.LineNumber{color:gray}div.codearea pre span.ID{color:#000000}div.codearea pre span.Comment{color:#008000}div.codearea pre span.Number{color:#0080C0}div.codearea pre span.String{color:#004080}div.codearea pre span.ResWord{color:#A00000}</style><style class="darkreader darkreader--sync" media=screen>html{background-color:rgb(25,26,27);color:rgb(236,232,226)}a{color:rgb(103,178,250)}a:visited{color:rgb(253,116,171)}a.nonexistent:visited,a.nonexistent{color:rgb(154,144,129)}a,img{border-color:currentcolor}pre{border-color:rgb(68,73,75);background-color:rgb(31,32,33)}div.table-of-contents{border-color:rgb(68,74,76);color:rgb(236,232,226);background-color:rgb(35,36,38)}.info{color:rgb(154,144,129)}hr{background-color:rgb(82,88,90);border-color:currentcolor}div.codearea{border-color:rgb(68,73,75);background-color:rgb(31,32,33);color:rgb(236,232,226)}div.codearea pre{border-color:currentcolor}a.codenumbers{color:rgb(154,144,129)}div.codearea pre span.LineNumber{color:rgb(154,144,129)}div.codearea pre span.ID{color:rgb(236,232,226)}div.codearea pre span.Comment{color:rgb(121,254,117)}div.codearea pre span.Number{color:rgb(78,193,250)}div.codearea pre span.String{color:rgb(133,199,251)}div.codearea pre span.ResWord{color:rgb(252,96,94)}body{padding:0;border:0}a:link{color:#47f;text-decoration:none}a:link:hover,a:link:active{text-decoration:underline;color:green}a:visited{text-decoration:none;color:#04a}a:visited:hover{text-decoration:none;color:red}a.nonexistent:link{color:#666}a.nonexistent:hover{color:black;text-decoration:underline}.disabled{color:gray}#header{margin:1px;padding:1px;background:#e6eaf0;line-height:1.1em}#logo{float:left;margin:5px 10px;padding:0;font-size:1.4em;line-height:1em;font-weight:bold}#logo img{vertical-align:middle}#logo a{color:black;text-decoration:none}#username{display:block;margin:8px 12px 4px 12px;padding:0;font-size:0.82em}#searchform{margin:4px 0.5em 8px 0.5em;padding:0;font-size:0.82em;float:right;clear:right;text-align:right}#searchform input{font-size:100%;vertical-align:middle}#locationline{padding:0;font-size:100%;font-weight:normal;margin:0.25em 12px 5px 12px;clear:right}#pagelocation{font-size:1.5em;letter-spacing:0.05em}#navibar{clear:both;display:block;margin:0;padding:0 10px;font-size:0.82em}#navibar li{float:left;display:inline;margin:0 2px;padding:2px 5px;border:1px solid #acd;border-bottom:none;white-space:nowrap}#navibar li.wikilink{background:white}#navibar a,#navibar a:visited{color:black;text-decoration:none}#navibar li.current a{font-weight:bold}#navibar li:hover{background:#d6e4f9}#navibar li.current,#navibar li.current:hover{background:#81BBF2;border:1px solid #4d7da9;border-bottom:1px solid #81bbf2;margin-bottom:-1px}#pageline{clear:both;margin:0;padding:0;width:100%;height:4px;line-height:4px;border-bottom:1px solid #4d7da9;border-top:1px solid #4d7da9;background:#81BBF2}.editbar{clear:both;display:block;margin:0;padding:2px 8px;background:#d6e4f9;font-size:0.8em;border-bottom:1px solid #4d7da9;border-top:1px solid #4d7da9;margin-top:-1px}.editbar form,.editbar form div{display:inline;margin:0}.editbar select{font-size:100%;vertical-align:middle}.editbar li{display:inline;padding:0;margin:4px 6px}.editbar a,.editbar a:visited{color:#0044B3}#page{background-color:white;margin:0;padding:2px 20px 20px 20px}#footer{clear:both;margin:0;padding:0}#credits{margin:5px 10px;padding:0;text-align:center;font-size:0.88em;color:#6C7680}#credits li{display:inline;padding:0 2px;margin:0 4px}body{border-color:currentcolor}a:link{color:rgb(79,159,249);text-decoration-color:currentcolor}a:link:hover,a:link:active{text-decoration-color:currentcolor;color:rgb(121,254,117)}a:visited{text-decoration-color:currentcolor;color:rgb(108,182,250)}a:visited:hover{text-decoration-color:currentcolor;color:rgb(249,30,29)}a.nonexistent:link{color:rgb(170,162,149)}a.nonexistent:hover{color:rgb(236,232,226);text-decoration-color:currentcolor}.disabled{color:rgb(154,144,129)}#header{background-color:rgb(36,38,40);background-image:none}#logo a{color:rgb(236,232,226);text-decoration-color:currentcolor}#navibar li{border-color:rgb(42,79,96) rgb(42,79,96) currentcolor}#navibar li.wikilink{background-color:rgb(25,26,27);background-image:none}#navibar a,#navibar a:visited{color:rgb(236,232,226);text-decoration-color:currentcolor}#navibar li:hover{background-color:rgb(38,40,42);background-image:none}#navibar li.current,#navibar li.current:hover{background-color:rgb(16,69,119);background-image:none;border-color:rgb(60,93,122) rgb(60,93,122) rgb(17,73,126)}#pageline{border-bottom-color:rgb(60,93,122);border-top-color:rgb(60,93,122);background-color:rgb(16,69,119);background-image:none}.editbar{background-color:rgb(38,40,42);background-image:none;border-bottom-color:rgb(60,93,122);border-top-color:rgb(60,93,122)}.editbar a,.editbar a:visited{color:rgb(103,178,250)}#page{background-color:rgb(25,26,27)}#credits{color:rgb(159,151,136)}body{padding:0;border:0}a:link{color:#47f;text-decoration:none}a:link:hover,a:link:active{text-decoration:underline;color:green}a:visited{text-decoration:none;color:#04a}a:visited:hover{text-decoration:none;color:red}a.nonexistent:link{color:#666}a.nonexistent:hover{color:black;text-decoration:underline}.disabled{color:gray}#header{margin:1px;padding:1px;background:#e6eaf0;line-height:1.1em}#logo{float:left;margin:5px 10px;padding:0;font-size:1.4em;line-height:1em;font-weight:bold}#logo img{vertical-align:middle}#logo a{color:black;text-decoration:none}#username{display:block;margin:8px 12px 4px 12px;padding:0;font-size:0.82em}#searchform{margin:4px 0.5em 8px 0.5em;padding:0;font-size:0.82em;float:right;clear:right;text-align:right}#searchform input{font-size:100%;vertical-align:middle}#locationline{padding:0;font-size:100%;font-weight:normal;margin:0.25em 12px 5px 12px;clear:right}#pagelocation{font-size:1.5em;letter-spacing:0.05em}#navibar{clear:both;display:block;margin:0;padding:0 10px;font-size:0.82em}#navibar li{float:left;display:inline;margin:0 2px;padding:2px 5px;border:1px solid #acd;border-bottom:none;white-space:nowrap}#navibar li.wikilink{background:white}#navibar a,#navibar a:visited{color:black;text-decoration:none}#navibar li.current a{font-weight:bold}#navibar li:hover{background:#d6e4f9}#navibar li.current,#navibar li.current:hover{background:#81BBF2;border:1px solid #4d7da9;border-bottom:1px solid #81bbf2;margin-bottom:-1px}#pageline{clear:both;margin:0;padding:0;width:100%;height:4px;line-height:4px;border-bottom:1px solid #4d7da9;border-top:1px solid #4d7da9;background:#81BBF2}.editbar{clear:both;display:block;margin:0;padding:2px 8px;background:#d6e4f9;font-size:0.8em;border-bottom:1px solid #4d7da9;border-top:1px solid #4d7da9;margin-top:-1px}.editbar form,.editbar form div{display:inline;margin:0}.editbar select{font-size:100%;vertical-align:middle}.editbar li{display:inline;padding:0;margin:4px 6px}.editbar a,.editbar a:visited{color:#0044B3}#page{background-color:white;margin:0;padding:2px 20px 20px 20px}#footer{clear:both;margin:0;padding:0}#credits{margin:5px 10px;padding:0;text-align:center;font-size:0.88em;color:#6C7680}#credits li{display:inline;padding:0 2px;margin:0 4px}html{line-height:1.8em}body,em,a,span,div,p{font-size:18pt}h1{font-size:26pt}h2{font-size:22pt}tt,pre{font-size:16pt}#pagelocation,#pageinfo{display:none}body{border-color:currentcolor}a:link{color:rgb(79,159,249);text-decoration-color:currentcolor}a:link:hover,a:link:active{text-decoration-color:currentcolor;color:rgb(121,254,117)}a:visited{text-decoration-color:currentcolor;color:rgb(108,182,250)}a:visited:hover{text-decoration-color:currentcolor;color:rgb(249,30,29)}a.nonexistent:link{color:rgb(170,162,149)}a.nonexistent:hover{color:rgb(236,232,226);text-decoration-color:currentcolor}.disabled{color:rgb(154,144,129)}#header{background-color:rgb(36,38,40);background-image:none}#logo a{color:rgb(236,232,226);text-decoration-color:currentcolor}#navibar li{border-color:rgb(42,79,96) rgb(42,79,96) currentcolor}#navibar li.wikilink{background-color:rgb(25,26,27);background-image:none}#navibar a,#navibar a:visited{color:rgb(236,232,226);text-decoration-color:currentcolor}#navibar li:hover{background-color:rgb(38,40,42);background-image:none}#navibar li.current,#navibar li.current:hover{background-color:rgb(16,69,119);background-image:none;border-color:rgb(60,93,122) rgb(60,93,122) rgb(17,73,126)}#pageline{border-bottom-color:rgb(60,93,122);border-top-color:rgb(60,93,122);background-color:rgb(16,69,119);background-image:none}.editbar{background-color:rgb(38,40,42);background-image:none;border-bottom-color:rgb(60,93,122);border-top-color:rgb(60,93,122)}.editbar a,.editbar a:visited{color:rgb(103,178,250)}#page{background-color:rgb(25,26,27)}#credits{color:rgb(159,151,136)}</style>
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static1911/modernized/css/msie.css">
<![endif]-->
<link rel=alternate title="Greg's Wiki: BashGuide/TestsAndConditionals" href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=BashGuide%2FTestsAndConditionals&amp;ddiffs=1" type=application/rss+xml>
<link rel=alternate type=application/wiki title=Edit href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=edit">
<link rel=Start href=https://mywiki.wooledge.org/EnglishFrontPage>
<link rel=Alternate title="Wiki Markup" href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=raw">
<link rel=Alternate media=print title="Print View" href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=print">
<link rel=Up href=https://mywiki.wooledge.org/BashGuide>
<link rel=Search href=https://mywiki.wooledge.org/FindPage>
<link rel=Index href=https://mywiki.wooledge.org/TitleIndex>
<link rel=Glossary href=https://mywiki.wooledge.org/WordIndex>
<link rel=Help href=https://mywiki.wooledge.org/HelpOnFormatting>
<link type=image/x-icon rel="shortcut icon" href=data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAACtVBMVEUAAAAABAAICAgICAgIDAgQEBAQFBAQFBAQFBAYGBgYGBgYGBgYHBgYHBgYHBgYHBggICAgICAgICAgICAgJCAgJCAgJCAgJCAoKCgoKCgoLCgoLCgoLCgwMDAwMDAwMDAwNDA4ODg4ODg4ODg4PDg4PDg4PDg4PDhAQEBAQEBAQEBAQEBAREBAREBAREBISEhISEhISEhISEhITEhITEhITEhITEhQUFBQUFBQUFBQUFBQVFBQVFBQVFBQVFBYWFhYWFhYWFhYWFhYXFhYXFhYXFhYXFhgYGBgYGBgYGBgYGBgZGBgZGBgZGBgZGBoaGhoaGhoaGhoaGhobGhobGhobGhobGhwcHBwcHBwcHBwcHBwdHBwdHBwdHBwdHB4eHh4eHh4eHh4eHh4fHh4fHh4fHh4fHiAgICAgICAgICAgICAhICAhICAhICAhICIiIiIiIiIiIiIiIiIjIiIjIiIjIiIjIiQkJCQkJCQkJCQkJCQlJCQlJCQlJCQlJCYmJiYmJiYmJiYmJiYnJiYnJiYnJiYnJigoKCgoKCgoKCgoKCgpKCgpKCgpKCgpKCoqKioqKioqKioqKiorKiorKiorKiorKiwsLCwsLCwsLCwsLCwtLCwtLCwtLCwtLC4uLi4uLi4uLi4uLi4vLi4vLi4vLi4vLjAwMDAwMDAwMDAwMDAxMDAxMDAxMDAxMDIyMjIyMjIyMjIyMjIzMjIzMjIzMjIzMjQ0NDQ0NDQ0NDQ0NDQ1NDQ1NDQ1NDQ1NDY2NjY2NjY2NjY2NjY3NjY3NjY3NjY3Njg4ODg4ODg4ODg4ODg5ODg5ODg5ODg5ODo6Ojo6Ojo6Ojo6Ojo7Ojo7Ojo7Ojo7Ojw8PDw8PDw8PDw8PDw9PDw9PDw9PDw9PD4+Pj4+Pj4+Pj4+Pj4/Pj4/Pj4/Pj4/PjQfp2yAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9IMEgInKTcxm/YAAAEbSURBVHicARAB7/4A2tvf0Nrj3t/i3+Hh5uDm4wDa29ncY93X3d3f4eLl5reKAN/d49V8TNLg1djm5toVZ3UA3Nvf5ZGdS7XApNm/sIN8fADe29zgbG6gn57GpLqYmXfQANzf2+SYj5aXirCbsqKDp74A3t7g5rPm4rmstcCtyOWtlQDf3ebXhqQAgI/GmAJ55bKVANve5sqHwbKtnr6mkZyEuZIA3Nzevpqpr7xnz8mAxYFHuADa3NWocJO5mXVHeLajhWy8AN7drp5wgmdWN2+9lE+TpOIA26mhl2eZiVt7ln9TSoiD5gDfn5KvbWhvZ1hTTsJsoX7UAMubnmWRrpFZrsKshsnOkOQA2M6ovJOnmsKTjqe4kbO95nFoq+DNY6ihAAAAAElFTkSuQmCC><link rel=canonical href=https://mywiki.wooledge.org/BashGuide/TestsAndConditionals><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
<body dir=ltr lang=en>
<div id=header>
<form id=searchform action=/BashGuide/TestsAndConditionals>
<div>
<label for=searchinput style=display:none>Search:</label>
<input id=searchinput type=text name=value value=Search size=20 alt=Search class=disabled>
<input id=titlesearch name=titlesearch type=submit value=Titles alt="Search Titles" disabled>
<input id=fullsearch name=fullsearch type=submit value=Text alt="Search Full Text" disabled>
</div>
</form>
<div id=logo><a href=https://mywiki.wooledge.org/EnglishFrontPage><img src="data:image/png;base64,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/GMzLdsAAAAEZ0FNQQAAsY58+1GTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAMAUExURQAAAP///7W3u4G78qinqKOjpaysrmJiY/7+/8PDxJ6en6SlqbW2uoKDhq6vsr/Bxry+w8TGy9PW3Lm7v7e5vbS2urO1ucHDx7u9wXx9f3+AgqCho8THzMLFys7R1srN0sfKz5OVmK+xtLK0t6eqrr3AxIG89oG79Hqs3XOdxnmhyHaZvHaZu3SVtWSAnFdqfmh+lFNkdW+BlFlmc15oclRcZFBXXmpzfFxiaGFnbVBUWFdbX3d5e05PUF9gYVhZWmZnaITD/4TF/4PD/oPD/YPB/IPB+4LA+oPA+YK/+IK+94TC+oK99oK99YG89IG884G783+58H227XWq3YPA9oK+9IC58Hy06Hqx5YG68YC573mu4YC47HOl1Xyy5IC36n+153Ghznan1oC15n2w4Hmq2WyYwn2u3Xus2nys2Huq1Xqn0Xqmz2yTuHagx2iNsGaKrHObwGWIqHigxnKWuGSEonaZuW+Qrm6OrF54kWyKpmqHoVhvhFtyiGiCmnOPqVtsfGN1hW6AkFFeal9temp0fWpze4XI/4XG/4bH/4bJ/3uz44O97XGTsIXK/4bK/4fM/4jL/4fP/4nU/1tdXjY3N7W1s/r6+ejo5+Dg38/PzktKSPTz8VFPTGFfXMLAvayppeHe2ldSTHx3cc3IwtLOyWVeVnZvZ4B5cWFXTWpgVm5kWlpTTG5mXnFpYUZBPKKYjmNdV4eAeaefl66noLqzrIyHgqCblpiTjrOuqW1qZ9rW0nFvbX99e9TRzubj4Li2tGVkY/v59+fl42loZ/38+/r5+PDv7u3s61tOQl5SR3tuYnJmW2ZcU2JZUXZsY31zanRrY0I8N0tFQFJMR5mOhWhhW11XUoF6dHBqZXJsZ4uEfsG5so6Ig2xnY2plYVlVUnhzb5uWksC7t/Pw7t3a2J6YlY+NjP37+vj29ff19JWSkWZlZWVkZObl5ePi4t3c3Jybm/7+/v39/fv7+/n5+fb29vHx8dbW1ry8vG9vb2xsbGZmZlJSUkxMTP///xWf3yUAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAJMUlEQVR42qxXe1BT6RU/997ckBeQECEYw6MuAl1FQDSgrMjDBoUEtdg7u9qZLrpW6djZHdfpTh2qu9uus9OK2t0qap21uqyPVKpjAgSEINooBhSfu4o8RMIjkEASIORBkv6R1w3K6s70/pPvO+d3Tr7n+X4/xAWv/oyXIl16IQ4AdjUXGdoQOgsOeVWCybPiZv4f7JIqZy4AKNFiGf7XgVXyTcw3S3CclrpwvzSzzyKxIPUAIHLRZLQoFbHncbtl++sT3B7jlZrTXkhkQXi1z1hot0pk0XcYFVpO+msS1M9RjD7OvxLCkAIAFFrsQKPKAQAIs6mobmHYGp3oxxIYnwuyeeJ6thQAgBjPvMqn30hdDLfpboNBJNde08SGzpqggvu0Y2mdOxyKR0Rn3q1th9S1wzGNYW4bYchvi0/Ql86SoK9dNUfBc0OhWEddvpYaEY0MaB52Mhu5HjOhXaPLTI3yB6G+1s1OpoLf5I0nDHRd4oqcdCYjvmhd4bkcowcl5TXxFczOmy+PYFJ+LDa5Wea1x209+8edQQNcPXBdrBHlv+ft9oVIVt1/vkPsPRMUr1l5LGax2hcP/K7LHOYk6AH0MBodpuasbvC6ZPRlrmMMyYwp1GXGprRKffHEOq4uZlzv6eFrdnTk+actbU2JzawLTNBsLUtW++IJyWKo62SNeftjKA2nZxH+DOrkMmszeQ0M9X/+4JoMYLX9F4A0KrPWPRFE7wge8UUEP6npvZ9TV5+TB4AoGwEk2Sf/JGL7E9yT0a6Fgq7g+pN8MBuXq7/flZQe0+UfdNh0b+eu0XBJeygGZt3K6nAwZlskKb5FrE/rGOBB6n+Hh6ttHQlbdD178+I5XVy9f68osei3Ez+MCrlMSNw2HC7cTSj4UfUizwgsVz7fdhsyKsIP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" alt="MoinMoin Logo"></a></div>
<div id=username><a href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=login" id=login rel=nofollow>Login</a></div>
<h1 id=locationline>
<span id=pagelocation><span class=pagepath><a href=https://mywiki.wooledge.org/BashGuide>BashGuide</a></span><span class=sep>/</span><a href=https://mywiki.wooledge.org/BashGuide/TestsAndConditionals>TestsAndConditionals</a></span>
</h1>
<ul id=navibar>
<li class=wikilink><a href=https://mywiki.wooledge.org/BashGuide>BashGuide</a><li class=wikilink><a href=https://mywiki.wooledge.org/BashFAQ>BashFAQ</a><li class=wikilink><a href=https://mywiki.wooledge.org/RecentChanges>RecentChanges</a><li class=wikilink><a href=https://mywiki.wooledge.org/FindPage>FindPage</a><li class=wikilink><a href=https://mywiki.wooledge.org/HelpContents>HelpContents</a><li class=current><a href=https://mywiki.wooledge.org/BashGuide/TestsAndConditionals>TestsAndConditionals</a></li>
</ul>
<div id=pageline><hr style=display:none></div>
<ul class=editbar><li><a href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=edit&amp;editor=text" name=texteditlink rel=nofollow>Edit</a><li class=toggleCommentsButton style=display:none><li><a class=nbinfo href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=info" rel=nofollow>Info</a><li><a class=nbattachments href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=AttachFile" rel=nofollow>Attachments</a><li>
<form class=actionsmenu method=GET action=/BashGuide/TestsAndConditionals>
<div>
 
 <select name=action>
 <option value=show selected>More Actions:<option value=raw>Raw Text</option>
<option value=print>Print View</option>
<option value=RenderAsDocbook>Render as Docbook</option>
<option value=refresh>Delete Cache</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=SpellCheck>Check Spelling</option>
<option value=LikePages>Like Pages</option>
<option value=LocalSiteMap>Local Site Map</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=RenamePage disabled class=disabled>Rename Page</option>
<option value=DeletePage disabled class=disabled>Delete Page</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=show disabled class=disabled>Subscribe User</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=show disabled class=disabled>Remove Spam</option>
<option value=show disabled class=disabled>Revert to this revision</option>
<option value=PackagePages>Package Pages</option>
<option value=SyncPages>Sync Pages</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=Load>Load</option>
<option value=Save>Save</option>
<option value=SlideShow>SlideShow</option>
 </select>
 
 
</div>
</form>
</ul>
</div>
<div id=page dir=ltr lang=en>
<div dir=ltr id=content lang=en><span class=anchor id=top></span>
<span class=anchor id=line-1></span><span class=anchor id=line-2></span><p class=line867><a href=https://mywiki.wooledge.org/BashGuide/Patterns>&lt;- Patterns</a> | <a href=https://mywiki.wooledge.org/BashGuide/Arrays>Arrays -&gt;</a> <span class=anchor id=line-3></span><span class=anchor id=line-4></span><p class=line867><hr><p class=line874> <span class=anchor id=line-5></span><div class=table-of-contents><p class=table-of-contents-heading>Contents<ol><li>
<a href=#Exit_Status>Exit Status</a><li>
<a href=#Control_Operators_.28.26.26_and_.7C.7C.29>Control Operators (&amp;&amp; and ||)</a><li>
<a href=#Grouping_Statements>Grouping Statements</a><li>
<a href=#Conditional_Blocks_.28if.2C_test_and_.5B.5B.29>Conditional Blocks (if, test and [[)</a><li>
<a href=#Conditional_Loops_.28while.2C_until_and_for.29>Conditional Loops (while, until and for)</a><li>
<a href=#Choices_.28case_and_select.29>Choices (case and select)</a></ol></div> <span class=anchor id=StartOfContent></span> <span class=anchor id=line-6></span><span class=anchor id=line-7></span><p class=line867>
<h1 id=Tests_and_Conditionals>Tests and Conditionals</h1>
<span class=anchor id=line-8></span><p class=line874>Sequential execution of commands is one thing, but to achieve any advanced logic in your scripts or your command line one-liners, you'll need tests and conditionals. Tests determine whether something is true or false. Conditionals are used to make decisions which determine the execution flow of a script. <span class=anchor id=line-9></span><span class=anchor id=line-10></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-11></span><span class=anchor id=Exit_Status></span> <span class=anchor id=line-12></span><span class=anchor id=line-13></span><p class=line867>
<h2 id=Exit_Status-1>1. Exit Status</h2>
<span class=anchor id=line-14></span><p class=line874>Every command results in an exit code whenever it terminates. This exit code is used by whatever application started it to evaluate whether everything went OK. This exit code is like a return value from functions. It's an integer between 0 and 255 (inclusive). Convention dictates that we use 0 to denote success, and any other number to denote failure of some sort. The specific number is entirely application-specific, and is used to hint as to what exactly went wrong. <span class=anchor id=line-15></span><span class=anchor id=line-16></span><p class=line862>For example, the <tt class=backtick>ping</tt> command sends ICMP packets over the network to a certain host. That host normally responds to this packet by sending the exact same one right back. This way, we can check whether we can communicate with a remote host. <tt class=backtick>ping</tt> has a range of exit codes which can tell us what went wrong, if anything did: <span class=anchor id=line-17></span><span class=anchor id=line-18></span><p class=line867><strong>From the Linux <tt class=backtick>ping</tt> manual:</strong> <span class=anchor id=line-19></span><span class=anchor id=line-20></span><ul><li style=list-style-type:none><p class=line891><strong>If ping does not receive any reply packets at all it will exit with code 1. If a packet count and deadline are both specified, and fewer than count packets are received by the time the deadline has arrived, it will also exit with code 1. On other error it exits with code 2. Otherwise it exits with code 0. This makes it possible to use the exit code to see if a host is alive or not.</strong> <span class=anchor id=line-21></span><span class=anchor id=line-22></span></p></ul><p class=line862>The special parameter <tt class=backtick>?</tt> shows us the exit code of the last foreground process that terminated. Let's play around a little with <tt class=backtick>ping</tt> to see its exit codes: <span class=anchor id=line-23></span><span class=anchor id=line-24></span><p class=line867><span class=anchor id=line-25></span><span class=anchor id=line-26></span><span class=anchor id=line-27></span><span class=anchor id=line-28></span><span class=anchor id=line-29></span><span class=anchor id=line-30></span><span class=anchor id=line-31></span><span class=anchor id=line-32></span><span class=anchor id=line-33></span><span class=anchor id=line-34></span><span class=anchor id=line-35></span><pre><span class=anchor id=line-1></span>$ ping Good
<span class=anchor id=line-2></span>ping: unknown host Good
<span class=anchor id=line-3></span>$ echo $?
<span class=anchor id=line-4></span>2
<span class=anchor id=line-5></span>$ ping -c 1 -W 1 1.1.1.1
<span class=anchor id=line-6></span>PING 1.1.1.1 (1.1.1.1) 56(84) bytes of data.
<span class=anchor id=line-7></span>--- 1.1.1.1 ping statistics ---
<span class=anchor id=line-8></span>1 packets transmitted, 0 received, 100% packet loss, time 0ms
<span class=anchor id=line-9></span>$ echo $?
<span class=anchor id=line-10></span>1</pre><span class=anchor id=line-36></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-37></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 You should make sure that your scripts always return a non-zero exit code if something unexpected happened in their execution. You can do this with the <tt class=backtick>exit</tt> builtin:</strong> <span class=anchor id=line-38></span><span class=anchor id=line-39></span><span class=anchor id=line-40></span><span class=anchor id=line-41></span><pre><span class=anchor id=line-1-1></span> rm file || { echo 'Could not delete file!' &gt;&amp;2; exit 1; }</pre><span class=anchor id=line-42></span><span class=anchor id=line-43></span></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-44></span><ul><li style=list-style-type:none><p class=line891><strong>In The Manual: <a class=http href=http://www.gnu.org/software/bash/manual/bashref.html#Exit-Status>Exit Status</a></strong> <span class=anchor id=line-45></span><span class=anchor id=line-46></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-47></span><ul><li style=list-style-type:none><p class=line891><em>Exit Code</em> / <em>Exit Status</em>: Whenever a command ends it notifies its parent (which in our case will always be the shell that started it) of its exit status. This is represented by a number ranging from 0 to 255. This code is a hint as to the success of the command's execution. <span class=anchor id=line-48></span><span class=anchor id=line-49></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-50></span><span class=anchor id=Control_Operators></span> <span class=anchor id=line-51></span><span class=anchor id=line-52></span><p class=line867>
<h2 id=Control_Operators_.28.26.26_and_.7C.7C.29>2. Control Operators (&amp;&amp; and ||)</h2>
<span class=anchor id=line-53></span><p class=line862>Now that we know what exit codes are, and that an exit code of '0' means the command's execution was successful, we'll learn to use this information. The easiest way of performing a certain action depending on the success of a previous command is through the use of <em>control operators</em>. These operators are <tt class=backtick>&amp;&amp;</tt> and <tt class=backtick>||</tt>, which respectively represent a logical AND and a logical OR. These operators are used between two commands, and they are used to control whether the second command should be executed depending on the success of the first. This concept is called <em>conditional execution</em>. <span class=anchor id=line-54></span><span class=anchor id=line-55></span><p class=line874>Let's put that theory in practice: <span class=anchor id=line-56></span><span class=anchor id=line-57></span><p class=line867><span class=anchor id=line-58></span><span class=anchor id=line-59></span><pre><span class=anchor id=line-1-2></span>$ mkdir d &amp;&amp; cd d</pre><span class=anchor id=line-60></span><p class=line862>This simple example has two commands, <tt class=backtick>mkdir&nbsp;d</tt> and <tt class=backtick>cd&nbsp;d</tt>. You could use a semicolon there to separate the commands and execute them sequentially; but we want something more. In the above example, <a href=https://mywiki.wooledge.org/BASH>BASH</a> will execute <tt class=backtick>mkdir&nbsp;d</tt>, then <tt class=backtick>&amp;&amp;</tt> will check the result of the <tt class=backtick>mkdir</tt> application after it finishes. If the <tt class=backtick>mkdir</tt> application was successful (exit code 0), then Bash will execute the next command, <tt class=backtick>cd&nbsp;d</tt>. If <tt class=backtick>mkdir&nbsp;d</tt> failed, and returned a non-0 exit code, Bash will skip the next command, and we will stay in the current directory. <span class=anchor id=line-61></span><span class=anchor id=line-62></span><p class=line874>Another example: <span class=anchor id=line-63></span><span class=anchor id=line-64></span><p class=line867><span class=anchor id=line-65></span><span class=anchor id=line-66></span><span class=anchor id=line-67></span><span class=anchor id=line-68></span><pre><span class=anchor id=line-1-3></span>$ rm /etc/some_file.conf || echo "I couldn't remove the file"
<span class=anchor id=line-2-1></span>rm: cannot remove `/etc/some_file.conf': No such file or directory
<span class=anchor id=line-3-1></span>I couldn't remove the file</pre><span class=anchor id=line-69></span><p class=line867><tt class=backtick>||</tt> is much like <tt class=backtick>&amp;&amp;</tt>, but it does the exact opposite. It only executes the next command if the first <strong>failed</strong>. As such, the message is only echoed if the <tt class=backtick>rm</tt> command was unsuccessful. <span class=anchor id=line-70></span><span class=anchor id=line-71></span><p class=line862>In general, it's <em>not</em> a good idea to string together multiple different control operators in one command (we will explore this in the next section). <tt class=backtick>&amp;&amp;</tt> and <tt class=backtick>||</tt> are quite useful in simple cases, but not in complex ones. In the next few sections we'll show some other tools you can use for decision-making. <span class=anchor id=line-72></span><span class=anchor id=line-73></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-74></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 It's best not to get overzealous when dealing with conditional operators. They can make your script hard to understand, especially for a person that's assigned to maintain it and didn't write it themselves.</strong> <span class=anchor id=line-75></span><span class=anchor id=line-76></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-77></span><ul><li style=list-style-type:none><p class=line891><strong>In The Manual: <a class=http href=http://www.gnu.org/software/bash/manual/bashref.html#Lists>Lists of Commands</a></strong> <span class=anchor id=line-78></span><span class=anchor id=line-79></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-80></span><ul><li style=list-style-type:none><p class=line891><em>Control Operators</em>: These operators are used to link commands together. They check the exit code of the previous command to determine whether or not to execute the next command in the sequence. <span class=anchor id=line-81></span><span class=anchor id=line-82></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-83></span><span class=anchor id=Grouping></span> <span class=anchor id=line-84></span><span class=anchor id=line-85></span><p class=line867>
<h2 id=Grouping_Statements>3. Grouping Statements</h2>
<span class=anchor id=line-86></span><p class=line874>Using conditional operators is easy and terse if we want to do simple error checking. Things get a bit more dangerous, though, when we want to run multiple statements if a condition holds true, or if we need to evaluate multiple conditions. <span class=anchor id=line-87></span><span class=anchor id=line-88></span><p class=line862>Suppose you want to delete a file if it contains a certain "good" word but also doesn't contain another "bad" word. Using <tt class=backtick>grep</tt> (a command that checks its input for patterns), we translate these conditions to: <span class=anchor id=line-89></span><span class=anchor id=line-90></span><p class=line867><span class=anchor id=line-91></span><span class=anchor id=line-92></span><span class=anchor id=line-93></span><pre><span class=anchor id=line-1-4></span>grep -q goodword "$file"            # exit status 0 (success) if "$file" contains 'goodword'
<span class=anchor id=line-2-2></span>! grep -q "badword" "$file"         # exit status 0 (success) if "$file" does not contain 'badword'</pre><span class=anchor id=line-94></span><p class=line862>We use <tt class=backtick>-q</tt> (quiet) on grep because we don't want it to output the lines that match; we just want the exit code to be set. <span class=anchor id=line-95></span><span class=anchor id=line-96></span><p class=line862>The <tt class=backtick>!</tt> in front of a command causes Bash to <em>negate</em> the command's exit status. If the command returns 0 (success), the <tt class=backtick>!</tt> turns it into a failure. Likewise, if the command returns non-zero (failure), the <tt class=backtick>!</tt> turns it into a success. <span class=anchor id=line-97></span><span class=anchor id=line-98></span><p class=line862>Now, to put these conditions together and delete the file as a result of both holding true, we could use <strong>Conditional Operators</strong>: <span class=anchor id=line-99></span><span class=anchor id=line-100></span><p class=line867><span class=anchor id=line-101></span><span class=anchor id=line-102></span><pre><span class=anchor id=line-1-5></span>$ grep -q goodword "$file" &amp;&amp; ! grep -q badword "$file" &amp;&amp; rm "$file"</pre><span class=anchor id=line-103></span><p class=line862>This works great. (In fact, we can string together as many <tt class=backtick>&amp;&amp;</tt> as we want, without any problems.) Now, imagine we want to show an error message in case the deletion of the file failed: <span class=anchor id=line-104></span><span class=anchor id=line-105></span><p class=line867><span class=anchor id=line-106></span><span class=anchor id=line-107></span><pre><span class=anchor id=line-1-6></span>$ grep -q goodword "$file" &amp;&amp; ! grep -q badword "$file" &amp;&amp; rm "$file" || echo "Couldn't delete: $file" &gt;&amp;2</pre><span class=anchor id=line-108></span><p class=line862>This looks OK, at first sight. If <tt class=backtick>rm</tt>'s exit code is not <tt class=backtick>0</tt> (success), then the <tt class=backtick>||</tt> operator will trigger the next command and <tt class=backtick>echo</tt> the error message (<tt class=backtick>&gt;&amp;2</tt>: to standard error). <span class=anchor id=line-109></span><span class=anchor id=line-110></span><p class=line862>But there's a problem. When we have a sequence of commands separated by <em>Conditional Operators</em>, Bash looks at every one of them, in order from left to right. The exit status is carried through from whichever command was most recently executed, and skipping a command doesn't change it. <span class=anchor id=line-111></span><span class=anchor id=line-112></span><p class=line862>So, imagine the first <tt class=backtick>grep</tt> fails (sets the exit status to 1). Bash sees a <tt class=backtick>&amp;&amp;</tt> next, so it skips the second <tt class=backtick>grep</tt> altogether. Then it sees another <tt class=backtick>&amp;&amp;</tt>, so it also skips the <tt class=backtick>rm</tt> which follows that one. Finally, it sees a <tt class=backtick>||</tt> operator. Aha! The exit status is "failure", and we have a <tt class=backtick>||</tt>, so Bash executes the <tt class=backtick>echo</tt> command, and tells us that it couldn't delete a file -- even though it never actually <em>tried</em> to! That's not what we want. <span class=anchor id=line-113></span><span class=anchor id=line-114></span><p class=line862>This doesn't sound too bad when it's just a wrong error message you receive, but if you're not careful, this <strong>will</strong> eventually happen on more dangerous code. You wouldn't want to accidentally delete files or overwrite files as a result of a failure in your logic! <span class=anchor id=line-115></span><span class=anchor id=line-116></span><p class=line862>The failure in our logic is in the fact that we <strong>want</strong> the <tt class=backtick>rm</tt> and the <tt class=backtick>echo</tt> statements to belong together. The <tt class=backtick>echo</tt> is related to the <tt class=backtick>rm</tt>, not to the <tt class=backtick>grep</tt>s. So what we need is to <em>group</em> them. Grouping is done using curly braces: <span class=anchor id=line-117></span><span class=anchor id=line-118></span><p class=line867><span class=anchor id=line-119></span><span class=anchor id=line-120></span><pre><span class=anchor id=line-1-7></span>$ grep -q goodword "$file" &amp;&amp; ! grep -q badword "$file" &amp;&amp; { rm "$file" || echo "Couldn't delete: $file" &gt;&amp;2; }</pre><span class=anchor id=line-121></span><p class=line874>(Note: don't forget that you need a semicolon or newline before the closing curly brace!) <span class=anchor id=line-122></span><span class=anchor id=line-123></span><p class=line862>Now we've grouped the <tt class=backtick>rm</tt> and <tt class=backtick>echo</tt> command together. That effectively means the group is considered <strong>one statement</strong> instead of several. Going back to our situation of the first <tt class=backtick>grep</tt> failing, instead of Bash trying the <tt class=backtick>&amp;&amp;&nbsp;rm&nbsp;"$file"</tt> statement, it will now try the <tt class=backtick>&amp;&amp;&nbsp;{&nbsp;...&nbsp;}</tt> statement. Since it is preceded by a <tt class=backtick>&amp;&amp;</tt> and the last command it ran failed (the failed <tt class=backtick>grep</tt>), it will skip this group and move on. <span class=anchor id=line-124></span><span class=anchor id=line-125></span><p class=line862>Command grouping can be used for more things than just <em>Conditional Operators</em>. We may also want to group them so that we can redirect input to a group of statements instead of just one: <span class=anchor id=line-126></span><span class=anchor id=line-127></span><p class=line867><span class=anchor id=line-128></span><span class=anchor id=line-129></span><span class=anchor id=line-130></span><span class=anchor id=line-131></span><span class=anchor id=line-132></span><span class=anchor id=line-133></span><span class=anchor id=line-134></span><span class=anchor id=line-135></span><pre><span class=anchor id=line-1-8></span>{
<span class=anchor id=line-2-3></span>    read firstLine
<span class=anchor id=line-3-2></span>    read secondLine
<span class=anchor id=line-4-1></span>    while read otherLine; do
<span class=anchor id=line-5-1></span>        something
<span class=anchor id=line-6-1></span>    done
<span class=anchor id=line-7-1></span>} &lt; file</pre><span class=anchor id=line-136></span><p class=line862>Here we're <a href=https://mywiki.wooledge.org/BashGuide/InputAndOutput#Redirection>redirecting</a> <tt class=backtick>file</tt> to a group of commands that read input. The file will be opened when the command group starts, stay open for the duration of it, and be closed when the command group finishes. This way, we can keep sequentially reading lines from it with multiple commands. <span class=anchor id=line-137></span><span class=anchor id=line-138></span><p class=line874>Another common use of grouping is in simple error handling: <span class=anchor id=line-139></span><span class=anchor id=line-140></span><p class=line867><span class=anchor id=line-141></span><span class=anchor id=line-142></span><span class=anchor id=line-143></span><pre><span class=anchor id=line-1-9></span># Check if we can go into appdir.  If not, output an error and exit the script.
<span class=anchor id=line-2-4></span>cd "$appdir" || { echo "Please create the appdir and try again" &gt;&amp;2; exit 1; }</pre><span class=anchor id=line-144></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-145></span><span class=anchor id=Conditional_Blocks></span> <span class=anchor id=line-146></span><span class=anchor id=line-147></span><p class=line867>
<h2 id=Conditional_Blocks_.28if.2C_test_and_.5B.5B.29>4. Conditional Blocks (if, test and [[)</h2>
<span class=anchor id=line-148></span><p class=line867><tt class=backtick>if</tt> is a shell keyword that executes a command (or a set of commands), and checks that command's exit code to see whether it was successful. Depending on that exit code, <tt class=backtick>if</tt> executes a specific, different, block of commands. <span class=anchor id=line-149></span><span class=anchor id=line-150></span><p class=line867><span class=anchor id=line-151></span><span class=anchor id=line-152></span><span class=anchor id=line-153></span><span class=anchor id=line-154></span><span class=anchor id=line-155></span><span class=anchor id=line-156></span><pre><span class=anchor id=line-1-10></span>$ if true
<span class=anchor id=line-2-5></span>&gt; then echo "It was true."
<span class=anchor id=line-3-3></span>&gt; else echo "It was false."
<span class=anchor id=line-4-2></span>&gt; fi
<span class=anchor id=line-5-2></span>It was true.</pre><span class=anchor id=line-157></span><p class=line862>Here you see the basic outline of an <em>if-statement</em>. We start by calling <tt class=backtick>if</tt> with the command <tt class=backtick>true</tt>. <tt class=backtick>true</tt> is a builtin command that always ends successfully. <tt class=backtick>if</tt> runs that command, and once the command is done, <tt class=backtick>if</tt> checks the exit code. Since <tt class=backtick>true</tt> always exits successfully, <tt class=backtick>if</tt> continues to the <tt class=backtick>then</tt>-block, and executes that code. Should the <tt class=backtick>true</tt> command have failed somehow, and returned an unsuccessful exit code, the <tt class=backtick>if</tt> statement would have skipped the <tt class=backtick>then</tt> code, and executed the <tt class=backtick>else</tt> code block instead. <span class=anchor id=line-158></span><span class=anchor id=line-159></span><p class=line862>Different people have different preferred styles for writing <tt class=backtick>if</tt> statements. Here are some of the common styles: <span class=anchor id=line-160></span><span class=anchor id=line-161></span><p class=line867><span class=anchor id=line-162></span><span class=anchor id=line-163></span><span class=anchor id=line-164></span><span class=anchor id=line-165></span><span class=anchor id=line-166></span><span class=anchor id=line-167></span><span class=anchor id=line-168></span><span class=anchor id=line-169></span><span class=anchor id=line-170></span><span class=anchor id=line-171></span><span class=anchor id=line-172></span><span class=anchor id=line-173></span><span class=anchor id=line-174></span><pre><span class=anchor id=line-1-11></span>if COMMANDS
<span class=anchor id=line-2-6></span>then OTHER COMMANDS
<span class=anchor id=line-3-4></span>fi
<span class=anchor id=line-4-3></span>
<span class=anchor id=line-5-3></span>if COMMANDS
<span class=anchor id=line-6-2></span>then
<span class=anchor id=line-7-2></span>    OTHER COMMANDS
<span class=anchor id=line-8-1></span>fi
<span class=anchor id=line-9-1></span>
<span class=anchor id=line-10-1></span>if COMMANDS; then
<span class=anchor id=line-11></span>    OTHER COMMANDS
<span class=anchor id=line-12></span>fi</pre><span class=anchor id=line-175></span><p class=line862>There are some commands designed specifically to <em>test</em> things and return an exit status based on what they find. The first such command is <tt class=backtick>test</tt> (also known as <tt class=backtick>[</tt>). A more advanced version is called <tt class=backtick>[[</tt>. <tt class=backtick>[</tt> or <tt class=backtick>test</tt> is a normal command that reads its arguments and does some checks with them. <tt class=backtick>[[</tt> is much like <tt class=backtick>[</tt>, but it's special (a shell keyword), and it offers far more versatility. Let's get practical: <span class=anchor id=line-176></span><span class=anchor id=line-177></span><p class=line867><span class=anchor id=line-178></span><span class=anchor id=line-179></span><span class=anchor id=line-180></span><span class=anchor id=line-181></span><span class=anchor id=line-182></span><span class=anchor id=line-183></span><pre><span class=anchor id=line-1-12></span>$ if [ a = b ]
<span class=anchor id=line-2-7></span>&gt; then echo "a is the same as b."
<span class=anchor id=line-3-5></span>&gt; else echo "a is not the same as b."
<span class=anchor id=line-4-4></span>&gt; fi
<span class=anchor id=line-5-4></span>a is not the same as b.</pre><span class=anchor id=line-184></span><p class=line867><tt class=backtick>if</tt> executes the command <tt class=backtick>[</tt> (remember, you don't <strong>need</strong> an <tt class=backtick>if</tt> to run the <tt class=backtick>[</tt> command!) with the arguments <tt class=backtick>a</tt>, <tt class=backtick>=</tt>, <tt class=backtick>b</tt> and <tt class=backtick>]</tt>. <tt class=backtick>[</tt> uses these arguments to determine what must be checked. In this case, it checks whether the string <tt class=backtick>a</tt> (the first argument) is equal (the second argument) to the string <tt class=backtick>b</tt> (the third argument), and if this is the case, it will exit successfully. However, since the string "a" is not equal to the string "b", <tt class=backtick>[</tt> will not exit successfully (its exit code will be 1). <tt class=backtick>if</tt> sees that <tt class=backtick>[</tt> terminated unsuccessfully and executes the code in the <tt class=backtick>else</tt> block. <span class=anchor id=line-185></span><span class=anchor id=line-186></span><p class=line862>The last argument, "]", means nothing to <tt class=backtick>[</tt>, but it is required. See what happens when you omit it. <span class=anchor id=line-187></span><span class=anchor id=line-188></span><p class=line862>Here's an example of a common pitfall when <tt class=backtick>[</tt> is used: <span class=anchor id=line-189></span><span class=anchor id=line-190></span><p class=line867><span class=anchor id=line-191></span><span class=anchor id=line-192></span><span class=anchor id=line-193></span><span class=anchor id=line-194></span><pre><span class=anchor id=line-1-13></span>$ myname='Greg Wooledge' yourname='Someone Else'
<span class=anchor id=line-2-8></span>$ [ $myname = $yourname ]
<span class=anchor id=line-3-6></span>-bash: [: too many arguments</pre><span class=anchor id=line-195></span><p class=line874>Can you guess what caused the problem? <span class=anchor id=line-196></span><span class=anchor id=line-197></span><p class=line867><tt class=backtick>[</tt> was executed with the arguments <tt class=backtick>Greg</tt>, <tt class=backtick>Wooledge</tt>, <tt class=backtick>=</tt>, <tt class=backtick>Someone</tt>, <tt class=backtick>Else</tt> and <tt class=backtick>]</tt>. That is 6 arguments, not 4! <tt class=backtick>[</tt> doesn't understand what test it's supposed to execute, because it expects either the first or second argument to be an operator. In our case, the operator is the third argument. Yet another reason why <a href=https://mywiki.wooledge.org/Quotes>quotes</a> are so terribly important. Whenever we type whitespace in Bash that belongs together with the words before or after it, <strong>we need to quote it</strong>, and the same thing goes for parameter expansions: <span class=anchor id=line-198></span><span class=anchor id=line-199></span><p class=line867><span class=anchor id=line-200></span><span class=anchor id=line-201></span><pre><span class=anchor id=line-1-14></span>$ [ "$myname" = "$yourname" ]</pre><span class=anchor id=line-202></span><p class=line862>This time, <tt class=backtick>[</tt> sees an operator (<tt class=backtick>=</tt>) in the second argument and it can continue with its work. <span class=anchor id=line-203></span><span class=anchor id=line-204></span><p class=line862>To help us out a little, the Korn shell introduced (and Bash adopted) a new style of conditional test. Original as the Korn shell authors are, they called it <tt class=backtick>[[</tt>. <tt class=backtick>[[</tt> is loaded with several very interesting features that <tt class=backtick>[</tt> lacks. <span class=anchor id=line-205></span><span class=anchor id=line-206></span><p class=line862>One of the features of <tt class=backtick>[[</tt> is <a href=https://mywiki.wooledge.org/BashGuide/Patterns>pattern</a> matching: <span class=anchor id=line-207></span><span class=anchor id=line-208></span><p class=line867><span class=anchor id=line-209></span><span class=anchor id=line-210></span><pre><span class=anchor id=line-1-15></span>$ [[ $filename = *.png ]] &amp;&amp; echo "$filename looks like a PNG file"</pre><span class=anchor id=line-211></span><p class=line862>Another feature of <tt class=backtick>[[</tt> helps us in dealing with parameter expansions: <span class=anchor id=line-212></span><span class=anchor id=line-213></span><p class=line867><span class=anchor id=line-214></span><span class=anchor id=line-215></span><span class=anchor id=line-216></span><span class=anchor id=line-217></span><span class=anchor id=line-218></span><pre><span class=anchor id=line-1-16></span>$ [[ $me = $you ]]           # Fine.
<span class=anchor id=line-2-9></span>$ [[ I am $me = I am $you ]] # Not fine!
<span class=anchor id=line-3-7></span>-bash: conditional binary operator expected
<span class=anchor id=line-4-5></span>-bash: syntax error near `am'</pre><span class=anchor id=line-219></span><p class=line862>This time, <tt class=backtick>$me</tt> and <tt class=backtick>$you</tt> did not need quotes. Since <tt class=backtick>[[</tt> isn't a normal command (like <tt class=backtick>[</tt> is), but a <em>shell keyword</em>, it has special magical powers. It parses its arguments before they are expanded by Bash and does the expansion itself, taking the result as a single argument, even if that result contains whitespace. (In other words, <tt class=backtick>[[</tt> does not allow word-splitting of its arguments.) <em>However</em>, be aware that simple strings still have to be quoted properly. <tt class=backtick>[[</tt> treats a space outside of quotes as an argument separator, just like Bash normally would. Let's fix our last example: <span class=anchor id=line-220></span><span class=anchor id=line-221></span><p class=line867><span class=anchor id=line-222></span><span class=anchor id=line-223></span><pre><span class=anchor id=line-1-17></span>$ [[ "I am $me" = "I am $you" ]]</pre><span class=anchor id=line-224></span><p class=line862>Also; there is a subtle difference between quoting and not quoting the <strong>right-hand side</strong> of the comparison in <tt class=backtick>[[</tt>. The <tt class=backtick>=</tt> operator does pattern matching by default, whenever the <em>right-hand side</em> is <strong>not</strong> quoted: <span class=anchor id=line-225></span><span class=anchor id=line-226></span><p class=line867><span class=anchor id=line-227></span><span class=anchor id=line-228></span><span class=anchor id=line-229></span><span class=anchor id=line-230></span><span class=anchor id=line-231></span><span class=anchor id=line-232></span><pre><span class=anchor id=line-1-18></span>$ foo=[a-z]* name=lhunath
<span class=anchor id=line-2-10></span>$ [[ $name = $foo   ]] &amp;&amp; echo "Name $name matches pattern $foo"
<span class=anchor id=line-3-8></span>Name lhunath matches pattern [a-z]*
<span class=anchor id=line-4-6></span>$ [[ $name = "$foo" ]] || echo "Name $name is not equal to the string $foo"
<span class=anchor id=line-5-5></span>Name lhunath is not equal to the string [a-z]*</pre><span class=anchor id=line-233></span><p class=line862>The first test checks whether <tt class=backtick>$name</tt> matches the <em>pattern</em> in <tt class=backtick>$foo</tt>. The second test checks whether <tt class=backtick>$name</tt> is equal to the <em>string</em> in <tt class=backtick>$foo</tt>. The quotes really do make that much difference -- a subtlety worth noting. <span class=anchor id=line-234></span><span class=anchor id=line-235></span><p class=line867><strong>Remember:</strong> Quoting is usually going to give you the behavior that you want, so make it a habit; omit only when the specific situation requires unquoted behavior. Unfortunately, bugs caused by incorrect quoting are often hard to find, because code is often valid with or without quotes, but may have different meanings. In such cases, bash cannot tell that you did something wrong; it just does what you tell it, even if that's not what you intended. <span class=anchor id=line-236></span><span class=anchor id=line-237></span><p class=line862>You could also combine several <tt class=backtick>if</tt> statements into one using <tt class=backtick>elif</tt> instead of <tt class=backtick>else</tt>, where each test indicates another possibility: <span class=anchor id=line-238></span><span class=anchor id=line-239></span><p class=line867><span class=anchor id=line-240></span><span class=anchor id=line-241></span><span class=anchor id=line-242></span><span class=anchor id=line-243></span><span class=anchor id=line-244></span><span class=anchor id=line-245></span><span class=anchor id=line-246></span><span class=anchor id=line-247></span><span class=anchor id=line-248></span><span class=anchor id=line-249></span><span class=anchor id=line-250></span><pre><span class=anchor id=line-1-19></span>$ name=lhunath
<span class=anchor id=line-2-11></span>$ if [[ $name = "George" ]]
<span class=anchor id=line-3-9></span>&gt; then echo "Bonjour, $name"
<span class=anchor id=line-4-7></span>&gt; elif [[ $name = "Hans" ]]
<span class=anchor id=line-5-6></span>&gt; then echo "Goeie dag, $name"
<span class=anchor id=line-6-3></span>&gt; elif [[ $name = "Jack" ]]
<span class=anchor id=line-7-3></span>&gt; then echo "Good day, $name"
<span class=anchor id=line-8-2></span>&gt; else
<span class=anchor id=line-9-2></span>&gt; echo "You're not George, Hans or Jack.  Who the hell are you, $name?"
<span class=anchor id=line-10-2></span>&gt; fi</pre><span class=anchor id=line-251></span><p class=line862>Note that "&lt;" and "&gt;" have special significance in bash. Pop quiz: Predict what happens when you do <tt class=backtick>[&nbsp;apple&nbsp;&lt;&nbsp;banana&nbsp;]</tt>. Test your hypothesis (don't cheat by trying without first forming a hypothesis!). Cue Jeopardy music... Answer: bash looks for a file named "banana" in the current directory so that its contents can be sent to <tt class=backtick>[&nbsp;apple</tt> (via standard input). Assuming you don't have a file named "banana" in your current directory, this will result in an error. Pop quiz: Assuming the original intention of that command is determine whether "apple" comes before "banana", how would you change the command to get the desired effect? Cue Jeopardy music... Answer: escape the "&lt;" with a backslash like that: <tt class=backtick>[&nbsp;apple&nbsp;\&lt;&nbsp;banana&nbsp;]</tt> or use <tt class=backtick>[[</tt> instead of <tt class=backtick>[</tt>. <span class=anchor id=line-252></span><span class=anchor id=line-253></span><p class=line862>Note that the comparison operators <tt class=backtick>=</tt>, <tt class=backtick>!=</tt>, <tt class=backtick>&gt;</tt>, and <tt class=backtick>&lt;</tt> treat their arguments as strings. In order for the operands to be treated as numbers, you need to use one of a different set of operators: <tt class=backtick>-eq</tt>, <tt class=backtick>-ne</tt> (not equal), <tt class=backtick>-lt</tt> (less than), <tt class=backtick>-gt</tt>, <tt class=backtick>-le</tt> (less than or equal to), or <tt class=backtick>-ge</tt>. Pop quiz: Come up with an example that shows the difference between <tt class=backtick>&lt;</tt> and <tt class=backtick>-lt</tt>. Cue Jeopardy music... Since "314" comes before "9" lexicographically (i.e. the order that the dictionary would put them in), <tt class=backtick>[</tt> considers the former to be <tt class=backtick>&lt;</tt> than the later; whereas, <tt class=backtick>[</tt> considers "314" NOT to be <tt class=backtick>-lt</tt> "9", because three hundred fourteen is NOT less than nine. <span class=anchor id=line-254></span><span class=anchor id=line-255></span><p class=line862>Now that you've got a decent understanding of quoting issues that may arise, let's have a look at some of the other features that <tt class=backtick>[</tt> and <tt class=backtick>[[</tt> were blessed with: <span class=anchor id=line-256></span><span class=anchor id=line-257></span><ul><li><p class=line862>Tests supported by <tt class=backtick>[</tt> (also known as <tt class=backtick>test</tt>) and <tt class=backtick>[[</tt>: <span class=anchor id=line-258></span><span class=anchor id=line-259></span><ul><li><p class=line891><strong>-e FILE</strong>: True if file exists. <span class=anchor id=line-260></span></p><li><p class=line891><strong>-f FILE</strong>: True if file is a regular file. <span class=anchor id=line-261></span></p><li><p class=line891><strong>-d FILE</strong>: True if file is a directory. <span class=anchor id=line-262></span></p><li><p class=line891><strong>-h FILE</strong>: True if file is a symbolic link. <span class=anchor id=line-263></span></p><li><p class=line891><strong>-p PIPE</strong>: True if pipe exists. <span class=anchor id=line-264></span></p><li><p class=line891><strong>-r FILE</strong>: True if file is readable by you. <span class=anchor id=line-265></span></p><li><p class=line891><strong>-s FILE</strong>: True if file exists and is not empty. <span class=anchor id=line-266></span></p><li><p class=line891><strong>-t FD </strong>: True if FD is opened on a terminal. <span class=anchor id=line-267></span></p><li><p class=line891><strong>-w FILE</strong>: True if the file is writable by you. <span class=anchor id=line-268></span></p><li><p class=line891><strong>-x FILE</strong>: True if the file is executable by you. <span class=anchor id=line-269></span></p><li><p class=line891><strong>-O FILE</strong>: True if the file is effectively owned by you. <span class=anchor id=line-270></span></p><li><p class=line891><strong>-G FILE</strong>: True if the file is effectively owned by your group. <span class=anchor id=line-271></span></p><li><p class=line891><strong>FILE -nt FILE</strong>: True if the first file is newer than the second. <span class=anchor id=line-272></span></p><li><p class=line891><strong>FILE -ot FILE</strong>: True if the first file is older than the second. <span class=anchor id=line-273></span></p><li><p class=line891><strong>-z STRING</strong>: True if the string is empty (its length is zero). <span class=anchor id=line-274></span></p><li><p class=line891><strong>-n STRING</strong>: True if the string is not empty (its length is not zero). <span class=anchor id=line-275></span></p><li>String operators: <span class=anchor id=line-276></span><ul><li><p class=line891><strong>STRING = STRING</strong>: True if the first string is identical to the second. <span class=anchor id=line-277></span></p><li><p class=line891><strong>STRING != STRING</strong>: True if the first string is not identical to the second. <span class=anchor id=line-278></span></p><li><p class=line891><strong>STRING &lt; STRING</strong>: True if the first string sorts before the second. <span class=anchor id=line-279></span></p><li><p class=line891><strong>STRING &gt; STRING</strong>: True if the first string sorts after the second. <span class=anchor id=line-280></span></p></ul><li><p class=line891><strong>! EXPR</strong>: Inverts the result of the expression (logical NOT). <span class=anchor id=line-281></span></p><li>Numeric operators: <span class=anchor id=line-282></span><ul><li><p class=line891><strong>INT -eq INT</strong>: True if both integers are identical. <span class=anchor id=line-283></span></p><li><p class=line891><strong>INT -ne INT</strong>: True if the integers are not identical. <span class=anchor id=line-284></span></p><li><p class=line891><strong>INT -lt INT</strong>: True if the first integer is less than the second. <span class=anchor id=line-285></span></p><li><p class=line891><strong>INT -gt INT</strong>: True if the first integer is greater than the second. <span class=anchor id=line-286></span></p><li><p class=line891><strong>INT -le INT</strong>: True if the first integer is less than or equal to the second. <span class=anchor id=line-287></span></p><li><p class=line891><strong>INT -ge INT</strong>: True if the first integer is greater than or equal to the second. <span class=anchor id=line-288></span></p></ul></ul><li><p class=line862>Additional tests supported only by <tt class=backtick>[[</tt>: <span class=anchor id=line-289></span><span class=anchor id=line-290></span><ul><li><p class=line891><strong>STRING = (or ==) PATTERN</strong>: Not string comparison like with <tt class=backtick>[</tt> (or <tt class=backtick>test</tt>), but <em>pattern matching</em> is performed. True if the string matches the glob pattern. <span class=anchor id=line-291></span></p><li><p class=line891><strong>STRING != PATTERN</strong>: Not string comparison like with <tt class=backtick>[</tt> (or <tt class=backtick>test</tt>), but <em>pattern matching</em> is performed. True if the string does not match the glob pattern. <span class=anchor id=line-292></span></p><li><p class=line891><strong>STRING =~ REGEX</strong>: True if the string matches the regex pattern. <span class=anchor id=line-293></span></p><li><p class=line891><strong>( EXPR )</strong>: Parentheses can be used to change the evaluation precedence. <span class=anchor id=line-294></span></p><li><p class=line891><strong>EXPR &amp;&amp; EXPR</strong>: Much like the '-a' operator of <tt class=backtick>test</tt>, but does not evaluate the second expression if the first already turns out to be false. <span class=anchor id=line-295></span></p><li><p class=line891><strong>EXPR || EXPR</strong>: Much like the '-o' operator of <tt class=backtick>test</tt>, but does not evaluate the second expression if the first already turns out to be true. <span class=anchor id=line-296></span></p></ul><li><p class=line862>Tests exclusive to <tt class=backtick>[</tt> (and <tt class=backtick>test</tt>): <span class=anchor id=line-297></span><span class=anchor id=line-298></span><ul><li><p class=line891><strong>EXPR -a EXPR</strong>: True if both expressions are true (logical AND). <span class=anchor id=line-299></span></p><li><p class=line891><strong>EXPR -o EXPR</strong>: True if either expression is true (logical OR). <span class=anchor id=line-300></span><span class=anchor id=line-301></span></p></ul></ul><p class=line874>Some examples? Sure: <span class=anchor id=line-302></span><span class=anchor id=line-303></span><p class=line867><span class=anchor id=line-304></span><span class=anchor id=line-305></span><span class=anchor id=line-306></span><span class=anchor id=line-307></span><span class=anchor id=line-308></span><span class=anchor id=line-309></span><span class=anchor id=line-310></span><span class=anchor id=line-311></span><span class=anchor id=line-312></span><span class=anchor id=line-313></span><span class=anchor id=line-314></span><pre><span class=anchor id=line-1-20></span>$ test -e /etc/X11/xorg.conf &amp;&amp; echo 'Your Xorg is configured!'
<span class=anchor id=line-2-12></span>Your Xorg is configured!
<span class=anchor id=line-3-10></span>$ test -n "$HOME" &amp;&amp; echo 'Your homedir is set!'
<span class=anchor id=line-4-8></span>Your homedir is set!
<span class=anchor id=line-5-7></span>$ [[ boar != bear ]] &amp;&amp; echo "Boars aren't bears."
<span class=anchor id=line-6-4></span>Boars aren't bears!
<span class=anchor id=line-7-4></span>$ [[ boar != b?ar ]] &amp;&amp; echo "Boars don't look like bears."
<span class=anchor id=line-8-3></span>$ [[ $DISPLAY ]] &amp;&amp; echo "Your DISPLAY variable is not empty, you probably have Xorg running."
<span class=anchor id=line-9-3></span>Your DISPLAY variable is not empty, you probably have Xorg running.
<span class=anchor id=line-10-3></span>$ [[ ! $DISPLAY ]] &amp;&amp; echo "Your DISPLAY variable is not not empty, you probably don't have Xorg running."</pre><span class=anchor id=line-315></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-316></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 Whenever you're making a Bash script, you should always use <tt class=backtick>[[</tt> rather than <tt class=backtick>[</tt>. <br>
 Whenever you're making a Shell script, which may end up being used in an environment where Bash is not available, you should use <tt class=backtick>[</tt>, because it is far more portable. (While being built in to Bash and some other shells, <tt class=backtick>[</tt> should be available as an external application as well; meaning it will work as argument to, for example, find's -exec and xargs.) <br>
 Don't ever use the <tt class=backtick>-a</tt> or <tt class=backtick>-o</tt> tests of the <tt class=backtick>[</tt> command. Use multiple <tt class=backtick>[</tt> commands instead (or use <tt class=backtick>[[</tt> if you can). POSIX doesn't define the behavior of <tt class=backtick>[</tt> with complex sets of tests, so you never know what you'll get.</strong> <span class=anchor id=line-317></span><span class=anchor id=line-318></span><span class=anchor id=line-319></span><span class=anchor id=line-320></span><span class=anchor id=line-321></span><span class=anchor id=line-322></span><pre><span class=anchor id=line-1-21></span>if [ "$food" = apple ] &amp;&amp; [ "$drink" = tea ]; then
<span class=anchor id=line-2-13></span>  echo "The meal is acceptable."
<span class=anchor id=line-3-11></span>fi</pre><span class=anchor id=line-323></span><span class=anchor id=line-324></span></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-325></span><ul><li style=list-style-type:none><p class=line891><strong>In The Manual: <a class=http href=http://www.gnu.org/software/bash/manual/bashref.html#Conditional-Constructs>Conditional Constructs</a></strong> <span class=anchor id=line-326></span><span class=anchor id=line-327></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-328></span><ul><li style=list-style-type:none><p class=line891><strong>In the FAQ: </strong> <span class=anchor id=line-329></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/017>How can I group expressions, e.g. (A AND B) OR C?</a> </strong> <span class=anchor id=line-330></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/031>What is the difference between the old and new test commands ([ and [[)?</a> </strong> <span class=anchor id=line-331></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/041>How do I determine whether a variable contains a substring?</a> </strong> <span class=anchor id=line-332></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/054>How can I tell whether a variable contains a valid number?</a></strong> <span class=anchor id=line-333></span><span class=anchor id=line-334></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-335></span><ul><li style=list-style-type:none><p class=line891><em>if (keyword)</em>: Execute a list of commands and then, depending on their exit code, execute the code in the following <tt class=backtick>then</tt> (or optionally <tt class=backtick>else</tt>) block. <span class=anchor id=line-336></span><span class=anchor id=line-337></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-338></span><span class=anchor id=Conditional_Loops></span> <span class=anchor id=line-339></span><span class=anchor id=line-340></span><p class=line867>
<h2 id=Conditional_Loops_.28while.2C_until_and_for.29>5. Conditional Loops (while, until and for)</h2>
<span class=anchor id=line-341></span><p class=line862>Now you've learned how to make some basic decisions in your scripts. However, that's not enough for every kind of task we might want to script. Sometimes we need to repeat things. For that, we need to use a <em>loop</em>. There are two basic kinds of loops (plus a couple of variants), and using the correct kind of loop will help you keep your scripts readable and maintainable. <span class=anchor id=line-342></span><span class=anchor id=line-343></span><p class=line862>The two basic kinds of loops are called <tt class=backtick>while</tt> and <tt class=backtick>for</tt>. The <tt class=backtick>while</tt> loop has a variant called <tt class=backtick>until</tt> which simply reverses its check; and the <tt class=backtick>for</tt> loop can appear in two different forms. Here's a summary: <span class=anchor id=line-344></span><span class=anchor id=line-345></span><ul><li><p class=line891><strong><tt class=backtick>while</tt> <em>command</em></strong>: Repeat so long as command is executed successfully (exit code is 0). <span class=anchor id=line-346></span></p><li><p class=line891><strong><tt class=backtick>until</tt> <em>command</em></strong>: Repeat so long as command is executed unsuccessfully (exit code is not 0). <span class=anchor id=line-347></span></p><li><p class=line891><strong><tt class=backtick>for</tt> <em>variable</em> <tt class=backtick>in</tt> <em>words</em></strong>: Repeat the loop for each word, setting <em>variable</em> to each word in turn. <span class=anchor id=line-348></span></p><li><p class=line891><strong><tt class=backtick>for&nbsp;((</tt> <em>expression</em><tt class=backtick>;</tt> <em>expression</em><tt class=backtick>;</tt> <em>expression</em> <tt class=backtick>))</tt></strong>: Starts by evaluating the first arithmetic expression; repeats the loop so long as the second arithmetic expression is successful; and at the end of each loop evaluates the third arithmetic expression. <span class=anchor id=line-349></span><span class=anchor id=line-350></span></p></ul><p class=line862>Each loop form is followed by the key word <tt class=backtick>do</tt>, then one or more commands in the <em>body</em>, then the key word <tt class=backtick>done</tt>. The <tt class=backtick>do</tt> and <tt class=backtick>done</tt> are similar to the <tt class=backtick>then</tt> and <tt class=backtick>fi</tt> (and possible <tt class=backtick>elif</tt> and/or <tt class=backtick>else</tt>) from the <tt class=backtick>if</tt> statement we saw earlier. Their job is to tell us where the body of the loop begins and ends. <span class=anchor id=line-351></span><span class=anchor id=line-352></span><p class=line862>In practice, the loops are used for different kinds of tasks. The <tt class=backtick>for</tt> loop (first form) is appropriate when we have a list of things, and we want to run through that list sequentially. The <tt class=backtick>while</tt> loop is appropriate when we don't know exactly how many times we need to repeat something; we simply want it to keep going until we find what we're looking for. <span class=anchor id=line-353></span><span class=anchor id=line-354></span><p class=line862>Here are some examples to illustrate the differences and also the similarities between the loops. (Remember: on most operating systems, you press <strong>Ctrl-C</strong> to kill a program that's running on your terminal.) <span class=anchor id=line-355></span><span class=anchor id=line-356></span><p class=line867><span class=anchor id=line-357></span><span class=anchor id=line-358></span><span class=anchor id=line-359></span><span class=anchor id=line-360></span><pre><span class=anchor id=line-1-22></span>$ while true
<span class=anchor id=line-2-14></span>&gt; do echo "Infinite loop"
<span class=anchor id=line-3-12></span>&gt; done</pre><span class=anchor id=line-361></span><p class=line867><span class=anchor id=line-362></span><span class=anchor id=line-363></span><span class=anchor id=line-364></span><span class=anchor id=line-365></span><span class=anchor id=line-366></span><pre><span class=anchor id=line-1-23></span>$ while ! ping -c 1 -W 1 1.1.1.1; do
<span class=anchor id=line-2-15></span>&gt; echo "still waiting for 1.1.1.1"
<span class=anchor id=line-3-13></span>&gt; sleep 1
<span class=anchor id=line-4-9></span>&gt; done</pre><span class=anchor id=line-367></span><p class=line867><span class=anchor id=line-368></span><span class=anchor id=line-369></span><span class=anchor id=line-370></span><span class=anchor id=line-371></span><span class=anchor id=line-372></span><span class=anchor id=line-373></span><span class=anchor id=line-374></span><span class=anchor id=line-375></span><span class=anchor id=line-376></span><span class=anchor id=line-377></span><span class=anchor id=line-378></span><pre><span class=anchor id=line-1-24></span>$ (( i=10 )); while (( i &gt; 0 ))
<span class=anchor id=line-2-16></span>&gt; do echo "$i empty cans of beer."
<span class=anchor id=line-3-14></span>&gt; (( i-- ))
<span class=anchor id=line-4-10></span>&gt; done
<span class=anchor id=line-5-8></span>$ for (( i=10; i &gt; 0; i-- ))
<span class=anchor id=line-6-5></span>&gt; do echo "$i empty cans of beer."
<span class=anchor id=line-7-5></span>&gt; done
<span class=anchor id=line-8-4></span>$ for i in {10..1}
<span class=anchor id=line-9-4></span>&gt; do echo "$i empty cans of beer."
<span class=anchor id=line-10-4></span>&gt; done</pre><span class=anchor id=line-379></span><p class=line862>The last three loops achieve exactly the same result, using different syntax. You'll encounter this many times in your shell scripting experience. There will nearly always be multiple approaches to solving a problem. The test of your skill soon won't be about solving a problem as much as about how <em>best</em> to solve it. You must learn to pick the best angle of approach for the job. Usually, the main factors to take into account will be the simplicity and flexibility of the resulting code. My personal favorite is the last of the examples. In that example I used <em>Brace Expansion</em> to generate the words; but there are other ways, too. <span class=anchor id=line-380></span><span class=anchor id=line-381></span><p class=line862>Let's take a closer look at that last example, because although it looks the easier of the two <tt class=backtick>for</tt>s, it can often be the trickier, if you don't know exactly how it works. <span class=anchor id=line-382></span><span class=anchor id=line-383></span><p class=line862>As I mentioned before: <tt class=backtick>for</tt> runs through a list of words and puts each one in the loop index variable, one at a time, and then loops through the body with it. The tricky part is how Bash decides what the words are. Let me explain myself by expanding the braces from that previous example: <span class=anchor id=line-384></span><span class=anchor id=line-385></span><p class=line867><span class=anchor id=line-386></span><span class=anchor id=line-387></span><span class=anchor id=line-388></span><span class=anchor id=line-389></span><pre><span class=anchor id=line-1-25></span>$ for i in 10 9 8 7 6 5 4 3 2 1
<span class=anchor id=line-2-17></span>&gt; do echo "$i empty cans of beer."
<span class=anchor id=line-3-15></span>&gt; done</pre><span class=anchor id=line-390></span><p class=line862>Bash takes the characters between <tt class=backtick>in</tt> and the end of the line, and splits them up into words. This splitting is done on spaces and tabs, just like argument splitting. However, if there are any unquoted substitutions in there, they will be word-split as well (using <a href=https://mywiki.wooledge.org/IFS>IFS</a>). All these split-up words become the iteration elements. <span class=anchor id=line-391></span><span class=anchor id=line-392></span><p class=line867><strong>As a result, be VERY careful not to make the following mistake:</strong> <span class=anchor id=line-393></span><span class=anchor id=line-394></span><p class=line867><span class=anchor id=line-395></span><span class=anchor id=line-396></span><span class=anchor id=line-397></span><span class=anchor id=line-398></span><span class=anchor id=line-399></span><span class=anchor id=line-400></span><span class=anchor id=line-401></span><span class=anchor id=line-402></span><span class=anchor id=line-403></span><span class=anchor id=line-404></span><span class=anchor id=line-405></span><span class=anchor id=line-406></span><pre><span class=anchor id=line-1-26></span>$ ls
<span class=anchor id=line-2-18></span>The best song in the world.mp3
<span class=anchor id=line-3-16></span>$ for file in $(ls *.mp3)
<span class=anchor id=line-4-11></span>&gt; do rm "$file"
<span class=anchor id=line-5-9></span>&gt; done
<span class=anchor id=line-6-6></span>rm: cannot remove `The': No such file or directory
<span class=anchor id=line-7-6></span>rm: cannot remove `best': No such file or directory
<span class=anchor id=line-8-5></span>rm: cannot remove `song': No such file or directory
<span class=anchor id=line-9-5></span>rm: cannot remove `in': No such file or directory
<span class=anchor id=line-10-5></span>rm: cannot remove `the': No such file or directory
<span class=anchor id=line-11-1></span>rm: cannot remove `world.mp3': No such file or directory</pre><span class=anchor id=line-407></span><p class=line862>You should already know to quote the <tt class=backtick>$file</tt> in the <tt class=backtick>rm</tt> statement; but what's going wrong here? Bash expands the command substitution (<tt class=backtick>$(ls&nbsp;*.mp3)</tt>), replaces it by its output, and <em>then</em> performs word splitting on it (because it was unquoted). Essentially, Bash executes <tt class=backtick>for&nbsp;file&nbsp;in&nbsp;The&nbsp;best&nbsp;song&nbsp;in&nbsp;the&nbsp;world.mp3</tt>. <em>Boom, you are dead</em>. <span class=anchor id=line-408></span><span class=anchor id=line-409></span><p class=line874>You want to quote it, you say? Let's add another song: <span class=anchor id=line-410></span><span class=anchor id=line-411></span><p class=line867><span class=anchor id=line-412></span><span class=anchor id=line-413></span><span class=anchor id=line-414></span><span class=anchor id=line-415></span><span class=anchor id=line-416></span><span class=anchor id=line-417></span><span class=anchor id=line-418></span><pre><span class=anchor id=line-1-27></span>$ ls
<span class=anchor id=line-2-19></span>The best song in the world.mp3  The worst song in the world.mp3
<span class=anchor id=line-3-17></span>$ for file in "$(ls *.mp3)"
<span class=anchor id=line-4-12></span>&gt; do rm "$file"
<span class=anchor id=line-5-10></span>&gt; done
<span class=anchor id=line-6-7></span>rm: cannot remove `The best song in the world.mp3  The worst song in the world.mp3': No such file or directory</pre><span class=anchor id=line-419></span><p class=line862>Quotes will indeed protect the whitespace in your filenames; but they will do more than that. The quotes will protect <strong>all the whitespace</strong> from the output of <tt class=backtick>ls</tt>. There is no way Bash can know which parts of the output of <tt class=backtick>ls</tt> represent filenames; it's not psychic. The output of <tt class=backtick>ls</tt> is a simple string, and Bash treats it as such. The <tt class=backtick>for</tt> puts the whole quoted output in <tt class=backtick>i</tt> and runs the <tt class=backtick>rm</tt> command with it. <em>Damn, dead again</em>. <span class=anchor id=line-420></span><span class=anchor id=line-421></span><p class=line874>So what do we do? As suggested earlier, globs are your best friend: <span class=anchor id=line-422></span><span class=anchor id=line-423></span><p class=line867><span class=anchor id=line-424></span><span class=anchor id=line-425></span><span class=anchor id=line-426></span><span class=anchor id=line-427></span><pre><span class=anchor id=line-1-28></span>$ for file in *.mp3
<span class=anchor id=line-2-20></span>&gt; do rm "$file"
<span class=anchor id=line-3-18></span>&gt; done</pre><span class=anchor id=line-428></span><p class=line862>This time, Bash <strong>does</strong> know that it's dealing with filenames, and it <strong>does</strong> know what the filenames are, and as such it can split them up nicely. The result of expanding the glob is this: <tt class=backtick>for&nbsp;file&nbsp;in&nbsp;"The&nbsp;best&nbsp;song&nbsp;in&nbsp;the&nbsp;world.mp3"&nbsp;"The&nbsp;worst&nbsp;song&nbsp;in&nbsp;the&nbsp;world.mp3"</tt>. Problem solved! <span class=anchor id=line-429></span><span class=anchor id=line-430></span><p class=line862>Now let's look at the <tt class=backtick>while</tt> loop. The <tt class=backtick>while</tt> loop is very interesting for its capacity to execute commands until something interesting happens. Here are a few examples of how <tt class=backtick>while</tt> loops are very often used: <span class=anchor id=line-431></span><span class=anchor id=line-432></span><p class=line867><span class=anchor id=line-433></span><span class=anchor id=line-434></span><span class=anchor id=line-435></span><span class=anchor id=line-436></span><span class=anchor id=line-437></span><pre><span class=anchor id=line-1-29></span>$ # The sweet machine; hand out sweets for a cute price.
<span class=anchor id=line-2-21></span>$ while read -p $'The sweet machine.\nInsert 20c and enter your name: ' name
<span class=anchor id=line-3-19></span>&gt; do echo "The machine spits out three lollipops at $name."
<span class=anchor id=line-4-13></span>&gt; done</pre><span class=anchor id=line-438></span><p class=line867><span class=anchor id=line-439></span><span class=anchor id=line-440></span><span class=anchor id=line-441></span><span class=anchor id=line-442></span><span class=anchor id=line-443></span><pre><span class=anchor id=line-1-30></span>$ # Check your email every five minutes.
<span class=anchor id=line-2-22></span>$ while sleep 300
<span class=anchor id=line-3-20></span>&gt; do kmail --check
<span class=anchor id=line-4-14></span>&gt; done</pre><span class=anchor id=line-444></span><p class=line867><span class=anchor id=line-445></span><span class=anchor id=line-446></span><span class=anchor id=line-447></span><span class=anchor id=line-448></span><span class=anchor id=line-449></span><pre><span class=anchor id=line-1-31></span>$ # Wait for a host to come back online.
<span class=anchor id=line-2-23></span>$ while ! ping -c 1 -W 1 "$host"
<span class=anchor id=line-3-21></span>&gt; do echo "$host is still unavailable."
<span class=anchor id=line-4-15></span>&gt; done; echo -e "$host is available again.\a"</pre><span class=anchor id=line-450></span><p class=line862>The <tt class=backtick>until</tt> loop is barely ever used, if only because it is pretty much exactly the same as <tt class=backtick>while&nbsp;!</tt>. We could rewrite our last example using an <tt class=backtick>until</tt> loop: <span class=anchor id=line-451></span><span class=anchor id=line-452></span><p class=line867><span class=anchor id=line-453></span><span class=anchor id=line-454></span><span class=anchor id=line-455></span><span class=anchor id=line-456></span><span class=anchor id=line-457></span><pre><span class=anchor id=line-1-32></span>$ # Wait for a host to come back online.
<span class=anchor id=line-2-24></span>$ until ping -c 1 -W 1 "$host"
<span class=anchor id=line-3-22></span>&gt; do echo "$host is still unavailable."
<span class=anchor id=line-4-16></span>&gt; done; echo -e "$host is available again.\a"</pre><span class=anchor id=line-458></span><p class=line862>In practice, most people simply use <tt class=backtick>while&nbsp;!</tt> instead. <span class=anchor id=line-459></span><span class=anchor id=line-460></span><p class=line862>Lastly, you can use the <tt class=backtick>continue</tt> builtin to skip ahead to the next iteration of a loop without executing the rest of the body, and the <tt class=backtick>break</tt> builtin to jump out of the loop and continue with the script after it. This works in both <tt class=backtick>for</tt> and <tt class=backtick>while</tt> loops. <span class=anchor id=line-461></span><span class=anchor id=line-462></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-463></span><ul><li style=list-style-type:none><p class=line891><strong>In The Manual: <a class=http href=http://www.gnu.org/software/bash/manual/bashref.html#Looping-Constructs>Looping Constructs</a></strong> <span class=anchor id=line-464></span><span class=anchor id=line-465></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-466></span><ul><li style=list-style-type:none><p class=line891><strong>In the FAQ: </strong> <span class=anchor id=line-467></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/015>How can I run a command on all files with the extension .gz?</a> </strong> <span class=anchor id=line-468></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/018>How can I use numbers with leading zeros in a loop, e.g. 01, 02?</a> </strong> <span class=anchor id=line-469></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/020>How can I find and deal with file names containing newlines, spaces or both?</a> </strong> <span class=anchor id=line-470></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/030>How can I rename all my *.foo files to *.bar, or convert spaces to underscores, or convert upper-case file names to lower case?</a> </strong> <span class=anchor id=line-471></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/034>Can I do a spinner in Bash?</a> </strong> <span class=anchor id=line-472></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/046>I want to check to see whether a word is in a list (or an element is a member of a set).</a></strong> <span class=anchor id=line-473></span><span class=anchor id=line-474></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-475></span><ul><li style=list-style-type:none><p class=line891><em>Loop</em>: A loop is a structure that is designed to repeat the code within until a certain condition has been fulfilled. At that point, the loop stops and the code beyond it is executed. <span class=anchor id=line-476></span></p><li style=list-style-type:none><p class=line891><em>for (keyword)</em>: A <tt class=backtick>for</tt>-loop is a type of loop that sets a variable to each of a list of values in turn, and repeats until the list is exhausted. <span class=anchor id=line-477></span></p><li style=list-style-type:none><p class=line891><em>while (keyword)</em>: A <tt class=backtick>while</tt>-loop is a type of loop that continues to run its code so long as a certain command (run before each iteration) executes successfully. <span class=anchor id=line-478></span></p><li style=list-style-type:none><p class=line891><em>until (keyword)</em>: An <tt class=backtick>until</tt>-loop is a type of loop that continues to run its code so long as a certain command (run before each iteration) executes unsuccessfully. <span class=anchor id=line-479></span><span class=anchor id=line-480></span></p></ul><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-481></span><span class=anchor id=Choices></span> <span class=anchor id=line-482></span><span class=anchor id=line-483></span><p class=line867>
<h2 id=Choices_.28case_and_select.29>6. Choices (case and select)</h2>
<span class=anchor id=line-484></span><p class=line862>Sometimes you want to build application logic depending on the content of a variable. This could be implemented by taking a different branch of an <tt class=backtick>if</tt> statement depending on the results of testing against a glob: <span class=anchor id=line-485></span><span class=anchor id=line-486></span><p class=line867><span class=anchor id=line-487></span><span class=anchor id=line-488></span><span class=anchor id=line-489></span><span class=anchor id=line-490></span><span class=anchor id=line-491></span><span class=anchor id=line-492></span><span class=anchor id=line-493></span><span class=anchor id=line-494></span><span class=anchor id=line-495></span><span class=anchor id=line-496></span><span class=anchor id=line-497></span><span class=anchor id=line-498></span><span class=anchor id=line-499></span><span class=anchor id=line-500></span><span class=anchor id=line-501></span><span class=anchor id=line-502></span><span class=anchor id=line-503></span><span class=anchor id=line-504></span><span class=anchor id=line-505></span><span class=anchor id=line-506></span><span class=anchor id=line-1-1></span><div class="highlight bash"><div class=codearea dir=ltr lang=en>
<a href=# class=codenumbers>Toggle line numbers</a>
<pre dir=ltr id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c lang=en><span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_1>   1</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_1></span><span class=anchor id=line-1-2></span><span class=ResWord>shopt</span> -s extglob</span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_2>   2</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_2></span><span class=anchor id=line-2-1></span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_3>   3</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_3></span><span class=anchor id=line-3-1></span><span class=ResWord>if</span> [[ <span class=ID>$LANG</span> = en* ]]; <span class=ResWord>then</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_4>   4</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_4></span><span class=anchor id=line-4-1></span>    <span class=ResWord>echo</span> <span class=String>'Hello!'</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_5>   5</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_5></span><span class=anchor id=line-5-1></span><span class=ResWord>elif</span> [[ <span class=ID>$LANG</span> = fr* ]]; <span class=ResWord>then</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_6>   6</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_6></span><span class=anchor id=line-6-1></span>    <span class=ResWord>echo</span> <span class=String>'Salut!'</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_7>   7</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_7></span><span class=anchor id=line-7-1></span><span class=ResWord>elif</span> [[ <span class=ID>$LANG</span> = de* ]]; <span class=ResWord>then</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_8>   8</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_8></span><span class=anchor id=line-8-1></span>    <span class=ResWord>echo</span> <span class=String>'Guten Tag!'</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_9>   9</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_9></span><span class=anchor id=line-9-1></span><span class=ResWord>elif</span> [[ <span class=ID>$LANG</span> = nl* ]]; <span class=ResWord>then</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_10>  10</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_10></span><span class=anchor id=line-10-1></span>    <span class=ResWord>echo</span> <span class=String>'Hallo!'</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_11>  11</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_11></span><span class=anchor id=line-11-1></span><span class=ResWord>elif</span> [[ <span class=ID>$LANG</span> = it* ]]; <span class=ResWord>then</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_12>  12</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_12></span><span class=anchor id=line-12-1></span>    <span class=ResWord>echo</span> <span class=String>'Ciao!'</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_13>  13</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_13></span><span class=anchor id=line-13-1></span><span class=ResWord>elif</span> [[ <span class=ID>$LANG</span> = es* ]]; <span class=ResWord>then</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_14>  14</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_14></span><span class=anchor id=line-14-1></span>    <span class=ResWord>echo</span> <span class=String>'Hola!'</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_15>  15</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_15></span><span class=anchor id=line-15-1></span><span class=ResWord>elif</span> [[ <span class=ID>$LANG</span> = @(C|POSIX) ]]; <span class=ResWord>then</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_16>  16</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_16></span><span class=anchor id=line-16-1></span>    <span class=ResWord>echo</span> <span class=String>'hello world'</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_17>  17</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_17></span><span class=anchor id=line-17-1></span><span class=ResWord>else</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_18>  18</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_18></span><span class=anchor id=line-18-1></span>    <span class=ResWord>echo</span> <span class=String>'I do not speak your language.'</span></span>
<span class=line><span class=LineNumber><a href=#CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_19>  19</a> </span><span class=LineAnchor id=CA-6a90222829aaf6c9eaf2bfab37d7a545c8da779c_19></span><span class=anchor id=line-19-1></span><span class=ResWord>fi</span></span>
</pre></div></div><span class=anchor id=line-507></span><p class=line862>But all these comparisons are a bit redundant. Bash provides a keyword called <tt class=backtick>case</tt> exactly for this kind of situation. A <tt class=backtick>case</tt> statement basically enumerates several possible <em>Glob Patterns</em> and checks the content of your parameter against these: <span class=anchor id=line-508></span><span class=anchor id=line-509></span><p class=line867><span class=anchor id=line-510></span><span class=anchor id=line-511></span><span class=anchor id=line-512></span><span class=anchor id=line-513></span><span class=anchor id=line-514></span><span class=anchor id=line-515></span><span class=anchor id=line-516></span><span class=anchor id=line-517></span><span class=anchor id=line-518></span><span class=anchor id=line-519></span><span class=anchor id=line-520></span><span class=anchor id=line-1-3></span><div class="highlight bash"><div class=codearea dir=ltr lang=en>
<a href=# class=codenumbers>Toggle line numbers</a>
<pre dir=ltr id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d lang=en><span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_1>   1</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_1></span><span class=anchor id=line-1-4></span><span class=ResWord>case</span> <span class=ID>$LANG</span> in</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_2>   2</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_2></span><span class=anchor id=line-2-2></span>    en*) <span class=ResWord>echo</span> <span class=String>'Hello!'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_3>   3</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_3></span><span class=anchor id=line-3-2></span>    fr*) <span class=ResWord>echo</span> <span class=String>'Salut!'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_4>   4</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_4></span><span class=anchor id=line-4-2></span>    de*) <span class=ResWord>echo</span> <span class=String>'Guten Tag!'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_5>   5</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_5></span><span class=anchor id=line-5-2></span>    nl*) <span class=ResWord>echo</span> <span class=String>'Hallo!'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_6>   6</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_6></span><span class=anchor id=line-6-2></span>    it*) <span class=ResWord>echo</span> <span class=String>'Ciao!'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_7>   7</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_7></span><span class=anchor id=line-7-2></span>    es*) <span class=ResWord>echo</span> <span class=String>'Hola!'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_8>   8</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_8></span><span class=anchor id=line-8-2></span>    C|POSIX) <span class=ResWord>echo</span> <span class=String>'hello world'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_9>   9</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_9></span><span class=anchor id=line-9-2></span>    *)   <span class=ResWord>echo</span> <span class=String>'I do not speak your language.'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_10>  10</a> </span><span class=LineAnchor id=CA-0482f9a3d105bf94f741acfe90794fa0875c5c0d_10></span><span class=anchor id=line-10-2></span><span class=ResWord>esac</span></span>
</pre></div></div><span class=anchor id=line-521></span><p class=line862>Each choice in a <tt class=backtick>case</tt> statement consists of a pattern (or a list of patterns with <tt class=backtick>|</tt> between them), a right parenthesis, a block of code that is to be executed if the string matches one of those patterns, and two semi-colons to denote the end of the block of code (since you might need to write it on several lines). A left parenthesis can be added to the left of the pattern. Using <tt class=backtick>;&amp;</tt> instead of <tt class=backtick>;;</tt> will grant you the ability to fall-through the <tt class=backtick>case</tt> matching in bash, zsh and ksh. <tt class=backtick>case</tt> stops matching patterns as soon as one is successful. Therefore, we can use the <tt class=backtick>*</tt> pattern in the end to match any case that has not been caught by the other choices. <span class=anchor id=line-522></span><span class=anchor id=line-523></span><p class=line862>When a matching pattern is found and the <tt class=backtick>;&amp;</tt> operator is used after the block of code, the block of code for the next choice will be executed too no matter if the pattern for that choice matches or not. When the <tt class=backtick>;;&amp;</tt> operator is used, instead of the block of code for the next choice, will be executed the block of code for the next matching pattern. <span class=anchor id=line-524></span><span class=anchor id=line-525></span><p class=line862>Another construct of choice is the <tt class=backtick>select</tt> construct. This statement smells like a loop and is a convenience statement for generating a menu of choices that the user can choose from. <span class=anchor id=line-526></span><span class=anchor id=line-527></span><p class=line862>The user is presented by choices and asked to enter a number reflecting his choice. The code in the <tt class=backtick>select</tt> block is then executed with a variable set to the choice the user made. If the user's choice was invalid, the variable is made empty: <span class=anchor id=line-528></span><span class=anchor id=line-529></span><p class=line867><span class=anchor id=line-530></span><span class=anchor id=line-531></span><span class=anchor id=line-532></span><span class=anchor id=line-533></span><span class=anchor id=line-534></span><span class=anchor id=line-535></span><span class=anchor id=line-536></span><pre><span class=anchor id=line-1-33></span>$ echo "Which of these does not belong in the group?"; \
<span class=anchor id=line-2-25></span>&gt; select choice in Apples Pears Crisps Lemons Kiwis; do
<span class=anchor id=line-3-23></span>&gt; if [[ $choice = Crisps ]]
<span class=anchor id=line-4-17></span>&gt; then echo "Correct!  Crisps are not fruit."; break; fi
<span class=anchor id=line-5-11></span>&gt; echo "Errr... no.  Try again."
<span class=anchor id=line-6-8></span>&gt; done</pre><span class=anchor id=line-537></span><p class=line862>The menu reappears so long as the <tt class=backtick>break</tt> statement is not executed. In the example the <tt class=backtick>break</tt> statement is only executed when the user makes the correct choice. <span class=anchor id=line-538></span><span class=anchor id=line-539></span><p class=line862>We can also use the <tt class=backtick>PS3</tt> variable to define the prompt the user replies on. Instead of showing the question before executing the <tt class=backtick>select</tt> statement, we could choose to set the question as our prompt: <span class=anchor id=line-540></span><span class=anchor id=line-541></span><p class=line867><span class=anchor id=line-542></span><span class=anchor id=line-543></span><span class=anchor id=line-544></span><span class=anchor id=line-545></span><span class=anchor id=line-546></span><span class=anchor id=line-547></span><span class=anchor id=line-548></span><pre><span class=anchor id=line-1-34></span>$ PS3="Which of these does not belong in the group (#)? "; \
<span class=anchor id=line-2-26></span>&gt; select choice in Apples Pears Crisps Lemons Kiwis; do
<span class=anchor id=line-3-24></span>&gt; if [[ $choice = Crisps ]]
<span class=anchor id=line-4-18></span>&gt; then echo "Correct!  Crisps are not fruit."; break; fi
<span class=anchor id=line-5-12></span>&gt; echo "Errr... no.  Try again."
<span class=anchor id=line-6-9></span>&gt; done</pre><span class=anchor id=line-549></span><p class=line862>All of these conditional constructs (<tt class=backtick>if</tt>, <tt class=backtick>for</tt>, <tt class=backtick>while</tt>, and <tt class=backtick>case</tt>) can be <em>nested</em>. This means you could have a <tt class=backtick>for</tt> loop with a <tt class=backtick>while</tt> loop inside it, or any other combination, as deeply as you need to solve your problem. <span class=anchor id=line-550></span><span class=anchor id=line-551></span><p class=line867><span class=anchor id=line-552></span><span class=anchor id=line-553></span><span class=anchor id=line-554></span><span class=anchor id=line-555></span><span class=anchor id=line-556></span><span class=anchor id=line-557></span><span class=anchor id=line-558></span><span class=anchor id=line-559></span><span class=anchor id=line-560></span><span class=anchor id=line-561></span><span class=anchor id=line-562></span><span class=anchor id=line-563></span><span class=anchor id=line-564></span><span class=anchor id=line-565></span><span class=anchor id=line-566></span><span class=anchor id=line-567></span><span class=anchor id=line-568></span><span class=anchor id=line-569></span><span class=anchor id=line-570></span><span class=anchor id=line-571></span><span class=anchor id=line-572></span><span class=anchor id=line-573></span><span class=anchor id=line-574></span><span class=anchor id=line-575></span><span class=anchor id=line-576></span><span class=anchor id=line-577></span><span class=anchor id=line-578></span><span class=anchor id=line-579></span><span class=anchor id=line-1-5></span><div class="highlight bash"><div class=codearea dir=ltr lang=en>
<a href=# class=codenumbers>Toggle line numbers</a>
<pre dir=ltr id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd lang=en><span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_1>   1</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_1></span><span class=anchor id=line-1-6></span><span class=Comment># A simple menu:</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_2>   2</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_2></span><span class=anchor id=line-2-3></span><span class=ResWord>while</span> true; <span class=ResWord>do</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_3>   3</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_3></span><span class=anchor id=line-3-3></span>    <span class=ResWord>echo</span> <span class=String>"Welcome to the Menu"</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_4>   4</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_4></span><span class=anchor id=line-4-3></span>    <span class=ResWord>echo</span> <span class=String>"  1. Say hello"</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_5>   5</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_5></span><span class=anchor id=line-5-3></span>    <span class=ResWord>echo</span> <span class=String>"  2. Say good-bye"</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_6>   6</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_6></span><span class=anchor id=line-6-3></span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_7>   7</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_7></span><span class=anchor id=line-7-3></span>    <span class=ResWord>read</span> -p <span class=String>"-&gt; "</span> response</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_8>   8</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_8></span><span class=anchor id=line-8-3></span>    <span class=ResWord>case</span> <span class=ID>$response</span> in</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_9>   9</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_9></span><span class=anchor id=line-9-3></span>        <span class=Number>1</span>) <span class=ResWord>echo</span> <span class=String>'Hello there!'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_10>  10</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_10></span><span class=anchor id=line-10-3></span>        <span class=Number>2</span>) <span class=ResWord>echo</span> <span class=String>'See you later!'</span>; <span class=ResWord>break</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_11>  11</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_11></span><span class=anchor id=line-11-2></span>        *) <span class=ResWord>echo</span> <span class=String>'What was that?'</span> ;;</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_12>  12</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_12></span><span class=anchor id=line-12-2></span>    <span class=ResWord>esac</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_13>  13</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_13></span><span class=anchor id=line-13-2></span><span class=ResWord>done</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_14>  14</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_14></span><span class=anchor id=line-14-2></span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_15>  15</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_15></span><span class=anchor id=line-15-2></span><span class=Comment># Alternative: use a variable to terminate the loop instead of an</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_16>  16</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_16></span><span class=anchor id=line-16-2></span><span class=Comment># explicit break command.</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_17>  17</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_17></span><span class=anchor id=line-17-2></span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_18>  18</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_18></span><span class=anchor id=line-18-2></span><span class=ID>quit</span>=</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_19>  19</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_19></span><span class=anchor id=line-19-2></span><span class=ResWord>while</span> <span class=ResWord>test</span> -z <span class=String>"</span><span class=ID>$quit</span><span class=String>"</span>; <span class=ResWord>do</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_20>  20</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_20></span><span class=anchor id=line-20-1></span>    <span class=ResWord>echo</span> <span class=String>"...."</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_21>  21</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_21></span><span class=anchor id=line-21-1></span>    <span class=ResWord>read</span> -p <span class=String>"-&gt; "</span> response</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_22>  22</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_22></span><span class=anchor id=line-22-1></span>    <span class=ResWord>case</span> <span class=ID>$response</span> in</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_23>  23</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_23></span><span class=anchor id=line-23-1></span>        ...</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_24>  24</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_24></span><span class=anchor id=line-24-1></span>        <span class=Number>2</span>) <span class=ResWord>echo</span> <span class=String>'See you later!'</span>; <span class=ID>quit</span>=y ;;</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_25>  25</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_25></span><span class=anchor id=line-25-1></span>        ...</span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_26>  26</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_26></span><span class=anchor id=line-26-1></span>    <span class=ResWord>esac</span></span>
<span class=line><span class=LineNumber><a href=#CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_27>  27</a> </span><span class=LineAnchor id=CA-ea7d3bce92dd90b56907fd3bf095ea5240a5c2fd_27></span><span class=anchor id=line-27-1></span><span class=ResWord>done</span></span>
</pre></div></div><span class=anchor id=line-580></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-581></span><ul><li style=list-style-type:none><p class=line891><strong>Good Practice: <br>
 A select statement makes a simple menu simple, but it doesn't offer much flexibility. If you want something more elaborate, you might prefer to write your own menu using a while loop, some echo or printf commands, and a read command.</strong> <span class=anchor id=line-582></span><span class=anchor id=line-583></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-584></span><ul><li style=list-style-type:none><p class=line891><strong>In The Manual: <a class=http href=http://www.gnu.org/software/bash/manual/bashref.html#Conditional-Constructs>Conditional Constructs</a></strong> <span class=anchor id=line-585></span><span class=anchor id=line-586></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-587></span><ul><li style=list-style-type:none><p class=line891><strong>In the FAQ: </strong> <span class=anchor id=line-588></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/066>I want to check if [[ $var == foo or $var == bar or $var = more ... without repeating $var n times.</a> </strong> <span class=anchor id=line-589></span></p><li style=list-style-type:none><p class=line891><strong><a href=https://mywiki.wooledge.org/BashFAQ/035>How can I handle command-line arguments (options) to my script easily?</a></strong> <span class=anchor id=line-590></span><span class=anchor id=line-591></span></p></ul><p class=line867><hr><p class=line874> <span class=anchor id=line-592></span><ul><li style=list-style-type:none><p class=line891><em>case (keyword)</em>: The <tt class=backtick>case</tt> statement evaluates a parameter's value against several given patterns (choices). <span class=anchor id=line-593></span></p><li style=list-style-type:none><p class=line891><em>select (keyword)</em>: The <tt class=backtick>select</tt> statement offers the user the choice of several options and executes a block of code with the user's choice in a parameter. The menu repeats until a <tt class=backtick>break</tt> command is executed. <span class=anchor id=line-594></span><span class=anchor id=line-595></span></p></ul><p class=line867><span class=anchor id=EndOfContent></span> <span class=anchor id=line-596></span><span class=anchor id=line-597></span><p class=line867><hr class=hr4><p class=line874> <span class=anchor id=line-598></span><a href=https://mywiki.wooledge.org/BashGuide/Patterns>&lt;- Patterns</a> | <a href=https://mywiki.wooledge.org/BashGuide/Arrays>Arrays -&gt;</a> <span class=anchor id=line-599></span><hr><p class=line874> <span class=anchor id=line-600></span><a href=https://mywiki.wooledge.org/CategoryBashguide>CategoryBashguide</a> <span class=anchor id=line-601></span><span class=anchor id=bottom></span></p></div><p id=pageinfo class=info dir=ltr lang=en>BashGuide/TestsAndConditionals (last edited 2022-12-23 19:58:32 by <span title="larryv @ 100.12.174.43[100.12.174.43]"><a class=nonexistent href=https://mywiki.wooledge.org/larryv title="larryv @ 100.12.174.43[100.12.174.43]">larryv</a></span>)</p>
<div id=pagebottom></div>
</div>
<div id=footer>
<ul class=editbar><li><a href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=edit&amp;editor=text" name=texteditlink rel=nofollow>Edit</a><li class=toggleCommentsButton style=display:none><li><a class=nbinfo href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=info" rel=nofollow>Info</a><li><a class=nbattachments href="https://mywiki.wooledge.org/BashGuide/TestsAndConditionals?action=AttachFile" rel=nofollow>Attachments</a><li>
<form class=actionsmenu method=GET action=/BashGuide/TestsAndConditionals>
<div>
 
 <select name=action>
 <option value=show selected>More Actions:<option value=raw>Raw Text</option>
<option value=print>Print View</option>
<option value=RenderAsDocbook>Render as Docbook</option>
<option value=refresh>Delete Cache</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=SpellCheck>Check Spelling</option>
<option value=LikePages>Like Pages</option>
<option value=LocalSiteMap>Local Site Map</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=RenamePage disabled class=disabled>Rename Page</option>
<option value=DeletePage disabled class=disabled>Delete Page</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=show disabled class=disabled>Subscribe User</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=show disabled class=disabled>Remove Spam</option>
<option value=show disabled class=disabled>Revert to this revision</option>
<option value=PackagePages>Package Pages</option>
<option value=SyncPages>Sync Pages</option>
<option value=show disabled class=disabled>------------------------</option>
<option value=Load>Load</option>
<option value=Save>Save</option>
<option value=SlideShow>SlideShow</option>
 </select>
 
 
</div>
</form>
</ul>
<ul id=credits>
<li><a href=http://moinmo.in/ title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a><li><a href=http://moinmo.in/Python title="MoinMoin is written in Python.">Python Powered</a><li><a href=http://moinmo.in/GPL title="MoinMoin is GPL licensed.">GPL licensed</a><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>
</div>
