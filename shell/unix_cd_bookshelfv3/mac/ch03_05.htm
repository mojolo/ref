<html><head><title>NetInfo Utilities (Mac OS X for Unix Geeks)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Brian Jepson and Ernest E. Rothman" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00356-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Mac OS X for Unix Geeks" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Mac OS X for Unix Geeks" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch03_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch03_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">3.5. NetInfo Utilities</h2>

<p><a name="mosxgeeks-IDXTERM-199" /> <a name="mosxgeeks-IDXTERM-200" />This
chapter demonstrates four NetInfo utilities:
<em class="filename">nicl</em>, <em class="filename">nireport</em>,
<em class="filename">nidump</em>, and <em class="filename">niload</em>. <a href="ch03_05.htm#mosxgeeks-CHP-3-TABLE-1">Table 3-1</a> describes these and other NetInfo utilities.
</p>

<a name="mosxgeeks-CHP-3-TABLE-1" /><h4 class="objtitle">Table 3-1. NetInfo tools </h4><table border="1" cellpadding="3">



<tr>
<th>
<p>Tool</p>
</th>
<th>
<p>Description</p>
</th>
</tr>


<tr>
<td>
<p><em class="filename">nicl</em></p>
</td>
<td>
<p><a name="IXT-3-385" />
<a name="IXT-3-386" />Provides a command-line interface to
NetInfo.
</p>
</td>
</tr>
<tr>
<td>
<p><em class="filename">nidump</em></p>
</td>
<td>
<p>Extracts flat file format data (such as
<em class="filename">/etc/passwd</em>) from NetInfo.
</p>
</td>
</tr>
<tr>
<td>
<p><em class="filename">nifind</em></p>
</td>
<td>
<p>Finds a NetInfo directory.</p>
</td>
</tr>
<tr>
<td>
<p><em class="filename">nigrep</em></p>
</td>
<td>
<p>Performs a regular expression search on NetInfo.</p>
</td>
</tr>
<tr>
<td>
<p><em class="filename">niload</em></p>
</td>
<td>
<p>Loads flat file format data (such as
<em class="filename">/etc/passwd</em>) into NetInfo.
</p>
</td>
</tr>
<tr>
<td>
<p><em class="filename">nireport</em></p>
</td>
<td>
<p>Prints tables from NetInfo.</p>
</td>
</tr>

</table><p>

<p>The <em class="filename">nidump</em><a name="IXT-3-387" /> and
<em class="filename">nireport</em><a name="IXT-3-388" /> utilities display the contents of the
NetInfo database.<em class="filename">
niload</em><a name="IXT-3-389" /> loads the contents of
<a name="IXT-3-390" />flat
files--such as <em class="filename">/etc/passwd</em> or
<em class="filename">/etc/hosts--</em>into NetInfo.
<em class="filename">niutil</em><a name="IXT-3-391" /> directly manipulates the NetInfo
database; it's the command-line equivalent of
NetInfo Manager. To modify the NetInfo database, use
<em class="filename">sudo</em><a name="IXT-3-392" /> with these commands or first log in
as the <em class="filename">root</em> user. NetInfo commands that can be
performed as a normal user are shown with the
<tt class="literal">%</tt><a name="IXT-3-393" /> prompt. If you need superuser
privileges, the <tt class="literal">#</tt><a name="IXT-3-394" />
<a name="IXT-3-395" /> prompt is shown.
(Because the user can modify the shell prompt, be careful using this
as a visual cue on a real system.)
</p>

<p>Unlike other <em class="filename">ni*</em> utilities,
<em class="filename">nicl</em> acts directly on the database files.
Consequently, you can use <em class="filename">nicl</em> to modify the
local directory even when Directory Services is not running (such as
when you boot into single-user mode).
</p>

<a name="ch03-12-fm2xml" /><blockquote><b>WARNING:</b> 
When you use <em class="filename">niload</em>,
<em class="filename">nicl</em>,<em class="filename"> </em>or
<em class="filename">niutil</em>, you are making potentially dangerous
changes to your system. But even if you trash the NetInfo database
with reckless usage of <em class="filename">niutil</em> and
<em class="filename">niload</em>, you can restore the NetInfo database
from your last backup. For more details, see <a href="ch03_12.htm#mosxgeeks-CHP-3-SECT-12">Section 3.12</a>, later in this chapter. To back up the local NetInfo
database, use the command:
</p>


<blockquote><pre class="code">nidump -r / -t localhost/local &gt; backup.nidump</pre></blockquote>
</blockquote>

<a name="mosxgeeks-CHP-3-SECT-5.1" /><div class="sect2">
<h3 class="sect2">3.5.1. NetInfo and Mac OS X Server</h3>

<p>Mac OS X Server includes a graphical utility,
<a name="IXT-3-396" />Server Settings, shown in <a href="ch03_05.htm#mosxgeeks-CHP-3-FIG-6">Figure 3-6</a>, which handles the tasks described in this
chapter.
</p>

<a name="mosxgeeks-CHP-3-FIG-6" /><div class="figure"><img src="figs/mud_0306.gif" alt="Figure 3-6" width="400" /></div><h4 class="objtitle">Figure 3-6. Mac OS X Server's Server Settings utility</h4>

<p>Unfortunately, Mac OS X (the client version) does not include this
utility, but the instructions in this chapter will help you
accomplish the same things. You can also use the instructions in this
chapter if you are connecting remotely through SSH to a Mac OS X
Server.
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch03_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch03_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">3.4. NetInfo</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">3.6. NetInfo Command Reference</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>