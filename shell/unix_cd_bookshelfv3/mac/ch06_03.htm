<html><head><title>GNU-Darwin (Mac OS X for Unix Geeks)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Brian Jepson and Ernest E. Rothman" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00356-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Mac OS X for Unix Geeks" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Mac OS X for Unix Geeks" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch06_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch06_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">6.3. GNU-Darwin</h2>

<p>The <a name="IXT-6-623" />FreeBSD ports and package management
system is used by the <a name="IXT-6-624" />GNU-Darwin distribution
(<a name="IXT-6-625" /><a href="http://gnu-darwin.sourceforge.net">http://gnu-darwin.sourceforge.net</a>).
</p>

<p>The <a name="IXT-6-626" />ports
system provides for packaging an application as a single file that
contains precompiled binaries, as well as associated configuration
and documentation files. Like <em class="filename">dpkg</em>, this system
allows the installation of a software package with a single command.
This system also maintains an installed package database and
understands dependencies. Additionally, to support installing remote
packages, a remote ports tree is established. The ports tree resides
on your computer and includes makefiles that know how to find, patch,
compile, package, and install software packages from source code.
Current versions of ported software are stored in one or more ports
trees.
</p>

<a name="ch06-14-fm2xml" /><blockquote><b>WARNING:</b> 
Unlike Fink, GNU-Darwin does not restrict itself to one portion of
your filesystem, and it will make changes to system binaries. We
suggest that you read the
<em class="filename">one_stop</em><a name="IXT-6-627" /> script
carefully before you execute it.
</p>
</blockquote>

<p>To install GNU-Darwin, perform the following steps:</p>

<ol><li>
<p>Download the <em class="filename">one_stop</em> script from <a href="http://gnu-darwin.sourceforge.net/one_stop">http://gnu-darwin.sourceforge.net/one_stop</a>.
</p>
</li><li>
<p>Read the <em class="filename">one_stop</em> script so you know what
it's going to do.
</p>
</li><li>
<p>Execute the <em class="filename">one_stop</em> script as
<em class="filename">root</em> (<em class="filename">sudo csh one_stop</em>).
</p>
</li></ol>
<p>The <em class="filename">one_stop</em> installer downloads and installs
many packages, so give it some time to complete.
</p>

<a name="ch06-15-fm2xml" /><blockquote><b>WARNING:</b> 
The <em class="filename">one_stop</em> installer requires a considerable
amount of bandwidth and does not allow you to choose a subset of
packages, so it should not be attempted on a low-bandwidth
connection. Again, read the script before you run it. As of this
writing, the script states that GNU-Darwin will take up one gigabyte
of disk space when <em class="filename">one_stop </em>finishes.
</p>
</blockquote>

<p>After you install GNU-Darwin, you can install additional software by
downloading precompiled
<a name="IXT-6-628" />tarballs and using the package
management commands listed in <a href="ch06_03.htm#mosxgeeks-CHP-6-TABLE-3">Table 6-3</a>.
Alternatively, you can install the GNU-Darwin ports system from
<a href="http://gnu-darwin.sourceforge.net/ports/">http://gnu-darwin.sourceforge.net/ports/</a> and
then:
</p>

<ol><li>
<p><em class="filename">cd</em> to <em class="filename">/usr/ports</em>.</p>
</li><li>
<p>Find the subdirectory of the port you want to install and
<em class="filename">cd</em> into it.
</p>
</li><li>
<p>Run the command <em class="filename">sudo make install</em>, which
performs the following:
</p>

<ol><li>
<p>Downloads the source code for the package.</p>
</li>
<li>
<p>Downloads and applies any relevant patches.</p>
</li>
<li>
<p>Compiles and installs the package.</p>
</li>
<li>
<p>Repeats those steps for any dependencies.</p>
</li></ol>
</li></ol>
<p>After you install the package with <em class="filename">make install</em>,
you can manage it with the package management tools shown in <a href="ch06_03.htm#mosxgeeks-CHP-6-TABLE-3">Table 6-3</a>. 
</p>

<a name="mosxgeeks-CHP-6-TABLE-3" /><h4 class="objtitle">Table 6-3. Using the FreeBSD package management system </h4><table border="1" cellpadding="3">



<tr>
<th>
<p>Command</p>
</th>
<th>
<p>Description </p>
</th>
</tr>


<tr>
<td>
<p><tt class="literal">pkg_add</tt><em class="replaceable"><tt> package.tgz</tt></em></p>
</td>
<td>
<p>Adds (installs) a <em class="replaceable"><tt>package</tt></em>. </p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">pkg_add -r</tt> <em class="replaceable"><tt>package.tgz</tt></em></p>
</td>
<td>
<p>Adds a remote <em class="replaceable"><tt>package</tt></em>. Checks a
predetermined ports tree location.
</p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">pkg_delete</tt><em class="filename">
</em><em class="replaceable"><tt>package</tt></em>
</p>
</td>
<td>
<p>Deletes (uninstalls) a <em class="replaceable"><tt>package</tt></em>. </p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">pkg_info</tt></p>
</td>
<td>
<p>Shows information on installed <em class="replaceable"><tt>packages</tt></em>.</p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">pkg_info</tt><em class="filename">
</em><em class="replaceable"><tt>package</tt></em>
</p>
</td>
<td>
<p>Shows information on an installed <em class="replaceable"><tt>package</tt></em>. </p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">pkg_info -L</tt><em class="filename">
</em><em class="replaceable"><tt>package</tt></em>
</p>
</td>
<td>
<p>Shows files belonging to a <em class="replaceable"><tt>package</tt></em>. </p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">pkg_version</tt></p>
</td>
<td>
<p>Compares versions of installed <em class="replaceable"><tt>packages</tt></em>
with current versions in ports tree.
</p>
</td>
</tr>

</table><p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch06_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch06_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">6.2. Creating Fink Packages</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">6.4. Packaging Tools</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>