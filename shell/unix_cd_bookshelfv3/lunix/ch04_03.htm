<html><head><title>Creating and Editing Files (Learning the Unix Operating System, 5th Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Jerry Peek, John Strang and Grace Todino-Gonguet" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00261-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Learning the Unix Operating System, 5th Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Learning Unix" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch04_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch04_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">4.3. Creating and Editing Files</h2>

<p>
<a name="lunix5-IDXTERM-497" />
<a name="IXT-4-279872" />
<a name="IXT-4-279873" />
One easy way to create a file is with a Unix feature called
<em class="emphasis">input/output redirection</em>,
as <a href="ch05_01.htm">Chapter 5</a> explains.
This sends the output of a program directly to a file, to make a new
file or add to an existing one.
</p>

<p>You'll usually create and edit a plain-text file with a
<em class="emphasis">text editor</em> program.
Text editors are somewhat different than
<em class="emphasis">word processors</em>.
</p>

<a name="lunix5-CHP-4-SECT-3.1" /><div class="sect2">
<h3 class="sect2">4.3.1. Text Editors and Word Processors</h3>

<p>

<a name="lunix5-IDXTERM-500" />
<a name="lunix5-IDXTERM-501" />
<a name="IXT-4-279874" />
<a name="IXT-4-279875" />
<a name="lunix5-IDXTERM-504" />


A <em class="emphasis">text editor</em> lets you add, change, and rearrange
text easily.
Two common Unix editors are <b class="emphasis-bold">vi</b>
(pronounced "vee-eye")
and <b class="emphasis-bold">emacs</b> ("ee-macs").
<b class="emphasis-bold">Pico</b> ("pea-co") is a simple editor
that has been added to many Unix systems.
</p>

<p>
Since there are several editor programs, you can choose one you're
comfortable with.
<b class="emphasis-bold">vi</b> is probably the best choice because
almost all Unix systems have it, but <b class="emphasis-bold">emacs</b>
is also widely available.
If you'll be doing simple editing only,
<b class="emphasis-bold">pico</b> is a great choice.
Although <b class="emphasis-bold">pico</b> is much less powerful
than <b class="emphasis-bold">emacs</b> or
<b class="emphasis-bold">vi</b>, it's also a lot easier to learn.
</p>

<p>
<a name="IXT-4-279876" />
None of those editors has the same features as popular word
processing software on personal computers.
<b class="emphasis-bold">vi</b> and <b class="emphasis-bold">emacs</b>
are sophisticated, extremely flexible editors for all kinds of
plain text files: programs, email messages, and so on.
</p>

<p>
By "plain text," we mean a file with only letters, numbers, and punctuation
characters in it.
Unix systems use plain text files in many places:
redirected input and output of Unix programs (<a href="ch05_01.htm">Chapter 5</a>),
as shell setup files (see <a href="ch03_07.htm#lunix5-CHP-3-SECT-7">Section 3.7</a>
in <a href="ch03_01.htm">Chapter 3</a>),
for shell scripts (shown in <a href="ch08_03.htm#lunix5-CHP-8-SECT-3">Section 8.3</a>
of <a href="ch08_01.htm">Chapter 8</a>),
for system configuration,
and more.
<a name="IXT-4-279877" />
Text editors edit these files.
When you use a word processor, though, although the screen may look as if
the file is only plain text, the file probably also has hidden
codes (nontext characters) in it.
That's often true even if you tell the word processor to "Save as plain text."
One easy way to check for nontext characters in a file is by reading the
file with <b class="emphasis-bold">less</b>; look for characters in
reversed colors, codes like <tt class="literal">&lt;36&gt;</tt>, and so on.
</p>

<p>
If you need to do word processing--making documents, envelopes, and so
on--most Unix systems also support easy-to-use word processors such as
WordPerfect and StarOffice (which are compatible, more or less, with
Microsoft word processors).
Ask your system staff what's available or can be installed.
</p>
</div>

<a name="lunix5-CHP-4-SECT-3.2" /><div class="sect2">
<h3 class="sect2">4.3.2. The Pico Text Editor</h3>

<p>
The Pico editor,
from the University of Washington, is easy to use.
If you send email with Pine, you already know how to use
Pico;
it's Pine's message editor.
Like Pine, Pico is still evolving; if you use an older version than we
did here (Version 3.7), yours may have some different features.
</p>

<p>
<a name="IXT-4-279878" />
Start Pico by typing its name;
the argument is the filename you want to create or edit.
If you're editing a Unix shell setup file or shell script, you'll also
want the <b class="emphasis-bold">-w</b> option; it tells Pico not to
break ("wrap") lines at the right margin, but only when you press the
<span class="keycap">RETURN</span> key.
If a line is longer than the right margin, like the line starting with
<tt class="literal">PATH=</tt> in <a href="ch04_03.htm#lunix5-CHP-4-FIG-1">Figure 4-1</a>,
<b class="emphasis-bold">pico -w</b>
marks the right end with a dollar sign (<tt class="literal">$</tt>).
When you move the cursor over the dollar sign,
the next 80 characters of that one line are displayed. For instance, to edit my <em class="emphasis">.profile</em> setup file,
I <b class="emphasis-bold">cd</b> to my home directory and enter:
</p>

<p>
<blockquote><pre class="code">
$ <tt class="userinput"><b>pico -w .profile</b></tt>
</pre></blockquote>
</p>

<p>
My terminal fills with a copy of the file (and, because the file
is short, some blank lines too), as shown in
<a href="ch04_03.htm#lunix5-CHP-4-FIG-1">Figure 4-1</a>.
</p>


<a name="lunix5-CHP-4-FIG-1" /><div class="figure"><img src="figs/lu5.0401.gif" alt="Figure 4-1" /></div><h4 class="objtitle">Figure 4-1. Pico display while editing</h4>

<p>
The bottom two rows of the window list some Pico commands.
For example, <span class="keycap">CTRL-J</span> justifies the paragraph you're
editing, making the lines fit neatly between the margins.
For a complete list of commands, use <span class="keycap">CTRL-G</span>,
the "Get Help" command.
</p>

<a name="lunix5-CHP-4-SECT-3.2.1" /><div class="sect3">
<h3 class="sect3">4.3.2.1. Pico tour</h3>

<p>
Let's take a tour through Pico.
In this example, you'll make a new file with wrapped lines.
So (unlike what you'd do when editing a system setup file)
we <em class="emphasis">won't</em> use
the <b class="emphasis-bold">-w</b> option.
You can call the file anything you want, but it's best to use only
letters and numbers in the filename.
For instance, to make a file named <em class="emphasis">sample</em>,
enter the command <b class="emphasis-bold">pico sample</b>. Let's start our tour now.
</p>

<ol>

<li>
<p>
Your screen should look something like the previous
example, but the middle of the screen should be blank, ready for
you to enter text.
</p></li>

<li>
<p>
Enter some lines of text.
Make some lines too short (press <span class="keycap">RETURN</span> before the line
gets to the right margin).
Make others too long; watch how Pico wraps long lines. If you're using a window system and you have another terminal window
open with some text in it, you can also use your mouse to copy text from
another window and paste it into the Pico window.
(<a href="ch02_01.htm">Chapter 2</a> includes <a href="ch02_04.htm#lunix5-CHP-2-SECT-4.2">Section 2.4.2</a>,
which has
instructions for copying and pasting between
<b class="emphasis-bold">xterm</b> windows.)
To get a lot of text quickly, paste the same text more than once.
</p></li>

<li>
<p>
Let's practice moving around the file.
Pico works on all terminals, with or without a mouse, so it will
probably ignore your mouse if you try to use it to move the cursor.
Instead, use the keyboard to move the cursor. If your keyboard has arrow keys, they'll probably move the cursor.
Otherwise, try the cursor-moving commands listed in the help page, such as
<span class="keycap">CTRL-F</span> to move forward a character,
<span class="keycap">CTRL-E</span> to move to the end of a line, and
<span class="keycap">CTRL-A</span> to go to the start of a line.
If your 
<span class="keycap">PAGE UP</span> and
<span class="keycap">PAGE DOWN</span> keys don't work, use
<span class="keycap">CTRL-Y</span> and
<span class="keycap">CTRL-V</span>, respectively.
</p>

<p>
Pico's search or "where is" command, <span class="keycap">CTRL-W</span>, can help you
find a word quickly.
It's handy even on a short file, where it can be quicker to type
<span class="keycap">CTRL-W</span> and a word than to use the cursor-moving commands. The search command is also a good example of the way that
<b class="emphasis-bold">pico</b> can change its display momentarily.
Let's try it.
Type <span class="keycap">CTRL-W</span>; you should see a display like
<a href="ch04_03.htm#lunix5-CHP-4-FIG-2">Figure 4-2</a>.
</p>

<a name="IXT-4-279879" />
<a name="lunix5-CHP-4-FIG-2" /><div class="figure"><img src="figs/lu5.0402.gif" alt="Figure 4-2" /></div><h4 class="objtitle">Figure 4-2. Pico display while searching</h4>



<p>
Notice that the command list at the bottom of the display has changed
since you started Pico
(<a href="ch04_03.htm#lunix5-CHP-4-FIG-1">Figure 4-1</a>).
The cursor sits after the word "Search:".
You can type a word or characters to search for, then press
<span class="keycap">RETURN</span> to do the search.
You also can do any other command listed, such as
<span class="keycap">CTRL-T</span> to go to a particular line number.
Type <span class="keycap">CTRL-G</span> to get a help display.
Notice that if you type <span class="keycap">CTRL-W</span> while the search command
is active, it doesn't start another search; it goes to the start of the
current paragraph.
After a search finishes, you can type <span class="keycap">CTRL-W</span> again,
then press <span class="keycap">RETURN</span> to repeat the search.
</p></li>

<li>
<p>
If your text isn't in paragraphs separated by blank lines, break some of
it into paragraphs.
Put your cursor at the place you want to break the text and press
<span class="keycap">RETURN</span> twice (once to break the line, another to make
a blank line).
</p>

<p>
Now justify one paragraph. Put the cursor somewhere in it and press
<span class="keycap">CTRL-J</span>.
Now the paragraph's lines should flow and fit neatly between the
margins.
</p></li>

<li>
<p>
Because <b class="emphasis-bold">pico</b> doesn't use a mouse,
cutting/copying and pasting text works differently than it does with
mouse-based editors you might have used before.
Please choose some text to copy or cut, then paste.
</p>

<p>

<a name="IXT-4-279880" />
<a name="IXT-4-279881" />

The first step is to select the text to cut or copy.
Move the cursor to the first character, then press
<span class="keycap">CTRL-^</span> (control followed by the caret key,
<tt class="literal">^</tt>).
</p>

<p>Move the cursor to the last character you want and press
<span class="keycap">CTRL-K</span>.
That cuts the text.
Pico will "remember" the text you cut
and let you paste it back as many times as you want until you cut some
other text (or until you quit your <b class="emphasis-bold">pico</b>
session).
</p>

<p>
If you only wanted to copy the text, not to cut it, you can paste the
text back where you cut it.
Press 
<span class="keycap">CTRL-U</span> to `'uncut''--that is, paste--the
text at current cursor position.
</p>

<p>
Or, if you wanted to move the text somewhere else, move the cursor to
that spot and press
<span class="keycap">CTRL-U</span> there.
</p></li>

<li>
<p>
As with any text editor, it's a good idea to save your work from
<b class="emphasis-bold">pico</b> every few minutes.
That way, if something goes wrong on the computer or network,
you'll only lose the work since the last time you saved it.
(Pico saves interrupted work in a file named <em class="emphasis">pico.save</em>
or <em class="emphasis">filename.save</em>, where <em class="emphasis">filename</em> is
the name of the file you were editing.
But I like to save by hand when I know that the file is in a good state.)
</p>

<p>
Try writing out your work with
<span class="keycap">CTRL-O</span>.
The bottom of the display will look like <a href="ch04_03.htm#lunix5-CHP-4-FIG-3">Figure 4-3</a>.
The cursor sits after the name of the file you're editing.
</p>




<p>
This part confuses some pico beginners.
If you want to save the file with the same name it had as you started, just
press <span class="keycap">RETURN</span>; that's all!
You can also choose a <em class="emphasis">different</em> filename.
</p>

<p>
One way to use a different filename is to edit the filename in place.
For instance, if you want to call the backup copy <em class="emphasis">sample1</em>,
simply press the <em class="emphasis">1</em> key to add a <em class="emphasis">1</em>
to the end of the filename before you press
<span class="keycap">RETURN</span> to save it.
</p>

<p>
You can backspace over the name and type a new one.
Or move to the start or middle of the name by using the arrow keys,
<span class="keycap">CTRL-B</span> and
<span class="keycap">CTRL-F</span>, then add or delete characters in the name.
As an example, you could edit the filename to be an
absolute pathname such as <em class="emphasis">/home/carol/backups/sample</em>.
</p>

<p>
If you choose
<span class="keycap">CTRL-T</span>, "To Files," you'll go to a file browser
where you can look through a list of your files and directories.
You also can type part of an existing filename and use filename
completion (see
<a href="ch03_05.htm#lunix5-CHP-3-SECT-5">Section 3.5</a> in <a href="ch03_01.htm">Chapter 3</a>).
By default, filename completion assumes that
you started Pico from your home directory--even if you didn't.
(You can change this with the <em class="emphasis">use-current-dir</em>
preference setting for Pine--which also affects Pico.
See
<a href="ch06_05.htm#lunix5-CHP-6-SECT-5.5">Section 6.5.5</a> in <a href="ch06_01.htm">Chapter 6</a>.)
</p></li>

<li>
<p>
Make one or two more small edits.
Then exit with
<span class="keycap">CTRL-X</span>.
Pico prompts you to save the file;
see the explanation of
<span class="keycap">CTRL-O</span> earlier.

<a name="IXTR3-59" />

<a name="IXTR3-60" />
<a name="IXTR3-61" />
<a name="IXTR3-62" />

</p></li>

</ol>


<a name="lunix5-CHP-4-FIG-3" /><div class="figure"><img src="figs/lu5.0403.gif" alt="Figure 4-3" /></div><h4 class="objtitle">Figure 4-3. Bottom of Pico display while saving work</h4>

</div>
</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch04_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch04_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">4.2. File and Directory Wildcards</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">4.4. Managing Your Files</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>