<html><head><title>Interactive Chat (Learning the Unix Operating System, 5th Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Jerry Peek, John Strang and Grace Todino-Gonguet" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00261-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Learning the Unix Operating System, 5th Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Learning Unix" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch06_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch07_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">6.7. Interactive Chat</h2>


<p>
<a name="lunix5-IDXTERM-759" />
Need a quick answer from another user without sending an email
message and waiting for his reply?
Want to have a conversation with your Internet-connected friend in
Chile but don't have money for an international phone call?
An interactive chat program lets you type text to another user and see
her reply moments later.
Chatting, or "instant messaging," has become popular recently.
Widely known chat programs are available for Unix;
as of this writing, those include Jabber and AOL Instant Messenger.
Other programs have been available on Unix systems for years.
We look at two of these: <b class="emphasis-bold">talk</b> and IRC.
</p>

<a name="lunix5-CHP-6-SECT-7.1" /><div class="sect2">
<h3 class="sect2">6.7.1. talk</h3>

<p>

<a name="IXT-6-280002" />

The <b class="emphasis-bold">talk</b> program is simple to use.
Give the username (and, optionally, the hostname) of the person
you want to chat with.
Then <b class="emphasis-bold">talk</b> will try to notify that person
as well as show how to use <b class="emphasis-bold">talk</b>
to complete the connection with you.
Both of your terminal windows will be split into two sections, one for the
text you type and the other for the text you get from the other
person.
You can type messages back and forth until one of you uses
<span class="keycap">CTRL-C</span> to break the session.
</p>

<p>
One advantage of <b class="emphasis-bold">talk</b> is its simplicity;
if each of you has a terminal window open, either of you can run the
program at any time; if the other person is logged in, he is notified
that you want to chat and told how to complete the connection.
If both people want to use <b class="emphasis-bold">talk</b> on the
same computer--even if one of them is logged in remotely (see
 <a href="ch06_01.htm#lunix5-CHP-6-SECT-1">Section 6.1</a>, earlier)--it should work well.
Unfortunately, there are several <b class="emphasis-bold">talk</b>
versions that don't work with each other.
So, the first time you try to chat with someone on another host, which
might have another <b class="emphasis-bold">talk</b>  version (or other
problems), it can take planning.
Use an email message or phone call to alert them that you'll try
<b class="emphasis-bold">talk</b>ing soon, then
experiment to be sure that both of you have compatible
<b class="emphasis-bold">talk</b> systems.
After that, you're all set.
</p>

<p>
Here's the syntax:
</p>


<p><b class="emphasis-bold">talk</b> <em class="emphasis">username@hostname</em></p>


<p>
If the other user is logged onto the same computer as you, omit the
<em class="emphasis">@hostname</em>.
After you run that command, your screen clears with
a line of dashes across the middle.
The top half shows text you type and informational messages about the
connection.
The bottom half shows what the other user types.
</p>

<p>
For example, if your username is <em class="emphasis">juan</em>, you're
logged onto the computer <em class="emphasis">sandya.unm.edu</em>, and you
want to talk to the user <em class="emphasis">ana</em> at the computer
<em class="emphasis">cielo.cl</em>, you would type
"<b class="emphasis-bold">talk ana@cielo.cl</b>".
If the connection works, your screen clears and you'll see something
like
<a href="ch06_07.htm#lunix5-CHP-6-FIG-12">Figure 6-12</a>.
</p>

<a name="lunix5-CHP-6-FIG-12" /><div class="figure"><img src="figs/lu5.0612.gif" alt="Figure 6-12" /></div><h4 class="objtitle">Figure 6-12. A successful talk connection</h4>

<p>
The message <em class="emphasis">[Waiting for your party to respond]</em> means that your
<b class="emphasis-bold">talk</b> program has found <em class="emphasis">ana</em>'s
system and is waiting for her to respond.
Ana's terminal bell should ring and she should see a message like this in
one of her terminal windows:
</p>

<p><blockquote><pre class="code">
Message from Talk_Daemon@sandya.unm.edu at 18:57 ...  
talk: connection requested by juan@sandya.unm.edu.
talk: respond with:  talk juan@sandya.unm.edu
</pre></blockquote></p>

<p>
If she answers by typing
<b class="emphasis-bold">talk juan@sandya.unm.edu</b>, the connection
should be completed, and her screen should clear and look like Juan's.
What she types appears on the top half of her screen and the bottom
half of Juan's, and vice versa.
It's not always easy to know when the other person has finished typing;
one convention is to type <em class="emphasis">o</em> (for "over") when
you want a response; type <em class="emphasis">oo</em> (for "over and out")
when you're finished.
The conversation goes on until one person types
<span class="keycap">CTRL-C</span> to actually break the connection.
</p>

<p>

<a name="IXT-6-280003" />


Unfortunately, because there are several versions of
<b class="emphasis-bold">talk</b>, and because other things can go
wrong, you may see other messages from the <b class="emphasis-bold">talk</b>
program.
One common message is
<em class="emphasis">[Checking for invitation on caller's machine]</em>,
which usually means that you won't be able to connect.
If this happens, it's possible that one system has other versions of the
<b class="emphasis-bold">talk</b> program that will work with the
particular system you're trying to connect to--try the
<b class="emphasis-bold">ntalk</b> program, for instance.
It might also be easier to use a more flexible chat system, such
as IRC.
</p>
</div>

<a name="lunix5-CHP-6-SECT-7.2" /><div class="sect2">
<h3 class="sect2">6.7.2. IRC</h3>

<p>
<a name="lunix5-IDXTERM-762" />
<a name="lunix5-IDXTERM-763" />

IRC (Internet Relay Chat) is a long-established system for chatting
with other users worldwide.
IRC is fairly complex, with some rules you need to
understand before using it.
We give a brief introduction here; for more details, see
<a href="http://www.irchelp.org">http://www.irchelp.org</a>.
<a name="IXTR3-125" />
</p>

<a name="lunix5-CHP-6-SECT-7.2.1" /><div class="sect3">
<h3 class="sect3">6.7.2.1. Introducing IRC</h3>

<p>

<a name="IXT-6-280004" />
<a name="IXT-6-280005" />
<a name="IXT-6-280006" />
<a name="IXT-6-280007" />
Unlike the <b class="emphasis-bold">talk</b> program,
IRC programs let you talk with multiple users on multiple channels.
Channels have names, usually starting with "<tt class="literal">#</tt>",
such as <em class="emphasis">#football</em>.
(You might hope that a channel name would tell you what sort of
discussions happen there, but you'd often be wrong!)
Many channels are shared between multiple servers on an IRC
<em class="emphasis">net</em>, or network; you connect your IRC program
to a nearby server, which spreads your channel to other servers around
the net.
Some channel names start with "<tt class="literal">&amp;</tt>"; these channels
are local to their server, and not shared around the net.
Finally, you can meet a user from a channel and have a private
conversation, a "DCC chat," that doesn't go through servers.
</p>

<p>
Each user on a channel has a <em class="emphasis">nick</em>, or nickname,
which is up to 9 characters long.
It's a good idea to choose a unique nick.
Even when you do, if someone else with the same nick joins a channel
before you do, you must choose another nick.
</p>

<p>

<a name="IXT-6-280008" />
<a name="IXT-6-280009" />

Two kinds of users are in control of each channel.
<em class="emphasis">Ops</em>, or channel operators, choose which other users
can join a channel (by "banning" some users from joining) and which users
have to leave (by "kicking off" those users).
If a channel is empty, the first user to join it is automatically the
channel op.
(As you can imagine, this system means that some ops can be arbitrary
or unhelpful.
If an op treats you badly, though, you can just go join another of the
thousands of IRC channels.)
<em class="emphasis">IRC ops</em>, on the other hand, are technical
people in charge of the servers themselves; they don't get involved
with "people issues."
</p>

<p>
IRC not only lets you chat; it lets you share files with other users.
This can be helpful, but it also can be dangerous; see the Warning later
in this section.
</p>

<p>
There are many IRC programs, or "clients," for different operating
systems.
They all work with each other, though some have more features.
The best known Unix program is ircII, which you run by typing
<b class="emphasis-bold">irc</b>.
Another well-liked program, based on ircII, is
<b class="emphasis-bold">bitchx</b>; get it from
<a href="http://www.bitchx.org">http://www.bitchx.org</a>.
Many programs can be modified by using <em class="emphasis">scripts</em>
or <em class="emphasis">bots</em>; there are thousands of these floating
around IRC.
But we advise you to use only well-known programs, and to avoid scripts
and bots, unless you know that they're safe.
</p>

<p>
<a name="IXT-6-280010" />
<a name="IXT-6-280011" />
IRC started long before graphical programs were popular.
IRC programs use commands that start with a slash
(<tt class="literal">/</tt>), such as <b class="emphasis-bold">/join #football</b>
or <b class="emphasis-bold">/whois StevieNix</b>.
Some IRC programs have buttons and menus that run commands without
typing, but you'll probably find that learning the most common commands
is easy--and makes chatting faster, overall, than using a mouse.
</p>

<blockquote><b>WARNING:</b> 

IRC can be a wide open security hole if you don't use it carefully.
If you type the wrong command or use an insecure program or script,
any user can take over your account, delete all of your files, and more.
Be careful!
</p>

<p>
IRC programs can be corrupted; scripts and bots can easily do damage.
Even if you think that one is widely known and safe, it can contain a
few lines of dangerous "trojan horse" code added by an unscrupulous user.
Also, never type a command that another IRC user suggests unless you're
sure you know what it does;
<b class="emphasis-bold">/load</b> and
<b class="emphasis-bold">/dcc get</b> can be especially dangerous.
</p>
</blockquote>

<p>
Finally, you should know that IRC users can get information about
you with the
<b class="emphasis-bold">/whois</b> <em class="emphasis">nick</em>
command, where <em class="emphasis">nick</em> is your current nick.
They'll see your real name unless you set the IRCNAME environment
variable to another name (and log into your system again to make the
change take effect).
This is explained in <a href="ch03_07.htm#lunix5-CHP-3-SECT-7">Section 3.7</a>, in <a href="ch03_01.htm">Chapter 3</a>.
(By the way, use <b class="emphasis-bold">/whois</b> with your nick
to find out what other people can see about you.)
</p>
</div>

<a name="lunix5-CHP-6-SECT-7.2.2" /><div class="sect3">
<h3 class="sect3">6.7.2.2. A sample IRC session</h3>
</div>

<p>
When you type <b class="emphasis-bold">irc</b>, your terminal screen
splits into two parts.
The top part shows what's happening on the server and the channel;
the bottom part (a single line) is where you type commands and text.
In between the two parts is a status line with the time of day, your nick,
and other information.
Some terminals can't do what <b class="emphasis-bold">irc</b>
wants them to; if you get an error message about this, try the command
<b class="emphasis-bold">irc -d</b> to use "dumb mode" instead.
</p>

<p>
A good ircII command to start with is <b class="emphasis-bold">/help</b>,
which provides a list of other commands.
The commands <b class="emphasis-bold">/help intro</b> and
<b class="emphasis-bold">/help newuser</b> give introductions.
For help with a particular command, give its name--such as
<b class="emphasis-bold">/help server</b> for help with the
<b class="emphasis-bold">/server</b> command.
When you're done with help, you'll get a "Help?" prompt; you can type
another help topic name, or simply press
<span class="keycap">RETURN</span> to leave the help system.
Another common command is <b class="emphasis-bold">/motd</b>, the
"message of the day," which often explains the server's policies.
</p>

<p>
You can type your nick on the <b class="emphasis-bold">irc</b> command line.
Your IRC program should have a default server.
You can change servers with the <b class="emphasis-bold">/server</b>
command; you'd do this if your server is full (you get the message
"connection timed out," "connection refused," etc.).
If your default IRC server is down or busy, you can also give a server
hostname on the <b class="emphasis-bold">irc</b> command line, after
your nick.
</p>



<p>
In the following examples, we show the text you type (from the bottom
line of the screen) in <tt class="userinput"><b>boldface</b></tt>, followed by
the responses you might see (from the top of the screen) in unbolded text.
</p>




<p><blockquote><pre class="code">
$ <b class="emphasis-bold">irc sstjohn us.undernet.org</b>
*** Connecting to port 6667 of server us.undernet.org
	...
*** Closing Link: sstjohn by austin.tx.us.undernet.org (Sorry, your
+connection class is full - try again later or try another server)
*** Connecting to port 6667 of server us.undernet.org
	...
*** Welcome to the Internet Relay Network sstjohn (from
+Arlington.VA.US.Undernet.Org)
	...
*** on 1 ca 1(4) ft 10(10)

<b class="emphasis-bold">/motd</b>
*** The message of the day was last changed: 27/7/2001
*** on 1 ca 1(4) ft 10(10)
*** - Arlington.VA.US.Undernet.Org Message of the Day - 
*** - 27/7/2001 20:39
	...
*** -         SERVER POLICIES:
	...

<b class="emphasis-bold">/help newuser</b>
*** Help on newuser
	...
*** Hit any key for more, 'q' to quit ***
	...
Help? <span class="keycap">RETURN</span>

<b class="emphasis-bold">/whois sstjohn</b>
*** sstjohn is ~jpeek@kumquat.jpeek.com (Steve St. John)
*** on irc via server *.undernet.org (The Undernet Underworld)
*** sstjohn has been idle 1 minutes
</pre></blockquote></p>

<p>
Messages from the server start with <tt class="literal">***</tt>.
Long lines are broken and continue on following lines that start with
<tt class="literal">+</tt>.
After connecting to the server, I used <b class="emphasis-bold">/whois</b>
with my nick to find what information other users could see about me.
The Undernet servers have thousands of channels open, so I started by
searching for channels with "help" in their names; you can use wildcards,
such as <em class="emphasis">*help*</em>, to do this:
</p>

<p><blockquote><pre class="code">
<b class="emphasis-bold">/list *help*</b>
*** Channel    Users  Topic
*** #helpmania 2      A yellow light, an open door, hello neighbor,
+there's room for more. English
*** #underneth 14     -= UndernetHelp =- Ask your color free questions
+&amp; wait for it to be answered. (undernethelp@fivemile.org)
*** #mIRCHelp  14     Welcome to Undernet's mIRC Help Channel! Beginners
+welcome :-)
*** #irc_help  48     Welcome to #irc_help. We do not assist in
+questions/channels regarding warez, mp3, porn, fserve, etc.
	...list goes on and on...

<b class="emphasis-bold">/list *mp3*</b>
	...list of groups discussing/sharing MP3 files...
</pre></blockquote></p>

<p>
I want to see what's happening, so I join the biggest help channel:
<em class="emphasis">#irc_help</em>, which has 48 users now:
</p>

<p><blockquote><pre class="code">
<b class="emphasis-bold">/join #irc_help</b>
*** sstjohn (jpeek@kumquat.jpeek.com) has joined channel #irc_help
*** Topic for #irc_help: Welcome to #irc_help. We do not assist in
+questions/channels regarding warez, mp3, porn, fserve, etc.
*** Users on #irc_help: sstjohn ChuckieCheese Dodgerl GooberZ
+Kinger MotorMouth @theDRJoker MrBean SweetPea LavaBoy GrandapaJoe
	...
</pre></blockquote></p>

<p>
Some names in the list of users, like <em class="emphasis">@Darkmind</em>,
start with <tt class="literal">@</tt>; these users are ops.
Let's watch some more of the action.
After a couple of users leave the channel,
a new user <em class="emphasis">MsTiger</em> joins and asks for help.
Each time a user types a line of text that isn't a command,
it's sent to everyone else on the channel, preceded by that user's
nick, like <em class="emphasis">&lt;MsTiger&gt;</em>:
</p>

<p><blockquote><pre class="code">
*** ChuckieCheese has left channel #irc_help
*** GooberZ has left channel #irc_help
*** HelloWorld (~hw@foo.edu) has joined channel #irc_help
*** MsTiger (~tiger@zz.ro) has joined channel #irc_help
&lt;MsTiger&gt; help me
&lt;MsTiger&gt; please
&lt;Kinger&gt; MsTiger what can we help you with ?
&lt;MsTiger&gt; my channel is not op 
&lt;Kinger&gt; LavaBoy tell MsTiger about no opers
&lt;LavaBoy&gt; MsTiger, *shrug*
&lt;GrandapaJoe&gt; MsTiger Sorry, but there are currently NO IRC Operators
+available to help you with your channels. Please be patient and wait
+for an Operator to join.
*** MsTiger has left channel #irc_help
</pre></blockquote></p>

<p>
The channel has gotten quiet, so I jump in with a question:
</p>

<p><blockquote><pre class="code">
<b class="emphasis-bold">Hello all.  When I joined, I had a problem
    ...
Any suggestions??</b>
*** Thor (dfdddd@194.999.231.00) has joined channel #irc_help
&lt;[Wizard]&gt; Can you help me plz
&lt;LavaBoy&gt; Try typing !help in the channel, [MORTAL].
<b class="emphasis-bold">/leave</b>
*** sstjohn has left channel #irc_help
<b class="emphasis-bold">/quit</b>
$
</pre></blockquote></p>

<p>
No one had an answer, so I left the channel after a few minutes
of waiting.
Other channels might be a lot livelier, and might have had
someone willing to chat about my question, but I left the
<b class="emphasis-bold">irc</b> program by typing
<b class="emphasis-bold">/quit</b>. Then I got another shell prompt.
<a name="IXTR3-126" />
<a name="IXTR3-127" />
<a name="IXTR3-128" />
</p>


</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch06_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch07_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">6.6. Usenet News</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">7. Multitasking</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>