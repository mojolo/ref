<html><head><title>Alphabetical Summary of Commands (UNIX in a Nutshell: System V Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-427-4" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX in a Nutshell: System V Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Book Title" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch19_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch20_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>


<h2 class="sect1">19.5. Alphabetical Summary of Commands</h2><p>
<a name="ch19rcs1" />
<a name="ch19rcs2" />For details on the syntax of keywords, revision numbers,
dates, states, and standard options, refer to the previous discussions.</p>

<table border="1" cellpadding="5"><tr><td valign="top"><a name="ci">ci</a></td><td><p><tt class="literal">ci</tt> [<em class="replaceable"><tt>options</em>] <em class="replaceable">files</tt></em></p>
<p>
<a name="IXT-19-123587" />
<a name="IXT-19-123588" />
<a name="IXT-19-123589" />Check in revisions.  <tt class="literal">ci</tt> stores the contents of the specified working
<em class="emphasis">files</em> into their corresponding RCS files.
Normally, <tt class="literal">ci</tt> deletes the working file after storing it.
If no RCS file exists, the working file is an initial revision.
In this case, the RCS file is created, and you are
prompted to enter a description of the file.
If an RCS file exists, <tt class="literal">ci</tt> increments the revision number
and prompts you to enter a message that logs the changes made.
If
a working file is checked in without changes,
the file reverts to the previous revision.</p>
<p>The two mutually exclusive options <tt class="literal">-u</tt> and <tt class="literal">-l</tt>,
along with <tt class="literal">-r</tt>,
are the most common.
Use <tt class="literal">-u</tt> to keep a read-only copy of the working file 
(for example, so the file can be compiled or searched).
Use <tt class="literal">-l</tt> to update a revision and then immediately check it out
again with a lock.  This allows you to save intermediate
changes but continue editing (for example, during a 
long editing session).  Use <tt class="literal">-r</tt> to check in a file with a different
release number.
<tt class="literal">ci</tt> accepts the standard options
<tt class="literal">-q</tt>,
<tt class="literal">-V</tt>,
<tt class="literal">-V</tt><em class="emphasis">n</em>,
<tt class="literal">-T</tt>,
<tt class="literal">-x</tt>,
and
<tt class="literal">-z</tt>.</p>
<h4 class="refsect2">Options</h4>
<dl><dt><tt class="literal">-d</tt>[<tt><em class="replaceable">date</em></tt>]</dt><dd>Check the file in with a timestamp of <em class="emphasis">date</em></tt> or,
if no date is specified,
with the time of last modification.</p>
</dd>
<dt><tt class="literal">-f</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Force a check-in even if there are no differences.</p>
</dd>
<dt><tt class="literal">-i</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Initial check-in, report an error if the RCS file already exists.</p>
</dd>
<dt><tt class="literal">-I</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Interactive mode; prompt user even when standard input is
not a terminal (e.g., when <tt class="literal">ci</tt> is part of a command pipeline).</p>
</dd>
<dt><tt class="literal">-j</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Just check in and do not initialize. Report an error if the RCS file
does not already exist.</p>
</dd>
<dt><tt class="literal">-k</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Assign a revision number, creation date, state, and author
from keyword values that were placed in the working file, instead of
computing the revision information from the local environment.  
<tt class="literal">-k</tt> is useful for software distribution:  the preset keywords 
serve as a timestamp shared by all distribution sites.</p>
</dd>
<dt><tt class="literal">-l</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Do a <tt class="literal">co -l</tt> after checking in.  This leaves a locked copy
of the next revision.</p>
</dd>
<dt><tt class="literal">-m</tt><tt><em class="replaceable">msg</em></tt></dt><dd>Use the <em class="emphasis">msg</em></tt> string as the log message for all files checked in.
When checking in multiple files, <tt class="literal">ci</tt> normally prompts
whether to reuse the log message of the previous file.
<tt class="literal">-m</tt> bypasses this prompting.</p>
</dd>
<dt><tt class="literal">-M</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Set the working file's modification time to that of the retrieved version.
Use of <tt class="literal">-M</tt> can confuse <tt class="literal">make</tt> and should be used with care.</p>
</dd>
<dt><tt class="literal">-n</tt><tt><em class="replaceable">name</em></tt></dt><dd>Associate a text <em class="emphasis">name</em></tt> with the new revision number.</p>
</dd>
<dt><tt class="literal">-N</tt><tt><em class="replaceable">name</em></tt></dt><dd>Same as <tt class="literal">-n</tt>, but override a previous <em class="emphasis">name</em></tt>.</p>
</dd>
<dt><tt class="literal">-r</tt><tt><em class="replaceable">R</em></tt></dt><dd>Check the file in as revision <em class="emphasis">R</em></tt>.</p>
</dd>
<dt><tt class="literal">-r</tt></dt><dd>Without a revision number, <tt class="literal">-r</tt> restores the default behavior
of releasing a lock and removing the working file.
It is intended to override any default <tt class="literal">-l</tt> or <tt class="literal">-u</tt>
set up by aliases or scripts.
The behavior of <tt class="literal">-r</tt> in <tt class="literal">ci</tt> is different from most
other RCS commands.</p>
</dd>
<dt><tt class="literal">-s</tt><tt><em class="replaceable">state</em></tt></dt><dd>Set the <em class="emphasis">state</em></tt> of the checked-in revision. </p>
</dd>
<dt><tt class="literal">-t</tt><tt><em class="replaceable">file</em></tt></dt><dd>Replace RCS file description with contents of <em class="emphasis">file</em></tt>.
This
works only for initial check-in.</p>
</dd>
<dt><tt class="literal">-t-</tt><tt><em class="replaceable">string</em></tt></dt><dd>Replace RCS file description with <em class="emphasis">string</em></tt>.
This
works only for initial check-in.</p>
</dd>
<dt><tt class="literal">-u</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Do a <tt class="literal">co -u</tt> after checking in.  This leaves a read-only copy.</p>
</dd>
<dt><tt class="literal">-w</tt><tt><em class="replaceable">user</em></tt></dt><dd>Set the author field to <em class="emphasis">user</em></tt> in the checked-in revision.</p>
</dd>
</dl>

<h4 class="refsect2">Examples</h4><p>Check in chapter files using the same log message:</p>
<blockquote><pre class="code"><tt class="userinput"><b>ci -m'First round edits' chap*</b></tt></pre></blockquote>
<p>Check in edits to <tt class="literal">prog.c</tt>, leaving a read-only copy:</p>
<blockquote><pre class="code"><tt class="userinput"><b>ci -u prog.c</b></tt></pre></blockquote>
<p>Start revision level 2; refer to revision 2.1 as &#8220;Prototype&#8221;:</p>
<blockquote><pre class="code"><tt class="userinput"><b>ci -r2 -nPrototype prog.c</b></tt></pre></blockquote>

</td></tr><tr><td valign="top"><a name="co">co</a></td><td><p><tt class="literal">co</tt> [<em class="replaceable"><tt>options</em>] <em class="replaceable">files</tt></em></p>
<p>
<a name="IXT-19-123590" />
<a name="IXT-19-123591" />
<a name="IXT-19-123592" />Retrieve (check out) a previously checked-in revision
and place it in the corresponding working file
(or print to standard output if <tt class="literal">-p</tt> is specified).
If you intend to edit the working file and check it in again,
specify <tt class="literal">-l</tt> to lock the file.
<tt class="literal">co</tt> accepts the standard options
<tt class="literal">-q</tt>,
<tt class="literal">-V</tt>,
<tt class="literal">-V</tt><em class="emphasis">n</em>,
<tt class="literal">-T</tt>,
<tt class="literal">-x</tt>,
and
<tt class="literal">-z</tt>.</p>
<h4 class="refsect2">Options</h4>
<dl><dt><tt class="literal">-d</tt><tt><em class="replaceable">date</em></tt></dt><dd>Retrieve latest revision whose check-in timestamp is on or before <em class="emphasis">date</em></tt>.</p>
</dd>
<dt><tt class="literal">-f</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Force the working file to be overwritten.</p>
</dd>
<dt><tt class="literal">-I</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Interactive mode; prompt user even when standard input is not a terminal.</p>
</dd>
<dt><tt class="literal">-j</tt><tt><em class="replaceable">R2</em></tt><tt class="literal">:</tt><tt><em class="replaceable">R3</em></tt>[<tt class="literal">,</tt>...]</dt><dd>This works like <tt class="literal">rcsmerge</tt>.
<em class="emphasis">R2</em> and <em class="emphasis">R3</em> specify two revisions whose changes are merged
into a third file:  either the corresponding working file
or a third revision (any <em class="emphasis">R</em> specified by other <tt class="literal">co</tt> options).
Multiple comma-separated pairs may be provided; the output of the first join
becomes the input of the next.
See the <tt class="literal">co</tt> manpage for more details.</p>
</dd>
<dt><tt class="literal">-k</tt><tt><em class="replaceable">c</em></tt></dt><dd>Expand keyword symbols according to flag <em class="emphasis">c</em></tt>.  <em class="emphasis">c</em></tt> can be:
</p></dd>
</dl>

<table border="1" cellpadding="3">

<tr><td><tt class="literal">b</tt></td><td><p>Like <tt class="literal">-ko</tt>, but uses binary I/O.
This is most useful on non-Unix systems.</p>
</td></tr>
<tr><td><tt class="literal">kv</tt></td><td><p>Expand symbols to keyword and value (the default).
Insert the locker's name only during
a <tt class="literal">ci -l</tt> or <tt class="literal">co -l</tt>.</p>
</td></tr>
<tr><td><tt class="literal">kvl</tt></td><td><p>Like <tt class="literal">kv</tt>, but always insert the locker's name.</p>
</td></tr>
<tr><td><tt class="literal">k</tt></td><td><p>Expand symbols to keywords only (no values).  This is useful
for ignoring trivial differences during file comparison.</p>
</td></tr>
<tr><td><tt class="literal">o</tt></td><td><p>Expand symbols to keyword and value present in previous revision.
This is useful for binary files that don't allow substring changes.</p>
</td></tr>
<tr><td><tt class="literal">v</tt></td><td><p>Expand symbols to values only (no keywords).
This prevents further keyword substitution and is not recommended.</p>
</td></tr>
</table><p>

<dl>
<dt><tt class="literal">-l</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Same as <tt class="literal">-r</tt>, but also lock the retrieved revision.</p>
</dd>
<dt><tt class="literal">-M</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Set the working file's modification time to that of the retrieved version.
Use of <tt class="literal">-M</tt> can confuse <tt class="literal">make</tt> and should be used with care.</p>
</dd>
<dt><tt class="literal">-p</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Send retrieved revision to standard output instead of to a working file.
Useful for output redirection or filtering.</p>
</dd>
<dt><tt class="literal">-r</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Retrieve the latest revision or, if <em class="emphasis">R</em></tt> is given,
retrieve the latest revision that is equal to or lower than <em class="emphasis">R</em></tt>.
If <em class="emphasis">R</em></tt> is <tt class="literal">$</tt>, retrieve the version
specified by the keywords in the working file.</p>
</dd>
<dt><tt class="literal">-s</tt><tt><em class="replaceable">state</em></tt></dt><dd>Retrieve the latest revision having the given <em class="emphasis">state</em></tt>.</p>
</dd>
<dt><tt class="literal">-u</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Same as <tt class="literal">-r</tt>, but also unlock the retrieved revision
if you locked it previously.</p>
</dd>
<dt><tt class="literal">-w</tt>[<tt><em class="replaceable">user</em></tt>]</dt><dd>Retrieve the latest revision that was checked in either
by the invoking user or by the specified <em class="emphasis">user</em>.</p>
</dd>
</dl>

<h4 class="refsect2">Examples</h4><p>Sort the latest stored version of <em class="emphasis">file</em>:</p>
<blockquote><pre class="code"><tt class="userinput"><b>co -p </b></tt><em class="replaceable"><tt>file</tt></em> <tt class="userinput"><b>| sort</b></tt></pre></blockquote>
<p>Check out (and lock) all uppercase filenames for editing:</p>
<blockquote><pre class="code"><tt class="userinput"><b>co -l [A-Z]*</b></tt></pre></blockquote>
<p>Note that filename expansion
fails unless a working copy resides in the current directory.
Therefore, this example works only if the files were previously
checked in via <tt class="literal">ci -u</tt>.
Finally, here are some different ways to extract the working files
for a set of RCS files (in the current directory):</p>



<blockquote><pre class="code">
<tt class="userinput"><b>co -r3 *,v                   </b></tt> <i class="lineannotation">Latest revisions of release 3</i>
<tt class="userinput"><b>
co -r3 -wjim *,v             </b></tt> <i class="lineannotation">Same, but only if checked in by jim</i>
<tt class="userinput"><b>
co -d'May 5, 2 pm LT' *,v    </b></tt> <i class="lineannotation">Latest revisions that were modified on or before the date</i>
<tt class="userinput"><b>
co -rPrototype *,v           </b></tt> <i class="lineannotation">Latest revisions named Prototype</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="ident">ident</a></td><td><p><tt class="literal">ident</tt> [<em class="replaceable"><tt>options</em>] [<em class="replaceable">files</tt></em>]</p>
<p>
<a name="IXT-19-123593" />Extract keyword/value symbols from <em class="emphasis">files</em>.
<em class="emphasis">files</em> can be text files, object files, or dumps.
<tt class="literal">ident</tt> accepts the standard option
<tt class="literal">-V</tt>.</p>
<h4 class="refsect2">Options</h4>
<dl><dt><tt class="literal">-q</tt></dt><dd>Suppress warning message when no keyword patterns are found.</p>
</dd>
<dt><tt class="literal">-V</tt></dt><dd>Print the version number of <tt class="literal">ident</tt>.</p>
</dd>
</dl>

<h4 class="refsect2">Examples</h4><p>If file <tt class="literal">prog.c</tt> is compiled, and it contains this line of code:</p>
<blockquote><pre class="code">char rcsID[] = "$Author: ellie $";</pre></blockquote>
<p>the following output is produced:</p>
<blockquote><pre class="code">$ <tt class="userinput"><b>ident prog.c prog.o</b></tt>
prog.c:
     $Author: ellie $
prog.o:
     $Author: ellie $</pre></blockquote>
<p>Show keywords for all RCS files (suppress warnings):</p>
<blockquote><pre class="code">co -p RCS/*,v | ident -q</pre></blockquote>

</td></tr><tr><td valign="top"><a name="merge">merge</a></td><td><p><tt class="literal">merge</tt> [<em class="replaceable"><tt>options</em>] [<em class="replaceable">diff3 options</em>] <em class="replaceable">file1</em> <em class="replaceable">file2 file3</tt></em></p>
<p>
<a name="IXT-19-123594" />Perform a three-way merge of files (via <tt class="literal">diff3</tt>) 
and place changes in <em class="emphasis">file1</em>.
<em class="emphasis">file2</em> is the original file.
<em class="emphasis">file1</em> is the &#8220;good&#8221; modification of <em class="emphasis">file2</em>.
<em class="emphasis">file3</em> is another, conflicting modification of <em class="emphasis">file2</em>.
<tt class="literal">merge</tt> finds the differences between <em class="emphasis">file2</em> and <em class="emphasis">file3</em>,
and then incorporates those changes into <em class="emphasis">file1</em>.
If both <em class="emphasis">file1</em> and <em class="emphasis">file3</em> have changes to common lines,
<tt class="literal">merge</tt> warns about overlapping lines and inserts both
choices in <em class="emphasis">file1</em>.  The insertion appears as follows:</p>
<blockquote><pre class="code">&lt;&lt;&lt;&lt;&lt;&lt;&lt; <em class="replaceable"><tt>file1</tt></em>
<i class="lineannotation">lines from file1&lt;</i>/&gt;
========
<i class="lineannotation">lines from file3</i>
&gt;&gt;&gt;&gt;&gt;&gt;&gt; <em class="replaceable"><tt>file3</tt></em></pre></blockquote>
<p>You'll need to edit <em class="emphasis">file1</em> by deleting one of the choices.
<tt class="literal">merge</tt> exits with a status of 0 (no overlaps), 1 (some overlaps),
or 2 (unknown problem).
See also <b class="emphasis-bold">rcsmerge</b>.</p>
<p><tt class="literal">merge</tt> accepts the <tt class="literal">-A</tt>, <tt class="literal">-e</tt>,
 and <tt class="literal">-E</tt> options for
<tt class="literal">diff3</tt>, and simply passes them on, causing <tt class="literal">diff3</tt>
to perform the corresponding kind of merge.
See the entry for <b class="emphasis-bold">diff3</b> in <a href="ch02_01.htm">Chapter 2</a>,
for details. (The <tt class="literal">-A</tt> option is
for the GNU version of <tt class="literal">diff3</tt>.)</p>


<h4 class="refsect2">Options</h4><dl><dt><tt class="literal">-L</tt> <tt><em class="replaceable">label</em></tt></dt><dd>This option may be provided up to three times, providing different labels in place
of the filenames <em class="emphasis">file1</em></tt>, <em class="emphasis">file2</em></tt>, and
<em class="emphasis">file3</em></tt>, respectively.</p>
</dd>
<dt><tt class="literal">-p</tt></dt><dd>Send merged version to standard output instead of to <em class="emphasis">file1</em></tt>.</p>
</dd>
<dt><tt class="literal">-q</tt></dt><dd>Produce overlap insertions but don't warn about them.</p>
</dd>
</dl>

</td></tr><tr><td valign="top"><a name="rcs">rcs</a></td><td><p><tt class="literal">rcs</tt> [<tt><em class="replaceable"><tt>options</em></tt>] <tt><em class="replaceable">files</tt></em></tt></p>
<p>
<a name="IXT-19-123595" />An administrative command for
setting up or changing the default attributes of RCS files.
<tt class="literal">rcs</tt> requires you to supply at least one option.
(This is for &#8220;future expansion.&#8221;)</p>
<p>Among other things, <tt class="literal">rcs</tt> lets you set strict locking (<tt class="literal">-L</tt>),
delete revisions (<tt class="literal">-o</tt>), and override locks set by <tt class="literal">co</tt>
(<tt class="literal">-l</tt> and <tt class="literal">-u</tt>).
RCS files have an access list (created via <tt class="literal">-a</tt>); anyone whose username
is on the list can run <tt class="literal">rcs</tt>.  The access list is often
empty, meaning that <tt class="literal">rcs</tt> is available to everyone.
In addition, you can always invoke <tt class="literal">rcs</tt> if you
own the file, if you're a privileged user, or if you
run <tt class="literal">rcs</tt> with <tt class="literal">-i</tt>. 
<tt class="literal">rcs</tt> accepts the standard options
<tt class="literal">-q</tt>,
<tt class="literal">-V</tt>,
<tt class="literal">-V</tt><em class="emphasis">n</em></tt>,
<tt class="literal">-T</tt>,
<tt class="literal">-x</tt>,
and
<tt class="literal">-z</tt>.</p>
<h4 class="refsect2">Options</h4>
<dl><dt><tt class="literal">-a</tt><tt><em class="replaceable">users</em></tt></dt><dd>Append the comma-separated list of <em class="emphasis">users</em></tt> to the access list.</p>
</dd>
<dt><tt class="literal">-A</tt><tt><em class="replaceable">otherfile</em></tt></dt><dd>Append <em class="emphasis">otherfile</em></tt>'s access list to the access list of <em class="emphasis">files</em></tt>.</p>
</dd>
<dt><tt class="literal">-b</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Set the default branch to <em class="emphasis">R</em></tt> or, if <em class="emphasis">R</em></tt> is omitted,
to the
highest branch on the trunk.</p>
</dd>
<dt><tt class="literal">-c</tt><tt class="literal">'</tt><tt><em class="replaceable">s</em></tt><tt class="literal">'</tt></dt><dd>The comment leader for <tt class="literal">$Log: ch19_05.htm,v $
<dt><tt class="literal">-c</tt><tt class="literal">'</tt><tt><em class="replaceable">s</em></tt><tt class="literal">'</tt></dt><dd>The comment leader for <tt class="literal">Revision 1.2  2002/11/08 17:52:40  ellie
<dt><tt class="literal">-c</tt><tt class="literal">'</tt><tt><em class="replaceable">s</em></tt><tt class="literal">'</tt></dt><dd>The comment leader for <tt class="literal">fixed entities
<dt><tt class="literal">-c</tt><tt class="literal">'</tt><tt><em class="replaceable">s</em></tt><tt class="literal">'</tt></dt><dd>The comment leader for <tt class="literal">
<dt><tt class="literal">-c</tt><tt class="literal">'</tt><tt><em class="replaceable">s</em></tt><tt class="literal">'</tt></dt><dd>The comment leader for <tt class="literal">Revision 1.1  2002/11/04 21:32:22  ellie
<dt><tt class="literal">-c</tt><tt class="literal">'</tt><tt><em class="replaceable">s</em></tt><tt class="literal">'</tt></dt><dd>The comment leader for <tt class="literal">Initial revision
<dt><tt class="literal">-c</tt><tt class="literal">'</tt><tt><em class="replaceable">s</em></tt><tt class="literal">'</tt></dt><dd>The comment leader for <tt class="literal"></tt> 
keywords is set to string <em class="emphasis">s</em></tt>.
You could, for example, set 
<em class="emphasis">s</em></tt> to <tt class="literal">.\"</tt> for <tt class="literal">troff</tt> files
or set <em class="emphasis">s</em></tt> to <tt class="literal">*</tt> for
C programs.  (You would need to manually insert an 
enclosing <tt class="literal">/*</tt> and <tt class="literal">*/</tt> before and after <tt class="literal">$Log: ch19_05.htm,v $
enclosing <tt class="literal">/*</tt> and <tt class="literal">*/</tt> before and after <tt class="literal">Revision 1.2  2002/11/08 17:52:40  ellie
enclosing <tt class="literal">/*</tt> and <tt class="literal">*/</tt> before and after <tt class="literal">fixed entities
enclosing <tt class="literal">/*</tt> and <tt class="literal">*/</tt> before and after <tt class="literal">
enclosing <tt class="literal">/*</tt> and <tt class="literal">*/</tt> before and after <tt class="literal">Revision 1.1  2002/11/04 21:32:22  ellie
enclosing <tt class="literal">/*</tt> and <tt class="literal">*/</tt> before and after <tt class="literal">Initial revision
enclosing <tt class="literal">/*</tt> and <tt class="literal">*/</tt> before and after <tt class="literal"></tt>.)</p>
<p><tt class="literal">-c</tt> is obsolescent; RCS uses the character(s) preceding
<tt class="literal">$Log: ch19_05.htm,v $
<tt class="literal">Revision 1.2  2002/11/08 17:52:40  ellie
<tt class="literal">fixed entities
<tt class="literal">
<tt class="literal">Revision 1.1  2002/11/04 21:32:22  ellie
<tt class="literal">Initial revision
<tt class="literal"></tt> in the file as the comment leader for log
messages.
You may wish to set this, though, if you are accessing the RCS file with older
versions of RCS.</p>
</dd>
<dt><tt class="literal">-e</tt>[<tt><em class="replaceable">users</em></tt>]</dt><dd></tt>Erase everyone (or only the specified <em class="emphasis">users</em></tt>) from the access list.</p>
</dd>
<dt><tt class="literal">-i</tt></dt><dd>Create (initialize) an RCS file, but don't deposit a revision.</p>
</dd>
<dt><tt class="literal">-I</tt></dt><dd>Interactive mode; prompt user even when standard input is not a terminal.</p>
</dd>
<dt><tt class="literal">-k</tt><tt><em class="replaceable">c</em></tt></dt><dd>Use <em class="emphasis">c</em></tt> as the default style for keyword substitution.
(See <b class="emphasis-bold">co</b> for values of <em class="emphasis">c</em></tt>.)
<tt class="literal">-kkv</tt> restores the default
substitution style.</p>
</dd>
<dt><tt class="literal">-l</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Lock revision <em class="emphasis">R</em></tt> or the latest revision.
<tt class="literal">-l</tt> &#8220;retroactively locks&#8221; a file and is useful if you checked
out a file incorrectly by typing <tt class="literal">co</tt> instead of <tt class="literal">co -l</tt>.
<tt class="literal">rcs</tt> will ask you if it should break the lock if someone
else has the file locked.</p>
</dd>
<dt><tt class="literal">-L</tt></dt><dd>Turn on strict locking (the default).  
This means that everyone, including the owner
of the RCS file, must use <tt class="literal">co -l</tt> to edit files.
Strict locking is recommended when files are to be shared.  (See <tt class="literal">-U</tt>.)</p>
</dd>
<dt><tt class="literal">-m</tt><tt><em class="replaceable">R</em></tt><tt class="literal">:</tt><tt><em class="replaceable">msg</em></tt></dt><dd>Use the <em class="emphasis">msg</em></tt> string to replace the log message of revision <em class="emphasis">R</em></tt>.</p>
</dd>
<dt><tt class="literal">-M</tt></dt><dd>Do not send mail when breaking a lock.
This is intended for use by RCS frontends, not for direct use
by users!</p>
</dd>
<dt><tt class="literal">-n</tt><tt><em class="replaceable">flags</em></tt></dt><dd>Add or delete an association between a revision and a name.
<em class="emphasis">flags</em> can be:
</p>
</dd>
</dl>

<table border="1" cellpadding="3">

<tr><td><em class="replaceable"><tt>name</em><tt class="literal">:</tt><em class="replaceable">R</em></td><td><p>Associate <em class="emphasis">name</em> with revision <em class="emphasis">R</tt></em>.</p>
</td></tr>
<tr><td><em class="replaceable"><tt>name</em><tt class="literal">:</tt></td><td><p>Associate <em class="emphasis">name</tt></em> with latest revision.</p>
</td></tr>
<tr><td><em class="replaceable"><tt>name</em></td><td><p>Remove association of <em class="emphasis">name</tt></em>.</p>
</td></tr>
</table><p>

<dl>
<dt><tt class="literal">-N</tt><tt><em class="replaceable">flags</em></tt></dt><dd>Same as <tt class="literal">-n</tt>, but overwrite existing <em class="emphasis">names</em></tt>.</p>
</dd>
<dt><tt class="literal">-o</tt><tt><em class="replaceable">R_list</em></tt></dt><dd>Delete (outdate) revisions listed in <em class="emphasis">R_list</em></tt>.
<em class="emphasis">R_list</em> can be specified as:  <em class="emphasis">R1</em>,
<em class="emphasis">R1</em><tt class="literal">:</tt><em class="emphasis">R2</em>,
<em class="emphasis">R1</em><tt class="literal">:</tt>, or <tt class="literal">:</tt><em class="emphasis">R2</em>.
When a branch is given,
<tt class="literal">-o</tt> deletes only the latest revision on it.
The <tt class="literal">-</tt> range separator character from
RCS versions prior to 5.6 is still valid.</p>
</dd>
<dt><tt class="literal">-s</tt><tt><em class="replaceable">state</em></tt>[<tt class="literal">:</tt><tt><em class="replaceable">R</em></tt>]</dt><dd>Set the state of revision <em class="emphasis">R</em></tt> (or the latest revision)
to the word <em class="emphasis">state</em></tt>.</p>
</dd>
<dt><tt class="literal">-t</tt>[<tt><em class="replaceable">file</em></tt>]</dt><dd>Replace RCS file description with contents of <em class="emphasis">file</em></tt>
or, if no file is given, with standard input.</p>
</dd>
<dt><tt class="literal">-t-</tt><tt><em class="replaceable">string</em></tt></dt><dd>Replace RCS file description with <em class="emphasis">string</em></tt>.</p>
</dd>
<dt><tt class="literal">-u</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>The complement of <tt class="literal">-l</tt>:  unlock a revision that was previously
checked out via <tt class="literal">co -l</tt>.  If someone else did the check-out,
you are prompted to state the reason for breaking the lock.
This message is mailed to the original locker.</p>
</dd>
<dt><tt class="literal">-U</tt></dt><dd>Turn on nonstrict locking.  Everyone except the file owner must
use <tt class="literal">co -l</tt> to edit files.  (See <tt class="literal">-L</tt>.)</p>
</dd>
</dl>

<h4 class="refsect2">Examples</h4><p>Associate the label <em class="emphasis">To_customer</em></tt> with the latest revision of all
RCS files:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rcs -nTo_customer: RCS/*</b></tt></pre></blockquote>
<p>Add three users to the access list of file <tt class="literal">beatle_deals</tt>:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rcs -ageorge,paul,ringo beatle_deals</b></tt></pre></blockquote>
<p>Delete revisions 1.2 through 1.5:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rcs -o1.2:1.5 doc</b></tt></pre></blockquote>
<p>Replace an RCS file description with the contents of a variable:</p>
<blockquote><pre class="code"><tt class="userinput"><b>echo "$description" | rcs -t </b></tt><tt><em class="replaceable"><tt>file</tt></em></tt></pre></blockquote>

</td></tr><tr><td valign="top"><a name="rcsclean">rcsclean</a></td><td><p><tt class="literal">rcsclean</tt> [<tt><em class="replaceable"><tt>options</em></tt>] [<tt><em class="replaceable">files</tt></em></tt>]</p>
<p>
<a name="IXT-19-123596" />Although included with RCS, this command is optional and 
might not be installed on your system.
<tt class="literal">rcsclean</tt> compares checked-out files against
the corresponding latest revision or revision <em class="emphasis">R</em></tt>
(as given by the options).
If no differences are found, the working file is removed.
(Use <tt class="literal">rcsdiff</tt> to find differences.)
<tt class="literal">rcsclean</tt> is useful in makefiles; for example,
you could specify a &#8220;clean-up&#8221; target to update your directories.
<tt class="literal">rcsclean</tt> is also useful prior to running <tt class="literal">rcsfreeze</tt>.
<tt class="literal">rcsclean</tt> accepts the standard options
<tt class="literal">-q</tt>,
<tt class="literal">-V</tt>,
<tt class="literal">-V</tt><em class="emphasis">n</em></tt>,
<tt class="literal">-T</tt>,
<tt class="literal">-x</tt>,
and
<tt class="literal">-z</tt>.</p>
<h4 class="refsect2">Options</h4>
<dl><dt><tt class="literal">-k</tt><tt><em class="replaceable">c</em></tt> </dt><dd>When comparing revisions, expand keywords using style <em class="emphasis">c</em></tt>.
(See <b class="emphasis-bold">co</b> for values of <em class="emphasis">c</em>.)</p>
</dd>
<dt><tt class="literal">-n</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Show what would happen but don't actually execute.</p>
</dd>
<dt><tt class="literal">-r</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Compare against revision <em class="emphasis">R</em></tt>.
<em class="emphasis">R</em> can be supplied as arguments to other options,
so <tt class="literal">-r</tt> is redundant.</p>
</dd>
<dt><tt class="literal">-u</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Unlock the revision if it's the same as the working file.</p>
</dd>
</dl>

<h4 class="refsect2">Example</h4><p>Remove unchanged copies of program and header files:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rcsclean *.c *.h</b></tt></pre></blockquote>

</td></tr><tr><td valign="top"><a name="rcsdiff">rcsdiff</a></td><td><p><tt class="literal">rcsdiff</tt> [<tt><em class="replaceable"><tt>options</em></tt>] [<tt><em class="replaceable">diff_options</em></tt>] <tt><em class="replaceable">files</tt></em></tt></p>
<p>
<a name="IXT-19-123597" />Compare revisions via <tt class="literal">diff</tt>.
Specify revisions using <tt class="literal">-r</tt> as follows:</p>
<table border="1" cellpadding="3">
<tr><th><em class="emphasis"># of Revisions</em></tt></th><th><em class="emphasis">Comparison Made</em></tt></th></tr>

<tr><td>None</td><td>Working file against latest revision.</td></tr>
<tr><td>One</td><td>Working file against specified revision.</td></tr>
<tr><td>Two</td><td>One revision against the other.</td></tr>
</table><p>
<p><tt class="literal">rcsdiff</tt> accepts the standard options
<tt class="literal">-q</tt>,
<tt class="literal">-V</tt>,
<tt class="literal">-V</tt><em class="emphasis">n</em></tt>,
<tt class="literal">-T</tt>,
<tt class="literal">-x</tt>,
and
<tt class="literal">-z</tt>,
as well as
<em class="emphasis">diff_options</em></tt>, which can be any valid <tt class="literal">diff</tt> option.
<tt class="literal">rcsdiff</tt> exits with a status of 0 (no differences), 1 (some differences),
or 2 (unknown problem).
The <tt class="literal">-c</tt> option to <tt class="literal">diff</tt> can
be very useful with <tt class="literal">rcsdiff</tt>.</p>
<p><tt class="literal">rcsdiff</tt> prints &#8220;retrieving revision ...&#8221;
messages to standard error, as well as a line of equals signs for separating
multiple files.
It is often useful to redirect standard error and standard output to the
same file.</p>
<h4 class="refsect2">Options</h4><dl><dt><tt class="literal">-k</tt><tt><em class="replaceable">c</em></tt></dt><dd>When comparing revisions, expand keywords using style <em class="emphasis">c</em></tt>.
(See <b class="emphasis-bold">co</b> for values of <em class="emphasis">c</em>.)</p>
</dd>
<dt><tt class="literal">-r</tt><tt><em class="replaceable">R1</em></tt></dt><dd>Use revision <em class="emphasis">R1</em></tt> in the comparison.</p>
</dd>
<dt><tt class="literal">-r</tt><tt><em class="replaceable">R2</em></tt></dt><dd>Use revision <em class="emphasis">R2</em></tt> in the comparison.
(<tt class="literal">-r</tt><em class="replaceable"><tt>R1</tt></em> must also be specified.)</p>
</dd>
</dl>

<h4 class="refsect2">Examples</h4><p>Compare the current working file against the last checked-in version:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rcsdiff -c ch19.sgm 2&gt;&amp;1 | more</b></tt></pre></blockquote>
<p>Compare the current working file against the very first version:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rcsdiff -c -r1.1 ch19.sgm 2&gt;&amp;1 | more</b></tt></pre></blockquote>


<p>Compare two earlier versions of a file against each other:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rcsdiff -c -r1.3 -r1.4 ch19.sgm 2&gt;&amp;1 | more</b></tt></pre></blockquote>

</td></tr><tr><td valign="top"><a name="rcsfreeze">rcsfreeze</a></td><td><p><tt class="literal">rcsfreeze</tt> [<em class="replaceable"><tt>name</tt></em>]</p>
<p>
<a name="IXT-19-123598" />Although included with RCS, this shell script is optional and
might not be installed on your system.
<tt class="literal">rcsfreeze</tt> assigns a name to an entire set of RCS files,
which must already be checked in.  This is useful for marking
a group of files as a single configuration.
The default <em class="emphasis">name</em> is <tt class="literal">C_</tt><em class="emphasis">n</em>,
where <em class="emphasis">n</em> is incremented
each time you run <tt class="literal">rcsfreeze</tt>.</p>
</td></tr><tr><td valign="top"><a name="rcsmerge">rcsmerge</a></td><td><p><tt class="literal">rcsmerge</tt> [<em class="replaceable"><tt>options</em>] [<em class="replaceable">diff3 options</em>] <em class="replaceable">file</tt></em></p>
<p>
<a name="IXT-19-123599" />Perform a three-way merge of file revisions,
taking two differing versions and incorporating the changes
into the working <em class="emphasis">file</em>.  
You must provide either one or two revisions to merge
(typically with <tt class="literal">-r</tt>).
Overlaps are handled the same as with <tt class="literal">merge</tt>,
by placing warnings in the resulting file.
<tt class="literal">rcsmerge</tt> accepts the standard options
<tt class="literal">-q</tt>,
<tt class="literal">-V</tt>,
<tt class="literal">-V</tt><em class="emphasis">n</em>,
<tt class="literal">-T</tt>,
<tt class="literal">-x</tt>,
and
<tt class="literal">-z</tt>.
<tt class="literal">rcsmerge</tt> exits with a status of 0 (no overlaps), 1 (some overlaps),
or 2 (unknown problem).</p>
<p><tt class="literal">rcsmerge</tt> accepts the <tt class="literal">-A</tt>,
<tt class="literal">-e</tt>, and <tt class="literal">-E</tt> options for
<tt class="literal">diff3</tt> and simply passes them on, causing <tt class="literal">diff3</tt>
to perform the corresponding kind of merge.
See <b class="emphasis-bold">merge</b>, and also see
the entry for <b class="emphasis-bold">diff3</b> in <a href="ch02_01.htm">Chapter 2</a>
for details. (The <tt class="literal">-A</tt> option is for the GNU version of <tt class="literal">diff3</tt>.)</p>
<h4 class="refsect2">Options</h4><dl><dt><tt class="literal">-k</tt><tt><em class="replaceable">c</em></tt> </dt><dd>When comparing revisions, expand keywords using style <em class="emphasis">c</em></tt>.
(See <b class="emphasis-bold">co</b> for values of <em class="emphasis">c</em></tt>.)</p>
</dd>
<dt><tt class="literal">-p</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Send merged version to standard output instead of overwriting <em class="emphasis">file</em></tt>.</p>
</dd>
<dt><tt class="literal">-r</tt>[<tt><em class="replaceable">R</em></tt>]</dt><dd>Merge revision <em class="emphasis">R</em></tt> or, if no <em class="emphasis">R</em></tt> is given, merge the latest revision.</p>
</dd>
</dl>

<h4 class="refsect2">Examples</h4><p>Suppose you need to add updates to an old revision (1.3) of <tt class="literal">prog.c</tt>,
but the current file is already at revision 1.6.  To incorporate the
changes:</p>

<blockquote><pre class="code">
<tt class="userinput"><b>co -l prog.c         </b></tt> <i class="lineannotation">Get latest revision
(Edit latest revision by adding updates for revision 1.3, then:)</i>
<tt class="userinput"><b>
rcsmerge -p -r1.3 -r1.6 prog.c &gt; prog.updated.c</b></tt></pre></blockquote>


<p>Undo changes between revisions 3.5 and 3.2, and overwrite the
working file:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rcsmerge -r3.5 -r3.2 chap08</b></tt></pre></blockquote>

</td></tr><tr><td valign="top"><a name="rlog">rlog</a></td><td><p><tt class="literal">rlog</tt> [<tt><em class="replaceable"><tt>options</em></tt>] <tt><em class="replaceable">files</tt></em></tt></p>
<p>
<a name="IXT-19-123600" />Display identification information for RCS <em class="emphasis">files</em></tt>,
including the log message associated with each revision,
the number of lines added or removed, date of last check-in,
etc.  With no options, <tt class="literal">rlog</tt> displays all information.
Use options to display specific items.
<tt class="literal">rlog</tt> accepts the standard options
<tt class="literal">-q</tt>,
<tt class="literal">-V</tt>,
<tt class="literal">-V</tt><em class="emphasis">n</em></tt>,
<tt class="literal">-T</tt>,
<tt class="literal">-x</tt>,
and
<tt class="literal">-z</tt>.</p>
<h4 class="refsect2">Options</h4><dl><dt><tt class="literal">-b</tt></dt><dd>Prune the display; print only about the default branch.</p>
</dd>
<dt><tt class="literal">-d</tt><tt><em class="replaceable">dates</em></tt></dt><dd>

Display information for revisions whose check-in timestamp falls in
the range of <em class="emphasis">dates</em></tt> (a list separated by semicolons).
Be sure to use quotes.  Each date can be specified as:
</p>

<dl><dt><i><tt><em class="replaceable"><tt>d1</em></tt>&#160;<tt class="literal">&lt;</tt>&#160;<tt><em class="replaceable">d2</em></tt></i></dt><dd>Select revisions between date <em class="emphasis">d1</em></tt> and <em class="emphasis">d2</tt></em></tt>, inclusive.</p>
</dd>
<dt><i><tt><em class="replaceable"><tt>d1</em></tt> <tt class="literal">&lt;</tt></i></dt><dd>Select revisions made on or after <em class="emphasis">date1</tt></em></tt>.</p>
</dd>
<dt><i><tt><em class="replaceable"><tt>d1</em></tt> <tt class="literal">&gt;</tt></i></dt><dd>Select revisions made on or before <em class="emphasis">date1</tt></em></tt>.</p>
</dd>
</dl>

<p>Timestamp comparisons are strict.
If two files have exactly the same time, <tt class="literal">&lt;</tt> and <tt class="literal">&gt;</tt>
won't work.
Use <tt class="literal">&lt;=</tt> and <tt class="literal">&gt;=</tt> instead.</p>
</dd>
<dt><tt class="literal">-h</tt></dt><dd>Display the beginning of the normal <tt class="literal">rlog</tt> listing.</p>
</dd>
<dt><tt class="literal">-l</tt>[<tt><em class="replaceable">users</em></tt>]</dt><dd>Display information only about locked revisions 
or, if <em class="emphasis">users</em> is specified, only about revisions locked
by the list of <em class="emphasis">users</em>.</p>
</dd>
<dt><tt class="literal">-L</tt></dt><dd>Skip files that aren't locked.</p>
</dd>
<dt><tt class="literal">-N</tt></dt><dd>Don't print symbolic names.</p>
</dd>
<dt><tt class="literal">-r</tt>[<tt><em class="replaceable">list</em></tt>]</dt><dd>Display information for revisions in the comma-separated
<em class="emphasis">list</em></tt> of revision numbers.  If no <em class="emphasis">list</em></tt> is given,
the latest revision is used.  Items can


be specified as:
</p>
<p>
The <tt class="literal">&#8211;</tt> range separator character from
RCS versions prior to 5.6 is still valid.</p>
</dd>
</dl>

<table border="1" cellpadding="3">

<tr><td><em class="emphasis">R1</em></tt></td><td><p>Select revision <em class="emphasis">R1</em></tt>.
If <em class="emphasis">R1</em></tt> is a branch, select all revisions on it.</p>
</td></tr>
<tr><td><em class="emphasis">R1</em></tt><tt class="literal">.</tt></td><td><p>If <em class="emphasis">R1</em></tt> is a branch, select its latest revision.</p>
</td></tr>
<tr><td><em class="emphasis">R1</em></tt><tt class="literal">:</tt><em class="emphasis">R2</em></tt></td><td><p>Select revisions <em class="emphasis">R1</em></tt> through <em class="emphasis">R2</em></tt>.</p>
</td></tr>
<tr><td><tt class="literal">:</tt><em class="emphasis">R1</em></tt></td><td><p>Select revisions from beginning of branch through <em class="emphasis">R1</em></tt>.</p>
</td></tr>
<tr><td><em class="emphasis">R1</em></tt><tt class="literal">:</tt></td><td><p>Select revisions from <em class="emphasis">R1</em></tt> through end of branch.</p>
</td></tr>
</table><p>

<dl>
<dt><tt class="literal">-R</tt></dt><dd>Display only the name of the RCS file.</p>
</dd>
<dt><tt class="literal">-s</tt><tt><em class="replaceable">states</em></tt></dt><dd>Display information for revisions whose state matches one from the
comma-separated list of <em class="emphasis">states</em></tt>.</p>
</dd>
<dt><tt class="literal">-t</tt></dt><dd>Same as <tt class="literal">-h</tt>, but also display the file's description.</p>
</dd>
<dt><tt class="literal">-w</tt>[<tt><em class="replaceable">users</em></tt>]</dt><dd>Display information for revisions checked in by anyone in the comma-separated
list of <em class="emphasis">users</em></tt>.
If no <em class="emphasis">users</em></tt> are supplied, assume the name of the 
invoking user.</p>
</dd>
</dl>

<h4 class="refsect2">Examples</h4><p>Display the revision histories of all your RCS files:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rlog RCS/*,v | more</b></tt></pre></blockquote>
<p>Display names of RCS files that are locked by user <tt class="literal">daniel</tt>.</p>
<blockquote><pre class="code"><tt class="userinput"><b>rlog -R -L -ldaniel RCS/*</b></tt></pre></blockquote>
<p>Display the &#8220;title&#8221; portion (no revision history) of a working file:</p>
<blockquote><pre class="code"><tt class="userinput"><b>rlog -t calc.c</b></tt></pre></blockquote>

</td></tr></table><p>

<a name="IXT-19-123601" />
<a name="IXT-19-123602" />
<a name="IXT-19-123603" />
<a name="IXT-19-123604" />

<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch19_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch20_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">19.4. Conversion Guide for SCCS Users</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">20. The make Utility</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>
