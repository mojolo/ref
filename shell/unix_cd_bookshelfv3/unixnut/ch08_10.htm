<html><head><title>Setting Up vi (UNIX in a Nutshell: System V Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-427-4" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX in a Nutshell: System V Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Book Title" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch08_09.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch09_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>


<h2 class="sect1">8.10. Setting Up vi</h2><p>This section describes the following:
<a name="IXT-8-123163" /></p>
<ul><li><p>The <tt class="literal">:set</tt> command</p>
</li><li><p>Options available with <tt class="literal">:set</tt></p>
</li><li><p>Example <tt class="literal">.exrc</tt> file</p>
</li></ul>

<a name="unut-ch-8-sect-10.1" /><div class="sect2"><h3 class="sect2">8.10.1. The :set Command</h3><p>
<a name="unut-ch-8-ix-set-command-vi" />
<a name="unut-ch-8-ix-vi-editor-set-command" />The <tt class="literal">:set</tt> command allows you to specify options that change 
characteristics of your editing environment.  Options may be put in the 
<tt class="literal">~/.exrc</tt> file or set during a <tt class="literal">vi</tt> session.</p>
<p>The colon should not be typed if the command is put in <tt class="literal">.exrc</tt>:</p>

<table border="1" cellpadding="3"><tr><td><tt class="literal">:set </tt><em class="replaceable"><tt>x</em></td><td>Enable option <em class="emphasis">x</tt></em>.</td></tr>
<tr><td><tt class="literal">:set no</tt><em class="replaceable"><tt>x</em></td><td>Disable option <em class="emphasis">x</tt></em>.</td></tr>
<tr><td><tt class="literal">:set </tt><em class="replaceable"><tt>x</em><tt class="literal">=</tt><em class="replaceable">val</em></td><td>Give <em class="emphasis">value</em> to option <em class="emphasis">x</tt></em>.</td></tr>
<tr><td><tt class="literal">:set</tt></td><td>Show changed options.</td></tr>
<tr><td><tt class="literal">:set all</tt></td><td>Show all options.</td></tr>
<tr><td><tt class="literal">:set </tt><em class="replaceable"><tt>x</em><tt class="literal">?</tt></td><td>Show value of option <em class="emphasis">x</tt></em>.</td></tr>
</table><p>
</div>

<a name="unut-ch-8-sect-10.2" /><div class="sect2"><h3 class="sect2">8.10.2. Options Used by :set</h3>

<p><a href="ch08_10.htm#unut-ch-8-tab-1">Table 8-1</a> contains brief descriptions of the important
<tt class="literal">set</tt> command options.  In the first column, options
are listed in alphabetical order;  if the option can be abbreviated,
that abbreviation is shown in parentheses.  The second column shows the
default setting <tt class="literal">vi</tt> uses unless you issue an
explicit <tt class="literal">set</tt> command (either manually or in the
<tt class="literal">.exrc</tt> file).  The last column describes what the
option does, when enabled.</p>



<a name="unut-ch-8-tab-1" /><h4 class="objtitle">Table 8-1. :set Options</h4>

<table border="1" cellpadding="3">

<tr><th>Option</th><th>Default</th><th>Description</th></tr>

<tr><td><tt class="literal">autoindent (ai)</tt></td><td><tt class="literal">noai</tt></td><td><p>In insert mode,
indent each line to the same level as the line above
or below. Use with the <tt class="literal">shiftwidth</tt> option.</p>
</td></tr>
<tr><td><tt class="literal">autoprint (ap)</tt></td><td><tt class="literal">ap</tt></td><td><p>Display changes after each editor command.
(For global replacement, display last replacement.)</p>
</td></tr>
<tr><td><tt class="literal">autowrite (aw)</tt></td><td><tt class="literal">noaw</tt></td><td><p>Automatically write (save) the file if changed
before opening another file with <tt class="literal">:n</tt> or before giving Unix
command with <tt class="literal">:!</tt>.</p>
</td></tr>
<tr><td><tt class="literal">beautify (bf)</tt></td><td><tt class="literal">nobf</tt></td><td><p>Ignore all control characters during
input (except tab, newline, or formfeed).</p>
</td></tr>
<tr><td><tt class="literal">directory (dir)</tt></td><td><tt class="literal">/tmp</tt></td><td><p>Name directory in which
<tt class="literal">ex</tt>/<tt class="literal">vi</tt> stores buffer files.
(Directory
must be writable.)</p>
</td></tr>
<tr><td><tt class="literal">edcompatible</tt></td><td><p><tt class="literal">noedcompatible</tt></p>
</td><td><p>Remember the flags used with the most recent substitute command
(global, confirming) and use them for the next substitute command.
Despite the name, no version of <tt class="literal">ed</tt>
actually behaves this way.</p>
</td></tr>
<tr><td><tt class="literal">errorbells (eb)</tt></td><td><tt class="literal">errorbells</tt></td><td>Sound bell when an error occurs.</td></tr>
<tr><td><tt class="literal">exrc (ex)</tt></td><td><tt class="literal">noexrc</tt></td><td><p>Allow the execution of <tt class="literal">.exrc</tt> files that
reside outside the user's home directory.</p>
</td></tr>
<tr><td><tt class="literal">hardtabs (ht)</tt></td><td><tt class="literal">8</tt></td><td><p>Define boundaries for terminal hardware tabs.</p>
</td></tr>
<tr><td><tt class="literal">ignorecase (ic)</tt></td><td><tt class="literal">noic</tt></td><td><p>Disregard case during a search.</p>
</td></tr>
<tr><td><tt class="literal">lisp</tt></td><td><tt class="literal">nolisp</tt></td><td><p>Insert indents in appropriate Lisp format.
<tt class="literal">(&#160;)</tt>, <tt class="literal">{ }</tt>,
<tt class="literal">[[</tt>, and <tt class="literal">]]</tt>
are modified to have meaning
for Lisp.</p>
</td></tr>
<tr><td><tt class="literal">list</tt></td><td><tt class="literal">nolist</tt></td><td><p>Print tabs as <tt class="literal">^I</tt>;  mark ends of lines with <tt class="literal">$</tt>.
(Use <tt class="literal">list</tt> to tell if end character is a tab or a space.)</p>
</td></tr>
<tr><td><tt class="literal">magic</tt></td><td><tt class="literal">magic</tt></td><td><p>Wildcard characters <tt class="literal">.</tt> (dot),
<tt class="literal">*</tt> (asterisk), and <tt class="literal">[]</tt>
(brackets) have special meaning in patterns.</p>
</td></tr>
<tr><td><tt class="literal">mesg</tt></td><td><tt class="literal">mesg</tt></td><td><p>Permit system messages to display on terminal
while editing in <tt class="literal">vi</tt>.</p>
</td></tr>


<tr><td><tt class="literal">novice</tt></td><td><tt class="literal">nonovice</tt></td><td><p>Require the use of
long <tt class="literal">ex</tt> command names, such as
<tt class="literal">copy</tt> or <tt class="literal">read</tt>.</p>
</td></tr>
<tr><td><tt class="literal">number (nu)</tt></td><td><tt class="literal">nonu</tt></td><td><p>Display line numbers on left of screen during editing session.</p>
</td></tr>
<tr><td><tt class="literal">open</tt></td><td><tt class="literal">open</tt></td><td><p>Allow entry to <em class="emphasis">open</em>
or <em class="emphasis">visual</em>
mode from <tt class="literal">ex</tt>.
Although not in Solaris <tt class="literal">vi</tt>,
this option has traditionally been in <tt class="literal">vi</tt>,
and may be in your Unix's version of <tt class="literal">vi</tt>.</p>
</td></tr>
<tr><td><tt class="literal">optimize (opt)</tt></td><td><tt class="literal">noopt</tt></td><td><p>Abolish carriage returns at the end of lines
when printing multiple lines; speed output on dumb terminals when
printing lines with leading whitespace (spaces or tabs).</p>
</td></tr>
<tr><td><tt class="literal">paragraphs (para)</tt></td><td><p><tt class="literal">IPLPPPQP LIpplpipbp</tt></p>
</td><td><p>Define paragraph delimiters for movement
by <tt class="literal">{</tt> or <tt class="literal">}</tt>.
The pairs of characters in the value are the names of <tt class="literal">troff</tt>
macros that begin paragraphs.</p>
</td></tr>
<tr><td><tt class="literal">prompt</tt></td><td><tt class="literal">prompt</tt></td><td><p>Display the <tt class="literal">ex</tt> prompt (:)
when <tt class="literal">vi</tt>'s <tt class="literal">Q</tt>
command is given.</p>
</td></tr>
<tr><td><tt class="literal">readonly (ro)</tt></td><td><tt class="literal">noro</tt></td><td><p>Any writes (saves) of a file fail unless you
use <tt class="literal">!</tt> after the write (works with <tt class="literal">w</tt>, <tt class="literal">ZZ</tt>,
or <tt class="literal">autowrite</tt>).</p>
</td></tr>



<tr><td><tt class="literal">redraw (re)</tt></td><td>&nbsp;</td><td><p><tt class="literal">vi</tt> redraws the screen whenever edits are made
(in other words, insert mode
pushes over existing characters, and deleted lines immediately close up).
Default depends on line speed and terminal type.  <tt class="literal">noredraw</tt> is
useful at slow speeds on a dumb terminal: deleted lines show up as @,
and
inserted text appears to overwrite existing text until you
press Escape.</p>
</td></tr>
<tr><td><tt class="literal">remap</tt></td><td><tt class="literal">remap</tt></td><td><p>Allow nested map sequences.</p>
</td></tr>
<tr><td><tt class="literal">report</tt></td><td><tt class="literal">5</tt></td><td><p>Display a message on the status line whenever you make an edit that
affects at least a certain number of lines. For example,
<tt class="literal">6dd</tt> reports the message &#8220;6 lines deleted.&#8221;</p>
</td></tr>
<tr><td><tt class="literal">scroll</tt></td><td><tt class="literal">[</tt><em class="emphasis">&#189; window</em>]</td><td><p>Number of lines to scroll with <tt class="literal">^D</tt>
and <tt class="literal">^U</tt> commands.</p>
</td></tr>
<tr><td><tt class="literal">sections (sect)</tt></td><td><tt class="literal">SHNHH HU</tt></td><td><p>Define section delimiters for <tt class="literal">[[</tt>  and <tt class="literal">]]</tt>
movement.
The pairs of characters in the value are the names of
<tt class="literal">troff</tt> macros that begin sections.</p>
</td></tr>
<tr><td><tt class="literal">shell (sh)</tt></td><td><tt class="literal">/bin/sh</tt></td><td><p>Pathname of shell used for shell escape (<tt class="literal">:!</tt>) and shell
command (<tt class="literal">:sh</tt>). Default value is derived from shell
environment, which varies on different systems.</p>
</td></tr>
<tr><td><tt class="literal">shiftwidth (sw)</tt></td><td><tt class="literal">8</tt></td><td><p>Define number of spaces in
backward (<tt class="literal">^D</tt>) tabs when using the
<tt class="literal">autoindent</tt> option, and for the
<tt class="literal">&lt;&lt;</tt> and <tt class="literal">&gt;&gt;</tt>
commands.</p>
</td></tr>
<tr><td><tt class="literal">showmatch (sm)</tt></td><td><tt class="literal">nosm</tt></td><td><p>In <tt class="literal">vi</tt>, when
<tt class="literal">)</tt> or <tt class="literal">}</tt>
is entered, cursor moves
briefly to matching <tt class="literal">(</tt> or <tt class="literal">{</tt>.
(If no match, rings the error message bell.)
Very useful for programming.</p>
</td></tr>
<tr><td><tt class="literal">showmode</tt></td><td><tt class="literal">noshowmode</tt></td><td><p>In insert mode, display a message on the prompt line indicating the
type of insert you are making. For example, &#8220;OPEN MODE&#8221;
or &#8220;APPEND MODE.&#8221;</p>
</td></tr>
<tr><td><tt class="literal">slowopen (slow)</tt></td><td>&nbsp;</td><td><p>Hold off display during insert.
Default depends on line speed and terminal type.</p>
</td></tr>
<tr><td><tt class="literal">tabstop (ts)</tt></td><td><tt class="literal">8</tt></td><td><p>Define number of spaces a
tab indents during editing session.
(Printer still uses system tab of 8.)</p>
</td></tr>
<tr><td><tt class="literal">taglength (tl)</tt></td><td><tt class="literal">0</tt></td><td><p>Define number of characters that are significant for tags.
Default (zero) means that all characters are significant.</p>
</td></tr>
<tr><td><tt class="literal">tags</tt></td><td><p><em class="emphasis">tags</em> <em class="emphasis">/usr/lib/tags</em></p>
</td><td><p>Define pathname of files containing tags. (See the Unix
<tt class="literal">ctags</tt> command.)
(By default, <tt class="literal">vi</tt> searches
the file <tt class="literal">tags</tt> in the current directory
and <tt class="literal">/usr/lib/tags</tt>.)</p>
</td></tr>
<tr><td><tt class="literal">tagstack</tt></td><td><tt class="literal">tagstack</tt></td><td><p>Enable stacking of tag locations on a stack.</p>
</td></tr>
<tr><td><tt class="literal">term</tt></td><td>&nbsp;</td><td>Set terminal type.</td></tr>
<tr><td><tt class="literal">terse</tt></td><td><tt class="literal">noterse</tt></td><td><p>Display shorter error messages.</p>
</td></tr>
<tr><td><tt class="literal">timeout (to)</tt></td><td><tt class="literal">timeout</tt></td><td><p>Keyboard maps time out after 1&#160;second.<a href="#FOOTNOTE-9">[9]</a></p>
</td></tr>
<tr><td><tt class="literal">ttytype</tt></td><td>&nbsp;</td><td><p>Set terminal type.
This is just another name for <tt class="literal">term</tt>.</p>
</td></tr>
<tr><td><tt class="literal">warn</tt></td><td><tt class="literal">warn</tt></td><td><p>Display the warning message, &#8220;No write since last change.&#8221;</p>
</td></tr>
<tr><td><tt class="literal">window (w)</tt></td><td>&nbsp;</td><td><p>Show a certain number of lines of the file on the screen.
Default depends on line speed and terminal type.</p>
</td></tr>
<tr><td><tt class="literal">wrapscan (ws)</tt></td><td><tt class="literal">ws</tt></td><td><p>Searches wrap around either end of file.</p>
</td></tr>
<tr><td><tt class="literal">wrapmargin (wm)</tt></td><td><tt class="literal">0</tt></td><td><p>Define right margin.
If greater than zero, automatically insert carriage returns to break
lines.</p>
</td></tr>
<tr><td><tt class="literal">writeany (wa)</tt></td><td><tt class="literal">nowa</tt></td><td>Allow saving to any file.</td></tr>
</table><p>
<a name="FOOTNOTE-9">[9]</a> When you have mappings of several keys (for example,
<tt class="literal">:map zzz 3dw</tt>), you probably want to use
<tt class="literal">notimeout</tt>. Otherwise you need to type <tt class="literal">zzz</tt>
within 1 second.
When you have an insert mode mapping for a cursor key (for example,
<tt class="literal">:map! ^[OB ^[ja</tt>), you should use <tt class="literal">timeout</tt>.
Otherwise, <tt class="literal">vi</tt> won't react to Escape
until you type another key.</p>
</blockquote>
</div>

<a name="unut-ch-8-sect-10.3" /><div class="sect2"><h3 class="sect2">8.10.3. Example .exrc File</h3><blockquote><pre class="code">set nowrapscan wrapmargin=7
set sections=SeAhBhChDh nomesg
map q :w^M:n^M
map v dwElp
ab ORA O'Reilly &amp; Associates, Inc.</pre></blockquote>
<p>
<a name="IXT-8-123164" />
<a name="IXT-8-123165" />
<a name="IXT-8-123166" /></p>
</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch08_09.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch09_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">8.9. Alphabetical List of Keys</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">9. The ex Editor</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>
