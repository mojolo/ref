<html><head><title>Alphabetical Summary of ex Commands (UNIX in a Nutshell: System V Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-427-4" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX in a Nutshell: System V Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Book Title" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch10_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>


<h2 class="sect1">9.2. Alphabetical Summary of ex Commands</h2><p>
<a name="IXT-9-123170" /><tt class="literal">ex</tt> commands can be entered by specifying any unique abbreviation.  In
this listing, the full name appears in the margin, and the shortest
possible abbreviation is used in the syntax line.  Examples are assumed
to be typed from <tt class="literal">vi</tt>,
so they include the <tt class="literal">:</tt> prompt.</p>



<table border="1" cellpadding="5"><tr><td valign="top"><a name="abbrev">abbrev</a></a></td><td><p><tt class="literal">ab</tt> [<em class="replaceable"><tt>string text</tt></em>]</p>
<p>
<a name="IXT-9-123171" />Define <em class="emphasis">string</em> when typed to be translated into <em class="emphasis">text</em>.  
If <em class="emphasis">string</em> and <em class="emphasis">text</em> are not specified, list all current
abbreviations.</p>
<h4 class="refsect2">Examples</h4><p>Note:  <tt class="literal">^M</tt> appears when you type <tt class="literal">^V</tt>
followed by Return.</p>
<blockquote><pre class="code">:ab ora O'Reilly &amp; Associates, Inc.
:ab id Name:^MRank:^MPhone:</pre></blockquote>

</td></tr><tr><td valign="top"><a name="append">append</a></a></td><td>[<em class="replaceable"><tt>address</em>] <tt class="literal">a</tt>[<tt class="literal">!</tt>]<br><em class="replaceable">text</tt></em><br><tt class="literal">.</tt>
<p>
<a name="IXT-9-123172" />Append <em class="emphasis">text</em> at specified <em class="emphasis">address</em>, or at present address if
none is specified.  Add a <tt class="literal">!</tt> to toggle the <tt class="literal">autoindent</tt>
setting that is used during input.  That is, if <tt class="literal">autoindent</tt>
was enabled, <tt class="literal">!</tt> disables it.</p>
</td></tr><tr><td valign="top"><a name="args">args</a></a></td><td><p><tt class="literal">ar</tt></p>
<p>
<a name="IXT-9-123173" />Print the members of the argument list (files named on the command line),
with the current argument printed in brackets ([]).</p>
</td></tr><tr><td valign="top"><a name="change">change</a></a></td><td>[<em class="replaceable"><tt>address</em>] <tt class="literal">c</tt>[<tt class="literal">!</tt>]<br><em class="replaceable">text</tt></em><br><tt class="literal">.</tt>
<br>


<a name="IXT-9-123174" />Replace the specified lines with <em class="emphasis">text</em>.
Add a <tt class="literal">!</tt> to switch
the <tt class="literal">autoindent</tt> setting during input of <em class="emphasis">text</em>.</p>
</td></tr>

<tr><td valign="top"><a name="copy">copy</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">co</tt> <em class="replaceable">destination</tt></em></p>
<p>
<a name="IXT-9-123175" />Copy the lines included in <em class="emphasis">address</em> to the specified 
<em class="emphasis">destination</em> address.
The command <tt class="literal">t</tt> (short for &#8220;to&#8221;)
is a synonym for <tt class="literal">copy</tt>.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:1,10 co 50</pre></blockquote>

</td></tr><tr><td valign="top"><a name="delete">delete</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">d</tt> [<em class="replaceable">buffer</tt></em>]</p>
<p>
<a name="IXT-9-123176" />Delete the lines included in <em class="emphasis">address</em>.
If <em class="emphasis">buffer</em> is specified, save or append the text to the named buffer.
Buffer names are the lowercase letters a&#8211;z.
Uppercase names append text to the buffer.</p>
<h4 class="refsect2">Examples</h4><blockquote><pre class="code">:/Part I/,/Part II/-1d  <i class="lineannotation">Delete to line above "Part II"</i>
:/main/+d               <i class="lineannotation">Delete line below "main"</i>
:.,$d                   <i class="lineannotation">Delete from this line to last line</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="edit">edit</a></a></td><td><p><tt class="literal">e</tt>[<tt class="literal">!</tt>] [<tt class="literal">+</tt><em class="replaceable"><tt>n</em>] [<em class="replaceable">filename</tt></em>]</p>
<p>
<a name="IXT-9-123177" />Begin editing on <em class="emphasis">filename</em>.  
If no <em class="emphasis">filename</em> is given, start over with a copy
of the current file.
Add a <tt class="literal">!</tt> to edit the new file even if the current file
has not been saved since the last change.
With the <tt class="literal">+</tt><em class="emphasis">n</em> argument,
begin editing on line <em class="emphasis">n</em>.
Or <em class="emphasis">n</em> may be a pattern, of the
form <tt class="literal">/</tt><em class="emphasis">pattern</em>.</p>
<h4 class="refsect2">Examples</h4><blockquote><pre class="code">:e file
:e#
:e!</pre></blockquote>

</td></tr><tr><td valign="top"><a name="file">file</a></a></td><td><p><tt class="literal">f</tt> [<em class="replaceable"><tt>filename</tt></em>]</p>
<p>
<a name="IXT-9-123178" />Change the name of the current file to <em class="emphasis">filename</em>,
which is considered
&#8220;not edited.&#8221;  If no <em class="emphasis">filename</em> is specified,
print the current status of the file.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:f %.new</pre></blockquote>

</td></tr><tr><td valign="top"><a name="global">global</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">g</tt>[<tt class="literal">!</tt>]<tt class="literal">/</tt><em class="replaceable">pattern</em><tt class="literal">/</tt>[<em class="replaceable">commands</tt></em>]</p>
<p>
<a name="IXT-9-123179" />Execute <em class="emphasis">commands</em> on all lines which contain <em class="emphasis">pattern</em> or, if
<em class="emphasis">address</em> is specified, on all lines within that range.  
If <em class="emphasis">commands</em> are not specified, print all such lines.
Add a <tt class="literal">!</tt> to execute <em class="emphasis">commands</em> on all
lines <em class="emphasis">not</em>
containing <em class="emphasis">pattern</em>.  See also <b class="emphasis-bold"><a href="#v">v</a></b>.</p>
<h4 class="refsect2">Examples</h4><blockquote><pre class="code">:g/Unix/p
:g/Name:/s/tom/Tom/</pre></blockquote>

</td></tr><tr><td valign="top"><a name="insert">insert</a></a></td><td>[<em class="replaceable"><tt>address</em>] <tt class="literal">i</tt>[<tt class="literal">!</tt>]<br><em class="replaceable">text</tt></em><br><tt class="literal">.</tt>
<p>
<a name="IXT-9-123180" />Insert <em class="emphasis">text</em> at line before the specified <em class="emphasis">address</em>, or at present
address if none is specified.  Add a <tt class="literal">!</tt> to switch the
<tt class="literal">autoindent</tt> setting during input of <em class="emphasis">text</em>.</p>
</td></tr><tr><td valign="top"><a name="join">join</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">j</tt>[<tt class="literal">!</tt>] [<em class="replaceable">count</tt></em>]</p>
<p>
<a name="IXT-9-123181" />Place the text in the specified range on one line, with whitespace
adjusted to provide two space characters after a period (.), no
space characters after a ), and one space character otherwise.
Add a <tt class="literal">!</tt> to prevent whitespace adjustment.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:1,5j!		<i class="lineannotation">Join first five lines, preserving whitespace</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="k">k</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">k</tt> <em class="replaceable">char</tt></em></p>
<p>
<a name="IXT-9-123182" />Mark the given <em class="emphasis">address</em> with <em class="emphasis">char</em>,
a single lowercase letter.  Return
later to the line with <tt class="literal">'x</tt>.
<tt class="literal">k</tt> is equivalent to <tt class="literal">mark</tt>.</p>
</td></tr><tr><td valign="top"><a name="list">list</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">l</tt> [<em class="replaceable">count</tt></em>]</p>
<p>
<a name="IXT-9-123183" />Print the specified lines so that tabs display as <tt class="literal">^I</tt>, and the ends
of lines display as <tt class="literal">$</tt>.  <tt class="literal">l</tt> is like a temporary version of
<tt class="literal">:set list</tt>.</p>
</td></tr><tr><td valign="top"><a name="map">map</a></a></td><td><p><tt class="literal">map</tt>[<tt class="literal">!</tt>] [<em class="replaceable"><tt>char </em><em class="replaceable">commands</tt></em>]</p>
<p>
<a name="IXT-9-123184" />Define a keyboard macro named <em class="emphasis">char</em> as the specified
sequence of <em class="emphasis">commands</em>.
<em class="emphasis">char</em> is usually a single character, or the
sequence <tt class="literal">#</tt><em class="emphasis">n</em>,
representing a function key on the keyboard.
Use a <tt class="literal">!</tt> to create a macro for input mode.
With no arguments, list the currently defined macros.</p>
<h4 class="refsect2">Examples</h4><blockquote><pre class="code">:map K dwwP        <i class="lineannotation">Transpose two words</i>
:map q :w^M:n^M    <i class="lineannotation">Write current file; go to next</i>
:map! + ^[bi(^[ea) <i class="lineannotation">Enclose previous word in parentheses</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="mark">mark</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">ma</tt> <em class="replaceable">char</tt></em></p>
<p>
<a name="IXT-9-123185" />Mark the specified line with <em class="emphasis">char</em>, a single lowercase letter.
Return later to the line with <tt class="literal">'x</tt>.  Same as <tt class="literal">k</tt>.</p>
</td></tr><tr><td valign="top"><a name="move">move</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">m</tt> <em class="replaceable">destination</tt></em></p>
<p>
<a name="IXT-9-123186" />Move the lines specified by <em class="emphasis">address</em> to the <em class="emphasis">destination</em> address.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:.,/Note/m /END/    <i class="lineannotation">Move text block after line containing "END"</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="next">next</a></a></td><td><p><tt class="literal">n</tt>[<tt class="literal">!</tt>] [[<tt class="literal">+</tt><em class="replaceable"><tt>n</em>] <em class="replaceable">filelist</tt></em>]</p>
<p>
<a name="IXT-9-123187" />Edit the next file from the command-line argument list.  Use <tt class="literal">args</tt>
to list these files.  If <em class="emphasis">filelist</em> is provided, replace the
current argument list with <em class="emphasis">filelist</em> and begin editing on the
first file.  With the <tt class="literal">+</tt><em class="emphasis">n</em>
argument, begin editing on line <em class="emphasis">n</em>.
Or <em class="emphasis">n</em> may be a pattern, of the form
<tt class="literal">/</tt><em class="emphasis">pattern</em>.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:n chap*            <i class="lineannotation">Start editing all "chapter" files</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="number">number</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">nu</tt> [<em class="replaceable">count</tt></em>]</p>
<p>
<a name="IXT-9-123188" />Print each line specified by <em class="emphasis">address</em>,
preceded by its buffer line
number.  Use <tt class="literal">#</tt> as an alternate abbreviation for <tt class="literal">number</tt>.
<em class="emphasis">count</em> specifies the number of lines to show, starting 
with <em class="emphasis">address</em>.</p>
</td></tr><tr><td valign="top"><a name="open">open</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">o</tt> [<tt class="literal">/</tt><em class="replaceable">pattern</tt></em><tt class="literal">/</tt>]</p>
<p>
<a name="IXT-9-123189" />Enter open mode (<tt class="literal">vi</tt>) at the lines specified by
<em class="emphasis">address</em>, or at the
lines matching <em class="emphasis">pattern</em>.
Exit open mode with <tt class="literal">Q</tt>.
Open mode lets you use the regular <tt class="literal">vi</tt> commands, but only one line at a time.
It can be 


useful on slow dialup lines (or on very distant Internet
<tt class="literal">telnet</tt> connections).</p>
</td></tr><tr><td valign="top"><a name="preserve">preserve</a></a></td><td><p><tt class="literal">pre</tt></p>
<p>
<a name="IXT-9-123190" />Save the current editor buffer as though the system were about to crash.</p>
</td></tr><tr><td valign="top"><a name="print">print</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">p</tt> [<em class="replaceable">count</tt></em>]</p>
<p>
<a name="IXT-9-123191" />Print the lines specified by <em class="emphasis">address</em>.  
<em class="emphasis">count</em> specifies the number of lines to print, starting with <em class="emphasis">address</em>.
<tt class="literal">P</tt> is another abbreviation.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:100;+5p		<i class="lineannotation">Show line 100 and the next five lines</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="put">put</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">pu</tt> [<em class="replaceable">char</tt></em>]</p>
<p>
<a name="IXT-9-123192" />Restore previously deleted or yanked lines from named buffer specified by
<em class="emphasis">char</em>, to the line specified by <em class="emphasis">address</em>.
If <em class="emphasis">char</em> is not specified,
the last deleted or yanked text is restored.</p>
</td></tr><tr><td valign="top"><a name="quit">quit</a></a></td><td><p><tt class="literal">q</tt>[<tt class="literal">!</tt>]</p>
<p>
<a name="IXT-9-123193" />Terminate current editing session.  Use <tt class="literal">!</tt> to discard changes made
since the last save.  If the editing session includes additional files
in the argument list that were never accessed, quit by typing
<tt class="literal">q!</tt> or by typing <tt class="literal">q</tt> twice.</p>
</td></tr><tr><td valign="top"><a name="read">read</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">r</tt> <em class="replaceable">filename</tt></em></p>
<p>
<a name="IXT-9-123194" />Copy the text of <em class="emphasis">filename</em> after the line specified by
<em class="emphasis">address</em>.
If <em class="emphasis">filename</em> is not specified, the current filename 
is used.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:0r $HOME/data	<i class="lineannotation">Read file in at top of current file</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="read">read</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">r</tt>  <tt class="literal">!</tt><em class="replaceable">command</tt></em></p>
<p>Read the output of Unix <em class="emphasis">command</em> into the text after the line 
specified by <em class="emphasis">address</em>.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:$r !cal		<i class="lineannotation">Place a calendar at end of file</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="recover">recover</a></a></td><td><p><tt class="literal">rec</tt> [<em class="replaceable"><tt>file</tt></em>]</p>
<p>
<a name="IXT-9-123195" />Recover <em class="emphasis">file</em> from the system save area.</p>
</td></tr><tr><td valign="top"><a name="rewind">rewind</a></a></td><td><p><tt class="literal">rew</tt>[<tt class="literal">!</tt>]</p>
<p>
<a name="IXT-9-123196" />Rewind argument list and begin editing the first file in the list.
Add a <tt class="literal">!</tt> to rewind even if the current file has not been
saved since the last change.</p>
</td></tr><tr><td valign="top"><a name="set">set</a></a></td><td><p><tt class="literal">se</tt> <em class="replaceable"><tt>parameter1</em> <em class="replaceable">parameter2</tt></em> ...</p>
<p>
<a name="IXT-9-123197" />Set a value to an option with each 
<em class="emphasis">parameter</em>, or, if no <em class="emphasis">parameter</em> is
supplied, print all options that have been changed from
their defaults.  For toggle options, each
<em class="emphasis">parameter</em> can be phrased as <em class="emphasis">option</em> or <em class="replaceable"><tt>no</em><em class="emphasis">option</tt></em>;
other options can be assigned with the syntax <em class="emphasis">option</em><tt class="literal">=</tt><em class="emphasis">value</em>.
Specify <tt class="literal">all</tt> to list current settings.
The form <tt class="literal">set</tt> <em class="emphasis">option</em><tt class="literal">?</tt>
displays the value of <em class="emphasis">option</em>.
See the list of <tt class="literal">set</tt> options in
<a href="ch08_01.htm">Chapter 8</a>.</p>
<h4 class="refsect2">Examples</h4><blockquote><pre class="code">:set nows wm=10
:set all</pre></blockquote>

</td></tr><tr><td valign="top"><a name="shell">shell</a></a></td><td><p><tt class="literal">sh</tt></p>
<p>
<a name="IXT-9-123198" />Create a new shell.  Resume editing when the shell terminates.</p>
</td></tr><tr><td valign="top"><a name="source">source</a></a></td><td><p><tt class="literal">so</tt> <em class="replaceable"><tt>file</tt></em></p>
<p>
<a name="IXT-9-123199" />Read and execute <tt class="literal">ex</tt> commands from <em class="emphasis">file</em>.</p>
<h4 class="refsect2">Examples</h4><blockquote><pre class="code">:so $HOME/.exrc</pre></blockquote>

</td></tr><tr><td valign="top"><a name="substitute">substitute</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">s</tt> [<tt class="literal">/</tt><em class="replaceable">pattern</em><tt class="literal">/</tt><em class="replaceable">replacement</em><tt class="literal">/</tt>] [<em class="replaceable">options</em>] [<em class="replaceable">count</tt></em>]</p>
<p>
<a name="IXT-9-123200" />Replace each instance of <em class="emphasis">pattern</em> on the specified lines with 
<em class="emphasis">replacement</em>.
If <em class="emphasis">pattern</em> and <em class="emphasis">replacement</em> are omitted,
repeat last substitution.
<em class="emphasis">count</em> specifies the number of lines on which to substitute, starting
with <em class="emphasis">address</em>.
See additional examples in <a href="ch06_01.htm">Chapter 6</a>.
(Spelling out the command name does not work in Solaris <tt class="literal">vi</tt>.)</p>
<h4 class="refsect2">Options</h4>
<table border="1" cellpadding="3">

<tr><td><tt class="literal">c</tt></td><td><p>Prompt for confirmation before each change.</p>
</td></tr>
<tr><td><tt class="literal">g</tt></td><td><p>Substitute all instances of <em class="emphasis">pattern</em> on each line (global).</p>
</td></tr>
<tr><td><tt class="literal">p</tt></td><td><p>Print the last line on which a substitution was made.</p>
</td></tr>
</table><p>

<h4 class="refsect2">Examples</h4><blockquote><pre class="code">:1,10s/yes/no/g      <i class="lineannotation">Substitute on first 10 lines</i>
:%s/[Hh]ello/Hi/gc   <i class="lineannotation">Confirm global substitutions</i>
:s/Fortran/\U&amp;/ 3    <i class="lineannotation">Uppercase "Fortran" on next three lines</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="t">t</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">t</tt> <em class="replaceable">destination</tt></em></p>
<p>
<a name="IXT-9-123201" />Copy the lines included in <em class="emphasis">address</em> <b class="emphasis-bold"><a href="#t">t</a></b>o the
specified <em class="emphasis">destination</em> address.
<tt class="literal">t</tt> is equivalent to <tt class="literal">copy</tt>.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:%t$               <i class="lineannotation">Copy the file and add it to the end</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="tag">tag</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">ta</tt> <em class="replaceable">tag</tt></em></p>
<p>
<a name="IXT-9-123202" />Switch the focus of editing to <em class="emphasis">tag</em>.</p>
<h4 class="refsect2">Example</h4><p>Run <tt class="literal">ctags</tt>, then switch to the file containing <em class="emphasis">myfunction</em>:</p>
<blockquote><pre class="code">:!ctags *.c
:tag <em class="replaceable"><tt>myfunction</tt></em></pre></blockquote>

</td></tr><tr><td valign="top"><a name="unabbreviate">unabbreviate</a></a></td><td><p><tt class="literal">una</tt> <em class="replaceable"><tt>word</tt></em></p>
<p>
<a name="IXT-9-123203" />Remove <em class="emphasis">word</em> from the list of abbreviations.</p>
</td></tr><tr><td valign="top"><a name="undo">undo</a></a></td><td><p><tt class="literal">u</tt></p>
<p>


<a name="IXT-9-123204" />Reverse the changes made by the last editing command.</p>
</td></tr>

<tr><td valign="top"><a name="unmap">unmap</a></a></td><td><p><tt class="literal">unm</tt>[<tt class="literal">!</tt>] <em class="replaceable"><tt>char</tt></em></p>
<p>
<a name="IXT-9-123205" />Remove <em class="emphasis">char</em> from the list of keyboard macros.
Use <tt class="literal">!</tt> to remove a macro for input mode.</p>
</td></tr><tr><td valign="top"><a name="v">v</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">v/</tt><em class="replaceable">pattern</em><tt class="literal">/</tt>[<em class="replaceable">commands</tt></em>]</p>
<p>
<a name="IXT-9-123206" />Execute <em class="emphasis">commands</em> on all lines <em class="emphasis">not</em>
containing <em class="emphasis">pattern</em>.  
If <em class="emphasis">commands</em> are not specified, print all such lines.
<tt class="literal">v</tt> is equivalent to <tt class="literal">g!</tt>.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:v/#include/d	<i class="lineannotation">Delete all lines except "#include" lines</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="version">version</a></a></td><td><p><tt class="literal">ve</tt></p>
<p>
<a name="IXT-9-123207" />Print the editor's current version number and date of last change.</p>
</td></tr><tr><td valign="top"><a name="visual">visual</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">vi</tt> [<em class="replaceable">type</em>] [<em class="replaceable">count</tt></em>]</p>
<p>
<a name="IXT-9-123208" />Enter visual mode (<tt class="literal">vi</tt>) at the line specified by
<em class="emphasis">address</em>.  Exit with <tt class="literal">Q</tt>.  <em class="emphasis">type</em> can
be one of <tt class="literal">-</tt>, <tt class="literal">^</tt>, or <tt class="literal">.</tt>  (See the
<tt class="literal">z</tt> command).  <em class="emphasis">count</em> specifies an initial window size.</p>
</td></tr><tr><td valign="top"><a name="visual">visual</a></a></td><td><p><tt class="literal">vi</tt> [<tt class="literal">+</tt> <em class="replaceable"><tt>n</em>] <em class="emphasis">file</tt></em></p>
<p>Begin editing <em class="emphasis">file</em> in visual mode (<tt class="literal">vi</tt>),
optionally at line <em class="emphasis">n</em>.</p>
</td></tr><tr><td valign="top"><a name="write">write</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">w</tt>[<tt class="literal">!</tt>] [[<tt class="literal">&gt;&gt;</tt>] <em class="replaceable">file</tt></em>]</p>
<p>
<a name="IXT-9-123209" />Write lines specified by <em class="emphasis">address</em> to <em class="emphasis">file</em>,
or write full contents of buffer if <em class="emphasis">address</em> is not specified.
If <em class="emphasis">file</em> is also omitted, save the contents of the buffer 
to the current filename.
If <tt class="literal">&gt;&gt;</tt> <em class="emphasis">file</em> is used, write contents to the end of the specified
<em class="emphasis">file</em>.
Add a <tt class="literal">!</tt> to force the editor to write over any current
contents of <em class="emphasis">file</em>.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:1,10w name_list		<i class="lineannotation">Copy first 10 lines to name_list</i>
:50w &gt;&gt; name_list		<i class="lineannotation">Now append line 50</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="write">write</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">w</tt>  <tt class="literal">!</tt><em class="replaceable">command</tt></em></p>
<p>Write lines specified by <em class="emphasis">address</em> to <em class="emphasis">command</em>.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:1,66w !pr -h myfile | lp	<i class="lineannotation">Print first page of file</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="wq">wq</a></a></td><td><p><tt class="literal">wq</tt>[<tt class="literal">!</tt>]</p>
<p>
<a name="IXT-9-123210" />Write and quit the file in one movement.
The file is always written.
The <tt class="literal">!</tt> flag forces 
the editor to write over any current contents of <em class="emphasis">file</em>.</p>
</td></tr><tr><td valign="top"><a name="xit">xit</a></a></td><td><p><tt class="literal">x</tt></p>
<p>
<a name="IXT-9-123211" />Write the file if it was changed since the last write; then quit.</p>
</td></tr><tr><td valign="top"><a name="yank">yank</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">ya</tt> [<em class="replaceable">char</em>] [<em class="replaceable">count</tt></em>]</p>
<p>
<a name="IXT-9-123212" />Place lines specified by <em class="emphasis">address</em> in named buffer <em class="emphasis">char</em>.
If no <em class="emphasis">char</em> is given, place lines in general buffer.
<em class="emphasis">count</em> specifies the number of lines to yank, starting with <em class="emphasis">address</em>.</p>
<h4 class="refsect2">Example</h4><blockquote><pre class="code">:101,200 ya a</pre></blockquote>

</td></tr><tr><td valign="top"><a name="z">z</a></a></td><td><p>[<em class="replaceable"><tt>address</em>] <tt class="literal">z</tt> [<em class="replaceable">type</em>] [<em class="replaceable">count</tt></em>]</p>
<p>
<a name="IXT-9-123213" />Print a window of text with the line specified by <em class="emphasis">address</em> at the top.
<em class="emphasis">count</em> specifies the number of lines to be displayed.</p>
<h4 class="refsect2">Type</h4><dl><dt><tt class="literal">+</tt></dt><dd>Place specified line at the top of the window (default).</p>
</dd>
<dt><tt class="literal">-</tt></dt><dd>Place specified line at the bottom of the window.</p>
</dd>
<dt><tt class="literal">.</tt></dt><dd>Place specified line in the center of the window.</p>
</dd>
<dt><tt class="literal">^</tt></dt><dd>Print the previous window.</p>
</dd>
<dt><tt class="literal">=</tt></dt><dd>Place specified line in the center of the window and leave
the current line at this line.</p>
</dd>
</dl>

</td></tr><tr><td valign="top"><a name="!">!</a></a></td><td><p>[<tt><em class="replaceable"><tt>address</em></tt>] <tt class="literal">!</tt><tt><em class="replaceable">command</tt></em></tt></p>
<p>
<a name="IXT-9-123214" />Execute Unix <em class="emphasis">command</em></tt> in a shell.  If <em class="emphasis">address</em></tt> is specified, apply
the lines contained in <em class="emphasis">address</em></tt> as standard input to <em class="emphasis">command</em></tt>,
and replace the lines with the output and error output.
(This is called <em class="emphasis">filtering</em></tt> the text
through the <em class="emphasis">command</em></tt>.)</p>
<h4 class="refsect2">Examples</h4><blockquote><pre class="code">
:!ls		     <i class="lineannotation">List files in the current directory</i>
:11,20!sort -f	     <i class="lineannotation">Sort lines 11&#8211;20 of current file</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="=">=</a></a></td><td><p>[<tt><em class="replaceable"><tt>address</tt></em></tt>] <tt class="literal">=</tt></p>
<p>
<a name="IXT-9-123215" />Print the line number of the line indicated by <em class="emphasis">address</em></tt>.  
Default is line number of the last line.</p>
</td></tr><tr><td valign="top"><a name="&lt;&#160;&gt;">&lt;&#160;&gt;</a></a></td><td>[<tt><em class="replaceable"><tt>address</em></tt>] <tt class="literal">&lt;</tt> [<tt><em class="replaceable">count</em></tt>]<br>&#160;&#160;&#160;&#160;<b class="emphasis-bold">or</b><br>[<tt><em class="replaceable">address</em></tt>] <tt class="literal">&gt;</tt> [<tt><em class="replaceable">count</tt></em></tt>]
<p>
<a name="IXT-9-123216" />
<a name="IXT-9-123217" />Shift lines specified by <em class="emphasis">address</em></tt>
either left (<tt class="literal">&lt;</tt>) or right (<tt class="literal">&gt;</tt>).
Only leading spaces and tabs are added or removed when shifting lines.
<em class="emphasis">count</em></tt> specifies the number of lines to shift, 
starting with <em class="emphasis">address</em></tt>.
The <tt class="literal">shiftwidth</tt> option controls the number of columns
that are shifted. Repeating the <tt class="literal">&lt;</tt> or
<tt class="literal">&gt;</tt> increases the shift amount.
For example, <tt class="literal">:&gt;&gt;&gt;</tt> shifts three times as
much as <tt class="literal">:&gt;</tt>.</p>
</td></tr><tr><td valign="top"><a name="address">address</a></a></td><td><p><tt><em class="replaceable"><tt>address</tt></em></tt></p>
<p>Print the lines specified in <em class="emphasis">address</em></tt>.</p>
</td></tr><tr><td valign="top"><a name="RETURN">RETURN</a></a></td><td><p />
<p>Print the next line in the file.</p>
</td></tr><tr><td valign="top"><a name="&amp;">&amp;</a></a></td><td><p>[<tt><em class="replaceable"><tt>address</em></tt>] <tt class="literal">&amp;</tt> [<tt><em class="replaceable">options</em></tt>] [<tt><em class="replaceable">count</tt></em></tt>]</p>
<p>
<a name="IXT-9-123218" />Repeat the previous substitute (<tt class="literal">s</tt>) command.
<em class="emphasis">count</em></tt> specifies the number of lines on which to substitute,
starting with <em class="emphasis">address</em></tt>. <em class="emphasis">options</em></tt> are the same as for the substitute command.</p>
<h4 class="refsect2">Examples</h4><blockquote><pre class="code">
:s/Overdue/Paid/	  <i class="lineannotation">Substitute once on current line</i>
:g/Status/&amp;	          <i class="lineannotation">Redo substitution on all &#8220;Status&#8221; lines</i></pre></blockquote>

</td></tr><tr><td valign="top"><a name="~">~</a></a></td><td><p>[<tt><em class="replaceable"><tt>address</em></tt>] <tt class="literal">~</tt> [<tt><em class="replaceable">count</tt></em></tt>]</p>
<p>
<a name="IXT-9-123219" />Replace the last used regular expression (even if from a search, and not
from an <tt class="literal">s</tt> command) with the replacement pattern from
the most recent <tt class="literal">s</tt> (substitute) command.
This is rather obscure;
see Chapter 6 of <em class="citetitle">Learning the vi Editor</em></tt> for details.
<a name="IXT-9-123220" /></p>
</td></tr></table><p>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch10_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">9. The ex Editor</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">10. The sed Editor</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>
