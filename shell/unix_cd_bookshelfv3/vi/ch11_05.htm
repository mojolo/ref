<html><head><title>Multiwindow Editing (Learning the vi Editor, Sixth Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Linda Lamb and Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-426-6" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Learning the vi Editor, Sixth Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Learning the vi Editor" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch11_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch11_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">11.5. Multiwindow Editing</h2>

<p>
<a name="ch11.multiwindow1" />
<a name="ch11.multiwindow2" />
<a name="ch11.multiwindow3" />
<a name="ch11.multiwindow4" />
<a name="ch11.multiwindow6" />
There are a large number of <em class="emphasis">vi</em> mode commands for
manipulating windows, as well as a number of <em class="emphasis">ex</em>
mode commands that correspond to most of the <em class="emphasis">vi</em>
mode commands.</p>

<p>
<a name="IXT-11-281689" />
As in <em class="emphasis">elvis</em>, the <tt class="literal">:split</tt> command
will create a new window, and then you can use the <em class="emphasis">ex</em>
command <tt class="literal">:e</tt> <em class="replaceable"><tt>filename</tt></em> to
edit a new file in the new window. Also as in <em class="emphasis">elvis</em>,
<a name="IXT-11-281690" />
<span class="keycap">CTRL-W</span><span class="keycap">CTRL-W</span> will let you switch
back and forth between windows.</p>


<blockquote><pre class="code">&lt;preface id="VI6-CH-0"&gt;
&lt;title&gt;Preface &lt;/title&gt;

&lt;para&gt;
Text editing is one of the most common uses of any computer system, and
&lt;command&gt;vi&lt;/command&gt; is one of the most useful standard text editors
on your system.
With &lt;command&gt;vi&lt;/command&gt; you can create new files, or edit any
existing UNIX text
file.
<?troff .nr boxwidth 86n?>
<em class="emphasis">ch00.sgm                                                                        </em>
# Makefile for vi book
#
# Arnold Robbins

CHAPTERS = ch00_6.sgm ch00_5.sgm ch00.sgm ch01.sgm ch02.sgm ch03.sgm \
	ch04.sgm ch05.sgm ch06.sgm ch07.sgm ch08.sgm
APPENDICES = appa.sgm appb.sgm appc.sgm appd.sgm

POSTSCRIPT = ch00_6.ps ch00_5.ps ch00.ps ch01.ps ch02.ps ch03.ps \
	ch04.ps ch05.ps ch06.ps ch07.ps ch08.ps \
<?troff .nr boxwidth 86n?>
<em class="emphasis">Makefile</em></pre></blockquote>

<p>The split screen is the result of typing
<tt class="literal">vim ch00.sgm</tt> followed by
<tt class="literal">:split Makefile</tt>.</p>

<p>Unlike <em class="emphasis">nvi</em> and <em class="emphasis">elvis</em>, all windows
share the bottom line of the screen
for execution of <em class="emphasis">ex</em> commands.
However, the status line for each file displays <tt class="literal">[+]</tt>
if that file has been modified.
Options control the use of reverse video versus highlighting for the
status line, as well as whether the bottom window even has one.
By default, the bottom window has a status line when there's
more than one window.</p>

<p><a href="ch11_05.htm#vi6-ch-11-tab-1">Table 11.1</a> describes the most important
<em class="emphasis">vim</em> window management commands.</p>

<a name="vi6-ch-11-tab-1" /><h4 class="objtitle">Table 11.1. vim Window Management Commands</h4><table border="1" cellpadding="3">

<tr>
<th>Command</th>
<th>Function</th>
</tr>




<tr>
<td>[<em class="replaceable"><tt>N</em>]<tt class="literal">sp</tt>[<tt class="literal">lit</tt>] [<em class="replaceable">position</em>] [<em class="replaceable">file</tt></em>]</td>
<td><p>Splits the current window into two.
<em class="emphasis">N</em>
is the height of the new window. <em class="emphasis">position</em> indicates
<a name="IXT-11-281691" />
where in the file to position the cursor.
If <em class="emphasis">file</em> is given, edit it in the new window,
instead of the current file.</p></td>
</tr>

<tr>
<td>[<em class="replaceable"><tt>N</em>]<tt class="literal">new</tt> [<em class="replaceable">position</em>] [<em class="replaceable">file</tt></em>]</td>
<td><p>Creates a new window, editing an empty buffer.
<a name="IXT-11-281692" />
If <em class="emphasis">file</em> is given, edit it instead of the
empty buffer.
<em class="emphasis">N</em> and <em class="emphasis">position</em> are
the same as for <tt class="literal">:split</tt>.</p></td>
</tr>

<tr>
<td>[<em class="replaceable"><tt>N</em>]<tt class="literal">sv</tt>[<tt class="literal">iew</tt>] [<em class="replaceable">position</em>] [<em class="replaceable">file</tt></em>]</td>
<td><p>Same as <tt class="literal">:split</tt>, but set the
<a name="IXT-11-281693" />
<tt class="literal">readonly</tt> option for the buffer.</p></td>
</tr>

<tr>
<td><tt class="literal">q</tt>[<tt class="literal">uit</tt>][<tt class="literal">!</tt>]</td>
<td><p>Quit the current window
(exit if given in the last window).
<a name="IXT-11-281694" />
If this is the last window on a changed buffer, the command fails,
unless the <tt class="literal">!</tt> is given, in which case the changes are
lost.
When the <tt class="literal">hidden</tt> option is set, the buffer is not
freed, even with <tt class="literal">!</tt>.</p></td>
</tr>

<tr>
<td><tt class="literal">clo</tt>[<tt class="literal">se</tt>][<tt class="literal">!</tt>]</td>
<td><p>Close the current window.
Setting the <tt class="literal">hidden</tt> option will just hide an unsaved
<a name="IXT-11-281695" />
buffer; if not set, the command fails.
If supplied, the trailing <tt class="literal">!</tt> forces
the window to be closed, even if it is the last window and the
buffer was modified.</p></td>
</tr>

<tr>
<td><tt class="literal">hid</tt>[<tt class="literal">e</tt>]</td>
<td><p>Close the current window,
<a name="IXT-11-281696" />
if it is not the last one on
the screen. The buffer becomes hidden if this was the last window
open upon the buffer.</p></td>
</tr>

<tr>
<td><tt class="literal">on</tt>[<tt class="literal">ly</tt>][<tt class="literal">!</tt>]</td>
<td><p>Make this window the only one on the screen.
Other windows with changes are not closed, unless <tt class="literal">hidden</tt>
<a name="IXT-11-281697" />
is set or <tt class="literal">!</tt> is used.
In any case, changes are never lost; the other buffers become hidden,
but they are not discarded.</p></td>
</tr>

<tr>
<td><tt class="literal">res</tt>[<tt class="literal">ize</tt>] [&#177;<em class="replaceable"><tt>n</tt></em>]</td>
<td><p>Increase or decrease the current
<a name="IXT-11-281698" />
window height by <em class="emphasis">n</em>.</p></td>
</tr>

<tr>
<td><tt class="literal">res</tt>[<tt class="literal">ize</tt>] [<em class="replaceable"><tt>n</tt></em>]</td>
<td><p>Set the current window height
to <em class="emphasis">n</em> if supplied,
otherwise, set it to the largest size possible without hiding
the other windows.</p></td>
</tr>

<tr>
<td><tt class="literal">qa</tt>[<tt class="literal">ll</tt>][<tt class="literal">!</tt>]</td>
<td><p>Exit <em class="emphasis">vim</em>.
<a name="IXT-11-281699" />
The <tt class="literal">!</tt> forces
an exit, even if some buffers have been modified
but not saved.</p></td>
</tr>


<tr>
<td><tt class="literal">wqa</tt>[<tt class="literal">ll</tt>][<tt class="literal">!</tt>]</td>
<td rowspan="1"><p>Write all changed buffers and exit.
The <tt class="literal">!</tt>
<a name="IXT-11-281700" />
forces a write of <tt class="literal">readonly</tt> buffers.  <em class="emphasis">vim</em>
will not exit if any buffer cannot be written.</p></td>
</tr>

<tr>
<td><tt class="literal">xa</tt>[<tt class="literal">ll</tt>][<tt class="literal">!</tt>]</td>
</tr>


<tr>
<td><tt class="literal">wa</tt>[<tt class="literal">ll</tt>][<tt class="literal">!</tt>]</td>
<td><p>Write all modified buffers that have
filenames.
<a name="IXT-11-281701" />
The <tt class="literal">!</tt> forces a write of <tt class="literal">readonly</tt>
buffers.</p></td>
</tr>

<tr>
<td>[<em class="replaceable"><tt>N</tt></em>]<tt class="literal">sn</tt>[<tt class="literal">ext</tt>]</td>
<td><p>Split the window and move to the next file
<a name="IXT-11-281702" />
in the argument list,
or to the <em class="emphasis">N</em>th file if a count
is supplied.</p></td>
</tr>

<tr>
<td><tt class="literal">sta</tt>[<tt class="literal">g</tt>] [<em class="replaceable"><tt>tagname</tt></em>]</td>
<td><p>Split the window and then run the
<tt class="literal">:tag</tt>
<a name="IXT-11-281703" />
command as appropriate in the new window.</p></td>
</tr>


</table><p><p>

<p>There are many
more commands for managing the argument list and the list of open buffers.
<a name="IXT-11-281704" />
For example, the <tt class="literal">:all</tt> command creates one window for
each command line argument.
See the <em class="emphasis">vim</em> online
help for details.
We have included just the most useful of the commands in the above table.</p>

<p>As <em class="emphasis">vim</em> has the most <em class="emphasis">ex</em> commands,
so too it has the most <em class="emphasis">vi</em> mode commands, as shown
in <a href="ch11_05.htm#vi6-ch-11-tab-2">Table 11.2</a>. As with most <em class="emphasis">vi</em>
commands, you can prefix many of the windowing commands with a count.</p>

<a name="vi6-ch-11-tab-2" /><h4 class="objtitle">Table 11.2. vim Window Commands from vi Mode</h4><table border="1" cellpadding="3">

<tr>
<th>Command</th>
<th>Function</th>
</tr>




<tr>
<td><tt class="literal">^W s</tt></td>
<td rowspan="2"><p>Same as
<tt class="literal">:split</tt> without a
<em class="emphasis">file</em> argument.
<a name="ch11.wcommand" />
<tt class="literal">^W ^S</tt> may not work on
all terminals.</p></td>
</tr>

<tr>
<td><tt class="literal">^W S</tt></td>
</tr>

<tr>
<td><tt class="literal">^W ^S</tt></td>
</tr>


<tr>
<td><tt class="literal">^W n</tt></td>
<td rowspan="1"><p>Same as
<tt class="literal">:new</tt> without a
<em class="emphasis">file</em> argument.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^N</tt></td>
</tr>


<tr>
<td><tt class="literal">^W ^</tt></td>
<td rowspan="1"><p>Perform
<tt class="literal">:split #</tt>, split the window and edit the
alternate file. With a count, edit the <em class="emphasis">n</em>th
buffer.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^^</tt></td>
</tr>


<tr>
<td><tt class="literal">^W q</tt></td>
<td rowspan="1"><p>Same as the
<tt class="literal">:quit</tt>
command. <tt class="literal">^W ^Q</tt> may not work
on all terminals.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^Q</tt></td>
</tr>


<tr>
<td><tt class="literal">^W c</tt></td>
<td><p>Same as the
<tt class="literal">:close</tt> command.</p></td>
</tr>


<tr>
<td><tt class="literal">^W o</tt></td>
<td rowspan="1"><p>Like the
<tt class="literal">:only</tt> command.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^O</tt></td>
</tr>


<tr>
<td><tt class="literal">^W &lt;DOWN&gt;</tt></td>
<td rowspan="2"><p>Move cursor
to <em class="emphasis">n</em>th
window below the current one.
<em class="emphasis">n</em> is supplied as a prefix argument.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^J</tt></td>
</tr>

<tr>
<td><tt class="literal">^W j</tt></td>
</tr>


<tr>
<td><tt class="literal">^W &lt;UP&gt;</tt></td>
<td rowspan="2"><p>Move
cursor to <em class="emphasis">n</em>th
window above the current one.
<em class="emphasis">n</em> is supplied as a prefix argument.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^K</tt></td>
</tr>

<tr>
<td><tt class="literal">^W k</tt></td>
</tr>


<tr>
<td><tt class="literal">^W w</tt></td>
<td rowspan="1"><p>With count,
go to <em class="emphasis">n</em>th
window. Otherwise, move to the window below the current one.
If in the bottom window, move to the top one.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^W</tt></td>
</tr>


<tr>
<td><tt class="literal">^W W</tt></td>
<td><p>With count,
go to <em class="emphasis">n</em>th
window. Otherwise, move to window above the current one.
If in the top window, move to the bottom one.</p></td>
</tr>


<tr>
<td><tt class="literal">^W t</tt></td>
<td rowspan="1"><p>Move the
cursor to the top window.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^T</tt></td>
</tr>


<tr>
<td><tt class="literal">^W b</tt></td>
<td rowspan="1"><p>Move the
cursor to the bottom window.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^B</tt></td>
</tr>


<tr>
<td><tt class="literal">^W p</tt></td>
<td rowspan="1"><p>Go to
the most recently accessed (previous)
window.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^P</tt></td>
</tr>


<tr>
<td><tt class="literal">^W r</tt></td>
<td rowspan="1"><p>Rotate
all the windows downwards.
The cursor stays in the same window.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^R</tt></td>
</tr>


<tr>
<td><tt class="literal">^W R</tt></td>
<td><p>Rotate all the windows upwards.
The cursor stays in the same window.</p></td>
</tr>


<tr>
<td><tt class="literal">^W x</tt></td>
<td rowspan="1"><p>Without count,
exchange the current window with the next one. If there
is no next window, exchange with the previous window.
With count, exchange the current window with the
<em class="emphasis">n</em>th window (first
window is 1). The cursor is put in the other window.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^X</tt></td>
</tr>


<tr>
<td><tt class="literal">^W =</tt></td>
<td><p>Make all windows
the same height.</p></td>
</tr>


<tr>
<td><tt class="literal">^W -</tt></td>
<td><p>Decrease current window height.
A preceding count indicates by how much.</p></td>
</tr>


<tr>
<td><tt class="literal">^W +</tt></td>
<td><p>Increase current window height.
A preceding count indicates by how much.</p></td>
</tr>


<tr>
<td><tt class="literal">^W _</tt></td>
<td rowspan="1"><p>Set the current
window size to the value given in a preceding count.
This is like <tt class="literal">:resize</tt> with an absolute count.
Without a count, the window is made as large as possible.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^_</tt></td>
</tr>


<tr>
<td><tt class="literal">z</tt><em class="replaceable"><tt>N</tt></em><span class="keycap">RETURN</span></td>
<td><p>Set the current window
height to <em class="emphasis">N</em>.</p></td>
</tr>


<tr>
<td><tt class="literal">^W ]</tt></td>
<td rowspan="1"><p>Split the
current window. In the new
upper window, use the identifier under the cursor as a tag and go to it.
A preceding count indicates the new window's height.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^]</tt></td>
</tr>


<tr>
<td><tt class="literal">^W f</tt></td>
<td rowspan="1"><p>Split the
current window, and edit the file
name under the cursor in the new window.
Rather complicated file searching is done for this command, see
<tt class="literal">:help ^W_f</tt>
for details.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^F</tt></td>
</tr>


<tr>
<td><tt class="literal">^W i</tt></td>
<td rowspan="1"><p>Open a new
window and in it, move the
cursor to the first line that matches the keyword under the cursor.
The search starts at the beginning of the file, and lines that look
like comments are ignored. With a preceding count, go to the
<em class="emphasis">n</em>th matching line, and don't
ignore comments.


</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^I</tt></td>
</tr>


<tr>
<td><tt class="literal">^W d</tt></td>
<td rowspan="1"><p>Open a new window,
with the cursor on the first
macro definition line that contains the keyword
under the cursor. The search starts from the
beginning of the file. If a count is given, the
<em class="emphasis">count</em>th matching line is jumped to.</p></td>
</tr>

<tr>
<td><tt class="literal">^W ^D</tt></td>
</tr>



</table><p><p>

<p>Miscellaneous remarks:
The command <tt class="literal">^W ^C</tt> does not close the
current window, since usually <tt class="literal">^C</tt> is the
interrupt character, which ends up cancelling the command.
If mouse support is enabled and you are using the GUI version of
<em class="emphasis">vim</em>, you can resize a window by dragging on its
status line with the mouse.
Finally, <em class="emphasis">vim</em> has <em class="emphasis">many</em> options
that control the behavior of the various commands.
In particular, check out the <tt class="literal">hidden</tt>,
<tt class="literal">splitbelow</tt>, <tt class="literal">equalalways</tt>,
<tt class="literal">winheight</tt>, and <tt class="literal">cmdheight</tt> options.
See the online help for full details.
<a name="IXT-11-281705" /></p>

<a name="IXT-11-281706" />
<a name="IXT-11-281707" />
<a name="IXT-11-281708" />
<a name="IXT-11-281709" />
<a name="IXT-11-281710" />


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch11_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch11_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">11.4. Initialization</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">11.6. GUI Interfaces</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>