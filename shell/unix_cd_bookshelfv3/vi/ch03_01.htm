<html><head><title>Moving Around
in a Hurry (Learning the vi Editor, Sixth Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Linda Lamb and Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-426-6" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Learning the vi Editor, Sixth Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Learning the vi Editor" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch03_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>


<h1 class="chapter">Chapter 3. Moving Around
 in a Hurry</h1>
<div class="htmltoc"><h4 class="tochead">Contents:</h4><p>
<a href="ch03_01.htm#sect1">Movement by Screens </a><br />
<a href="ch03_02.htm">Movement by Text Blocks </a><br />
<a href="ch03_03.htm">Movement by Searches </a><br />
<a href="ch03_04.htm">Movement by Line Number </a><br />
<a href="ch03_05.htm">Review of vi Motion Commands</a><br /></p></div><p>You will not use <em class="emphasis">vi</em> just to create new files.
You'll spend a lot of your time in <em class="emphasis">vi</em> editing existing files.
You rarely want to simply open to the first line in the file and
move through it line by line.
You want to get to a specific place in a file and start work.</p><p>All edits begin by moving the cursor to where you want to begin the edit
(or, with <em class="emphasis">ex</em> line editor commands, by identifying the line
numbers to be edited).
This chapter shows you how to think about
movement in a variety of ways (by screens, by text, by patterns, or by
line numbers).
There are many ways to move in <em class="emphasis">vi</em>, since editing
speed depends on getting to your destination with only a few keystrokes.</p><p>This chapter covers:</p><ul><li><p>Movement by screens</p></li><li><p>Movement by text blocks</p></li><li><p>Movement by searches for patterns</p></li><li><p>Movement by line number</p></li></ul><div class="sect1"><a name="vi6-ch-3-sect-1" />
<h2 class="sect1"><a name="sect1" />3.1. Movement by Screens </h2>

<?troff .wcon_off?><p> 
When you read a book, you think of "places" in the book by page: the page
where you stopped reading or the page number in an index. You don't have
this convenience when you're editing files.
Some files take up only a few lines, and you can see the
whole file at once.
But many files have hundreds of lines.</p>

<p>You can think of a file as text on a long roll of paper.
The screen is a window of (usually) 24 lines of text on that long roll.</p>

<p>
<a name="ch03.scroll1" />
<a name="ch03.scroll2" />
In insert mode, as you fill up the screen with text, you will end
up typing on the bottom line of the screen.
When you reach the end and press
<span class="keycap">RETURN</span>,
the top line rolls out of sight, and a
blank line appears on the bottom of the screen for new text. 
This is called scrolling.</p>

<p>In command mode, you can move through a file to see any text in it
by scrolling the screen ahead or back. And, since
cursor movements can be multiplied by numeric prefixes,
you can move quickly to anywhere in your file.</p>

<a name="vi6-ch-3-sect-1.1" /><div class="sect2">
<h3 class="sect2">3.1.1. Scrolling the Screen </h3>

<p>
<a name="IXT-3-280569" />
<a name="IXT-3-280570" />
<img src="figs/VI.icon.ctrl.gif" alt="Figure " width="48" /><img src="figs/VI.icon.capf.gif" alt="Figure " width="30" />
There are <em class="emphasis">vi</em> commands to scroll forward and backward through
the file by full and half screens:</p>


<dl>
<dt><tt class="literal">^F</tt></dt>
</dt><dd>Scroll forward one screen.</p></dd>


<dt><tt class="literal">^B</tt></dt>
</dt><dd>Scroll backward one screen.</p></dd>


<dt><tt class="literal">^D</tt></dt>
</dt><dd>Scroll forward half screen (down).</p></dd>


<dt><tt class="literal">^U</tt></dt>
</dt><dd>Scroll backward half screen (up).</p></dd>

</dl>


<p>(In the list of commands above, the <tt class="literal">^</tt> symbol represents the
<span class="keycap">CTRL</span>
key.  <tt class="literal">^F</tt> means to hold down the
<span class="keycap">CTRL</span>
key and press the <tt class="literal">f</tt> key simultaneously.)</p>

<p>
<a name="IXT-3-280571" />
There are also
commands to scroll the screen up one line (<tt class="literal">^E</tt>) and down one line
(<tt class="literal">^Y</tt>).
However, these two commands do not send the cursor to the beginning
of the line.
The cursor remains at the same point in the line as when the command
was issued.


</p>

<a name="IXT-3-280572" />
<a name="IXT-3-280573" />
</div>




<a name="vi6-ch-3-sect-1.2" /><div class="sect2">
<h3 class="sect2">3.1.2. Repositioning the Screen with z </h3>

<p>
<a name="IXT-3-280574" />
<a name="IXT-3-280575" />
<a name="IXT-3-280576" />
<a name="IXT-3-280577" />
<img src="figs/VI.icon.lcz.gif" alt="Figure " width="30" />
If you want to scroll the screen up or down, but you want the cursor
to remain on the line where you left it, use the <tt class="literal">z</tt> command.</p>

<table border="1" cellpadding="3">

<tr>
<td><tt class="literal">z</tt><span class="keycap">RETURN</span></td>
<td><p>Move current line to top of screen and scroll.</p></td>
</tr>

<tr>
<td><tt class="literal">z.</tt></td>
<td><p>Move current line to center of screen and scroll.</p></td>
</tr>

<tr>
<td><tt class="literal">z-</tt></td>
<td><p>Move current line to bottom of screen and scroll.</p></td>
</tr>


</table><p><p>
<p>
With the <tt class="literal">z</tt> command, using a numeric prefix as a
multiplier makes no sense. (After all, you would need to
reposition the cursor to the top of the screen only
once. Repeating the same <tt class="literal">z</tt> command wouldn't
move anything.)
Instead, <tt class="literal">z</tt> understands a numeric prefix as a
line number that it will use in place of the current
line. For example, <tt class="literal">z</tt>
<span class="keycap">RETURN</span>
moves the current line to the top of the screen, but
<tt class="literal">200z</tt>
<span class="keycap">RETURN</span>
moves line 200 to the top of the screen.</p>
</div>




<a name="vi6-ch-3-sect-1.3" /><div class="sect2">
<h3 class="sect2">3.1.3. Redrawing the Screen </h3>

<p>
<a name="IXT-3-280578" />
<a name="IXT-3-280579" />
<img src="figs/VI.icon.ctrl.gif" alt="Figure " width="48" /><img src="figs/VI.icon.capl.gif" alt="Figure " width="30" />
Sometimes while you're editing, messages from your computer
system will display on your screen. These messages don't
become part of your editing buffer, but they do interfere with your
work. When system messages appear on your screen, you need to
redisplay, or redraw, the screen.</p>

<p>Whenever you scroll, you redraw part of (or all of) the screen,
so you can always get rid of unwanted
messages by scrolling them off the screen and then returning to
your previous position.
But you can also
redraw the screen without scrolling,
by typing
<a name="IXT-3-280580" />
<span class="keycap">CTRL-L</span>.
</p>
</div>




<a name="vi6-ch-3-sect-1.4" /><div class="sect2">
<h3 class="sect2">3.1.4. Movement Within a Screen </h3>

<p>
<a name="IXT-3-280581" />
<a name="ch03.movescreen1" />
<a name="ch03.movescreen2" />
<a name="IXT-3-280582" />
<img src="figs/VI.icon.caph.gif" alt="Figure " width="30" />
You can also keep your current screen, or view of the file, and
move around within the screen using:</p>

<dl>
<dt><tt class="literal">H</tt></dt><dd>Move to home&#8212;top line on screen.
<a name="IXT-3-280583" />
<a name="IXT-3-280584" />
<a name="IXT-3-280585" /></p></dd>


<dt><tt class="literal">M</tt></dt><dd>Move to middle line on screen.
<a name="IXT-3-280586" />
<a name="IXT-3-280587" /></p></dd>


<dt><tt class="literal">L</tt></dt><dd>Move to last line on screen.
<a name="IXT-3-280588" />
<a name="IXT-3-280589" /></p></dd>


<dt><i><tt><em class="replaceable"><tt>n</em></tt><tt class="literal">H</tt></i></dt><dd>Move to <em class="emphasis">n</tt></em></tt> lines below top line.</p></dd>


<dt><i><tt><em class="replaceable"><tt>n</em></tt><tt class="literal">L</tt></i></dt><dd>Move to <em class="emphasis">n</tt></em></tt> lines above last line.</p></dd>

</dl>

<p><tt class="literal">H</tt> moves the cursor from anywhere on the screen to the
first, or "home," line.
<tt class="literal">M</tt> moves to the middle line, <tt class="literal">L</tt> to the last.
To move to the line below the first line, use <tt class="literal">2H</tt>.</p>

<table border="1" cellpadding="3">

<tr>
<th>Keystrokes</th>
<th>Results</th>
</tr>




<tr>
<td><tt class="literal">L</tt></td>
<?graphic_args "" "" 1.19 -.35?>
<td><img src="figs/vi.0301.gif" alt="Figure " width="334" /><p>
<?troff .sp -1v?>Move to the last line of the screen with the
<tt class="literal">L</tt> command.</p></td>
</tr>

<?troff .sp .5v?>
<?troff .ND 10?><tr>
<td><tt class="literal">2H</tt></td>
<?graphic_args "" "" 1.19 -.35?>
<td><img src="figs/vi.0302.gif" alt="Figure " width="334" /><p>
<?troff .sp -1v?>Move to the second line of the screen with the <tt class="literal">2H</tt> command.
(<tt class="literal">H</tt> alone moves to the top line of the screen.)</p></td>
</tr>


</table><p><p>
</div>




<a name="vi6-ch-3-sect-1.5" /><div class="sect2">
<h3 class="sect2">3.1.5. Movement by Line </h3>


<p>
<a name="ch03.movelines" />
<a name="IXT-3-280590" />
<img src="figs/VI.icon.return.gif" alt="Figure " width="68" />
Within the current screen there are also commands to move by line.
<a name="IXT-3-280591" />
<a name="IXT-3-280592" />
You've already seen <tt class="literal">j</tt> and <tt class="literal">k</tt>.
You can also use:</p>

<table border="1" cellpadding="3">

<tr>
<td><span class="keycap">RETURN</span></td>
<td><p>Move to first character of next line.</p></td>
</tr>

<tr>
<td><tt class="literal">+</tt></td>
<td><p>Move to first character of next line.
<a name="IXT-3-280593" />
<a name="IXT-3-280594" /></p></td>
</tr>

<tr>
<td><tt class="literal">-</tt></td>
<td><p>Move to first character of previous line.
<a name="IXT-3-280595" />
<a name="IXT-3-280596" />
<a name="IXT-3-280597" />
<a name="IXT-3-280598" /></p></td>
</tr>


</table><p>The above three commands move down or up to the first
<em class="emphasis">character</em></tt> of the line, ignoring any spaces or tabs.
<tt class="literal">j</tt> and <tt class="literal">k</tt>, by contrast, move the cursor down or up to
the first position of a line, even if that position is blank (and
assuming that the cursor started at the first position).</p>

<a name="vi6-ch-3-sect-1.5.1" /><div class="sect3">
<h3 class="sect3">3.1.5.1. Movement on the current line</h3>

<p>
<a name="IXT-3-280599" />
<a name="IXT-3-280600" />
<a name="IXT-3-280601" />
<a name="IXT-3-280602" />
<a name="IXT-3-280603" />
Don't forget that <tt class="literal">h</tt> and <tt class="literal">l</tt> move the cursor to the left
and right and that <tt class="literal">0</tt> and <tt class="literal">$</tt> move the cursor to the
beginning or end of the line. You can also use:</p>

<dl>
<dt><tt class="literal">^</tt></dt><dd>Move to first non-blank character of current line.
<a name="IXT-3-280604" />
<a name="IXT-3-280605" /></p></dd>


<dt><i><tt><em class="replaceable"><tt>n</em></tt><tt class="literal">|</tt></i></dt><dd>Move to column <em class="emphasis">n</tt></em></tt> of current line.
<a name="IXT-3-280606" />
<a name="IXT-3-280607" /></p></dd>

</dl>

<p>As with the line movement commands above,
<tt class="literal">^</tt> moves to the first <em class="emphasis">character</em></tt>
of the line, ignoring any spaces or tabs.
<tt class="literal">0</tt>, by contrast, moves to the first position of the line, even if
that position is blank.</p>
</div>


<a name="IXT-3-280608" />
<a name="IXT-3-280609" />
<a name="IXT-3-280610" />
</div>
</div>

<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch03_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">2.6. Review of Basic vi Commands </td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">3.2. Movement by Text Blocks </td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
      </map>

</body></html>