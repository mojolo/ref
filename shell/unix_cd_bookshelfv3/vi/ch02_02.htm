<html><head><title>Moving the Cursor (Learning the vi Editor, Sixth Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Linda Lamb and Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-426-6" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Learning the vi Editor, Sixth Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Learning the vi Editor" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch02_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">2.2. Moving the Cursor</h2>

<p>
<a name="ch02.movecursor" />
<a name="ch02.movecursor2" />
You may spend only a small amount of time in an editing session adding
new text in insert mode; much of the time you will
be making edits to existing text.</p>

<p>In command mode you can position the cursor anywhere in the file.
Since you begin all basic edits (changing, deleting, and copying text)
by placing the cursor at the text that you want to change, you want to
be able to move the cursor to that place as quickly as possible.</p>

<p>There are <em class="emphasis">vi</em> commands to move the cursor:</p>

<ul><li><p>Up, down, left, or right&#8212;one <em class="emphasis">character</em> at a time</p></li><li><p>Forward or backward by blocks of <em class="emphasis">text</em> such as
words, sentences, or paragraphs</p></li><li><p>Forward or backward through a file, one <em class="emphasis">screen</em> at a time</p></li></ul><p>In <a href="ch02_02.htm#vi6-ch-2-fig-0">Figure 2.1</a>,
an underscore marks the present cursor position.
Circles show movement of the cursor from its current position
to the position that would result from various <em class="emphasis">vi</em> commands.</p>

<a name="vi6-ch-2-fig-0" /><div class="figure"><img src="figs/vi_6.fig.0201.gif" alt="Figure 2.1" width="503" /></div><h4 class="objtitle">Figure 2.1. Sample movement commands</h4>
<a name="vi6-ch-2-sect-2.1" /><div class="sect2">
<h3 class="sect2">2.2.1. Single Movements </h3>

<p>
<a name="IXT-2-280346" />
<a name="IXT-2-280347" />
<a name="IXT-2-280348" />
<a name="IXT-2-280349" />
<a name="IXT-2-280350" />
The keys <tt class="literal">h</tt>, <tt class="literal">j</tt>, <tt class="literal">k</tt>, and <tt class="literal">l</tt>, right under your
fingertips, will move the cursor:</p>

<dl>
<dt><tt class="literal">h</tt></dt><dd>left, one space</p></dd>


<dt><tt class="literal">j</tt></dt><dd>down, one line</p></dd>


<dt><tt class="literal">k</tt></dt><dd>up, one line</p></dd>


<dt><tt class="literal">l</tt></dt><dd>right, one space</p></dd>

</dl>

<p>
<a name="IXT-2-280351" />
You can also use the cursor arrow keys (<img src="figs/U2190.gif" alt="Figure " />,
<img src="figs/U2193.gif" alt="Figure " />, <img src="figs/U2191.gif" alt="Figure " />, <img src="figs/U2192.gif" alt="Figure " />),
<a name="IXT-2-280352" />
<a name="IXT-2-280353" />
<a name="IXT-2-280354" />
<a name="IXT-2-280355" />
<a name="IXT-2-280356" />
<a name="IXT-2-280357" />
<tt class="literal">+</tt> and <tt class="literal">-</tt> to go up and down,
or the <span class="keycap">RETURN</span> and <span class="keycap">BACKSPACE</span> keys,
but they are out of the way,
and the arrow keys are not supported by all terminals.
At first, it may seem awkward to use letter keys instead of arrows for cursor
movement. After a short while, though, you'll find it is one of the things
you'll like best about <em class="emphasis">vi</em>&#8212;you can move around without ever taking
your fingers off the center of the keyboard.</p>

<p>Before you move the cursor, press
<span class="keycap">ESC</span> to make sure that you are in command mode.
Use <tt class="literal">h</tt>, <tt class="literal">j</tt>, <tt class="literal">k</tt>, and <tt class="literal">l</tt> to move
forward or backward in the file from the current cursor position.
When you have gone as far as possible in one direction, you hear a beep
and the cursor stops.
For example, once you're at the beginning or end of a line,
you cannot use <tt class="literal">h</tt> or <tt class="literal">l</tt> to wrap around to the previous or
next line; you have to use <tt class="literal">j</tt>
or&#160;<tt class="literal">k</tt>.<a href="#FOOTNOTE-6">[6]</a>
Similarly, you cannot move the cursor past a tilde (~) representing a line
without text, nor can you move the cursor above the first line of
text.</p><blockquote class="footnote">

<a name="FOOTNOTE-6" /><p> [6]<em class="emphasis">vim</em> version 4.x, and <em class="emphasis">vim</em>
version 5.x with <tt class="literal">nocompatible</tt> set,
allow you to "space past" the end of the line to
the next one with <tt class="literal">l</tt> or the spacebar.</p>

</blockquote>
</div>




<a name="vi6-ch-2-sect-2.2" /><div class="sect2">
<h3 class="sect2">2.2.2. Numeric Arguments </h3>

<p>
<a name="IXT-2-280358" />
<a name="IXT-2-280359" />
You can precede movement commands with numbers.
<a href="ch02_02.htm#vi6-ch-2-fig-1">Figure 2.2</a>
shows how the command <tt class="literal">4l</tt> moves
the cursor four spaces to the right, just as if you had typed <tt class="literal">l</tt>
four times (<tt class="literal">llll</tt>).</p>

<a name="vi6-ch-2-fig-1" /><div class="figure"><img src="figs/vi_6.fig.0202.gif" alt="Figure 2.2" width="503" /></div><h4 class="objtitle">Figure 2.2. Multiplying commands by numbers</h4><p>The ability to multiply commands gives you more
options and power for each command you learn.
Keep it in mind as you are introduced to additional commands.</p>
</div>




<a name="vi6-ch-2-sect-2.3" /><div class="sect2">
<h3 class="sect2">2.2.3. Movement Within a Line </h3>

<p>
<a name="IXT-2-280360" />
When you saved the file <em class="filename">practice</em>, <em class="emphasis">vi</em> displayed a
message
telling you how many lines are in that file.
A <em class="emphasis">line</em> is not necessarily the same length as the visible line
(often limited to 80 characters) that appears on the screen.
A line is any text entered between newlines. (A <em class="emphasis">newline</em>
<a name="IXT-2-280361" />
<a name="IXT-2-280362" />
<a name="IXT-2-280363" />
character is inserted into the file when you press the
<span class="keycap">RETURN</span> key in insert mode.)
If you type 200 characters before pressing
<span class="keycap">RETURN</span>, <em class="emphasis">vi</em> regards all 200 characters as a single line (even though
those 200 characters visibly take up several lines on the
screen).</p>

<p>As we mentioned, <em class="emphasis">vi</em> has an option
that allows you to set
a distance from the right margin at which <em class="emphasis">vi</em> will automatically
<a name="IXT-2-280364" />
<a name="IXT-2-280365" />
<a name="IXT-2-280366" />
<a name="IXT-2-280367" />
insert a newline character. This option is <tt class="literal">wrapmargin</tt>
(its abbreviation is <tt class="literal">wm</tt>). You can set a wrapmargin
at 10 characters:</p>

<blockquote><pre class="code">:set wm=10</pre></blockquote>

<p>This command doesn't affect lines that you've already typed.
We'll talk more about setting options in <a href="ch07_01.htm">Chapter 7</a>.
(This one really couldn't wait!)</p>

<p>If you do not use <em class="emphasis">vi</em>'s
automatic <tt class="literal">wrapmargin</tt> option, you should break
lines with carriage returns to keep the lines of manageable length.</p>


<p><img src="figs/VI.icon.zero.gif" alt="Figure " width="30" />
<a name="IXT-2-280368" />
Two useful commands that involve movement within a line are:</p>

<dl>
<dt><tt class="literal">0</tt></dt><dd>
<a name="IXT-2-280369" />
Move to beginning of line.</p></dd>


<dt><tt class="literal">$</tt></dt><dd>
<a name="IXT-2-280370" />
<a name="IXT-2-280371" />
Move to end of line.</p></dd>

</dl>

<a name="IXT-2-280372" />
<a name="IXT-2-280374" />
<a name="IXT-2-280373" />
<p>
In the example below, line numbers are displayed. (Line numbers can be displayed in <em class="emphasis">vi</em> by using the
<tt class="literal">number</tt> option, which is enabled by typing <tt class="literal">:set</tt>
<tt class="literal">nu</tt> in 
command mode.
This operation is described in <a href="ch07_01.htm">Chapter 7</a>.)
</p>

<img src="figs/vi.0201.gif" alt="Figure 2.2.3" width="335" />

<p><img src="figs/VI.icon.money.gif" alt="Figure " width="30" />
The number of logical lines (3) does
not correspond to the number of visible lines (6) that you see on the
screen. If the cursor were positioned on the <em class="emphasis">d</em>
in the word <em class="emphasis">delete</em>, and you entered
<tt class="literal">$</tt>, the cursor would move to the period following
the word <em class="emphasis">them</em>. If you entered <tt class="literal">0</tt>,
the cursor would move back to the letter <em class="emphasis">m</em>
in the word <em class="emphasis">move</em>, at the beginning of line two.</p>
</div>




<a name="vi6-ch-2-sect-2.4" /><div class="sect2">
<h3 class="sect2">2.2.4. Movement by Text Blocks </h3>

<p>
<a name="IXT-2-280375" />
<a name="IXT-2-280376" />
<a name="IXT-2-280377" />
<img src="figs/VI.icon.lcw.gif" alt="Figure " width="30" /> 
You can also move the cursor by blocks of text: words,
sentences, paragraphs, etc.
<a name="IXT-2-280378" />
<a name="IXT-2-280379" />
The <tt class="literal">w</tt> command moves the cursor forward one word at a
time, counting symbols and punctuation as equivalent to words.
The line below shows cursor movement by <tt class="literal">w</tt>:</p>

<blockquote><pre class="code"><u class="emphasis-underline">c</u>ursor<u class="emphasis-underline">,</u> <u class="emphasis-underline">d</u>elete <u class="emphasis-underline">l</u>ines<u class="emphasis-underline">,</u> <u class="emphasis-underline">i</u>nsert <u class="emphasis-underline">c</u>haracters<u class="emphasis-underline">,</u></pre></blockquote>

<p>
<a name="IXT-2-280380" />
You can also move by word, not counting symbols and punctuation, using the
<tt class="literal">W</tt> command.
(You can think of this as a "large" or "capital" <em class="emphasis">W</em>ord.)</p>

<?troff .Nd 10?><p>Cursor movement using <tt class="literal">W</tt> looks like this:</p>

<blockquote><pre class="code"><u class="emphasis-underline">c</u>ursor, <u class="emphasis-underline">d</u>elete <u class="emphasis-underline">l</u>ines, <u class="emphasis-underline">i</u>nsert <u class="emphasis-underline">c</u>haracters,</pre></blockquote>

<p>
<a name="IXT-2-280381" />
<a name="IXT-2-280382" />
To move backward by word, use the <tt class="literal">b</tt> command.
Capital <tt class="literal">B</tt> allows you to move backward by word, not counting
punctuation.</p>

<p>As mentioned previously, movement commands take numeric
arguments; so, with either the <tt class="literal">w</tt> or <tt class="literal">b</tt> commands you
can multiply the movement with numbers.  <tt class="literal">2w</tt> moves forward
two words; <tt class="literal">5B</tt> moves back five words, not counting punctuation.</p>

<p>We'll discuss movement by sentences and by paragraphs in <a href="ch03_01.htm">Chapter 3</a>.
For now,
practice using the cursor movement commands that you know, combining them
with numeric multipliers.</p>
</div>




<a name="IXT-2-280383" />
<a name="IXT-2-280384" />


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch02_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">2. Simple Editing</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">2.3. Simple Edits </td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>
