<html><head><title>GUI Interfaces (Learning the vi Editor, Sixth Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Linda Lamb and Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-426-6" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Learning the vi Editor, Sixth Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Learning the vi Editor" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch12_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch12_07.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">12.6. GUI Interfaces</h2>

<p>
<a name="ch12.gui1" />
<a name="ch12.gui2" />
<a name="ch12.gui3" />
The screen shots and the explanation in this
<?troff .hw Buett-ner?>
section were supplied by Kevin Buettner, Tom Dickey, and Paul Fox.
We thank them.</p>

<p>
<a name="IXT-12-282012" />
There are several X11 interfaces for <em class="emphasis">vile</em>,
each utilizing a
different toolkit based on the <em class="emphasis">Xt</em> library.
<a name="ch12.xvile" />
<a name="IXT-12-282013" />
There is a plain "No Toolkit" version which does not use a toolkit,
but has custom
scrollbars and a bulletin board widget for geometry management. There
are versions which use the Motif, Athena, or OpenLook toolkits. Of
these, the "No Toolkit"
version is probably best supported since that
is the version that some of <em class="emphasis">vile</em>'s authors most 
frequently use. But the
Motif and Athena versions have more features, such as menu support.</p>

<p>Fortunately, the basic interface is the same for each of these
versions. There is a single top level window which may be split into
two or more panes.
The panes, in turn,
may be used to display multiple views of a
buffer or multiple buffers or mixture of both. In <em class="emphasis">vile</em>
parlance these
panes are called "windows,"
but to avoid confusion, we will continue to
call them "panes" in the following discussion.</p>

<a name="vi6-ch-12-sect-6.1" /><div class="sect2">
<h3 class="sect2">12.6.1. Building xvile</h3>

<p>To build <em class="emphasis">xvile</em>, you have to choose which
toolkit version to use. This is done when you configure <em class="emphasis">vile</em>
with the <em class="emphasis">configure</em> command. The relevant
options are:
<a name="IXT-12-282014" /></p>

<dl>
<dt><i>--<tt class="literal">with</tt>-<tt class="literal">screen=value</tt></i></dt><dd>Specify terminal driver. The default is <tt class="literal">tcap</tt>, for the
<em class="emphasis">termcap</em></tt>/<em class="emphasis">terminfo</em></tt> driver.
Other values include
<tt class="literal">ncurses</tt> (a special case of <em class="emphasis">terminfo</em></tt>),
<tt class="literal">X11</tt>, <tt class="literal">OpenLook</tt>,
<tt class="literal">Motif</tt>, <tt class="literal">Athena</tt>,
<tt class="literal">Xaw</tt>, <tt class="literal">Xaw3d</tt>,
<tt class="literal">neXtaw</tt>, and <tt class="literal">ansi</tt>.</p></dd>


<dt><i>--<tt class="literal">with</tt>-<tt class="literal">scr=value</tt></i></dt><dd>Same as <tt class="literal">--with-screen</tt>.</p></dd>


<dt><i>--<tt class="literal">with</tt>-<tt class="literal">x</tt></i></dt><dd>Use the X Window System.
This is the "No Toolkit" version.</p></dd>


<dt><i>--<tt class="literal">with</tt>-<tt class="literal">Xaw3d</tt></i></dt><dd>Link with <em class="emphasis">Xaw</em></tt> 3-D library.</p></dd>


<dt><i>--<tt class="literal">with</tt>-<tt class="literal">neXtaw</tt></i></dt><dd>Link with neXt Athena library.</p></dd>


<dt><i>--<tt class="literal">with</tt>-<tt class="literal">Xaw</tt>-<tt class="literal">scrollbars</tt></i></dt><dd>Use <em class="emphasis">Xaw</em></tt> scrollbars rather than
the <em class="emphasis">vile</em> custom scrollbars.</p></dd>

</dl>
</div>




<a name="vi6-ch-12-sect-6.2" /><div class="sect2">
<h3 class="sect2">12.6.2. Basic Appearance and Functionality</h3>

<p>The figures show <em class="emphasis">xvile</em>'s Motif interface.
It is similar to the Athena interface.</p>

<a name="vi6-ch-12-fig-1" /><div class="figure"><img src="figs/vi_6.fig.1201.gif" alt="Figure 12.1" width="503" /></div><h4 class="objtitle">Figure 12.1. The vile GUI window</h4><p><a href="ch12_06.htm#vi6-ch-12-fig-1">Figure 12.1</a> shows three panes:</p>

<ol><li><p>The <em class="emphasis">man</em> page for <em class="emphasis">vile</em>,
which shows the use of underlining and boldface.</p></li><li><p>A buffer <tt class="literal">misc.c</tt>,
from <em class="emphasis">tin</em>, which shows syntax highlighting (again,
underlining, this time for preprocessor statements, and boldface, for
quoted strings).</p></li><li><p>A three-line pane, which is active (noted by a darker status line),
named <tt class="literal">[Completions]</tt>, for filename completions.
The pane is coordinated with the minibuffer (the colon command line): the first line
reads <em class="emphasis">Completions prefixed by /tmp/m:</em>,
and the minibuffer reads <em class="emphasis">Find file: m</em>.
The rest of the pane contains the actual filenames which match.
The first line of <tt class="literal">[Completions]</tt> and the contents
change as the user completes the filename (and presses
<span class="keycap">TAB</span> to tell <tt class="literal">vile</tt> to show the
reduced set of choices).</p></li></ol>
<a name="vi6-ch-12-fig-2" /><div class="figure"><img src="figs/vi_6.fig.1202.gif" alt="Figure 12.2" width="503" /></div><h4 class="objtitle">Figure 12.2. Buffers and completions in vile</h4><p><a href="ch12_06.htm#vi6-ch-12-fig-2">Figure 12.2</a> also shows three panes:</p>

<ol><li><p>The <tt class="literal">[Help]</tt> pane, which of course shows the most
important feature of an editor (how to exit without
modifying your files). <img src="figs/ct.smiley.gif" alt="Figure " /></p></li><li><p>The <tt class="literal">[Buffer List]</tt>,
which indicates that <tt class="literal">[Help]</tt> is
the <tt class="literal">#</tt> (previous) buffer.
The <tt class="literal">%</tt> (current) buffer is not shown on the list,
since only the "visible" buffers are displayed in this
copy of <tt class="literal">[Buffer List]</tt>.
Supplying an argument to the <tt class="literal">*</tt> command would
have shown the invisible buffers as well.
Buffers 1 and 2 are <tt class="literal">charset.c</tt> and <tt class="literal">misc.c</tt>.
They have been loaded, so their sizes (8931 and 54866) are displayed in the
<tt class="literal">[Buffer List]</tt>.
Buffers 3, 4, and 5 (<tt class="literal">color.c</tt>,
<tt class="literal">config.c</tt>, and <tt class="literal">curses.c</tt>) have
not been loaded, so a <tt class="literal">u</tt> is displayed in the first column,
and the size is shown as zero.</p></li><li><p>The <tt class="literal">[Completions]</tt> buffer is active.
This time it displays tag completions for the partial match
<em class="emphasis">co</em>, and the <em class="emphasis">Completions prefixed</em>
message is not shown because the buffer is scrolled down, which is
another side effect of pressing <span class="keycap">TAB</span>:
<em class="emphasis">vile</em> cycles through a scrolling
action so that all of the choices will be shown even when the window is
small. (The <tt class="literal">v</tt>/<tt class="literal">V</tt> commands don't
do anything to the <tt class="literal">[Completions]</tt> buffer while the cursor
is in the minibuffer; the <tt class="literal">[Completions]</tt>
buffer is automatically sized.)</p></li></ol>
<a name="vi6-ch-12-sect-6.2.1" /><div class="sect3">
<h3 class="sect3">12.6.2.1. Scrollbars</h3>

<p>
<a name="IXT-12-282015" />
At the right of each pane is a scrollbar which may be used in the
customary fashion to move about in the buffer. Note, however, that
the customary fashion varies from toolkit to toolkit. In the Athena
and "No Toolkit" version,
the middle mouse button may be used to drag
the "thumb" or visible indicator around. The left and right mouse
buttons move down or up (respectively) in the buffer.
The amount moved depends on the location of the mouse cursor on the
scrollbar. Placing it near the top will scroll by as little as one
line. When placed near the bottom, the text will scroll by as much as
a full paneful.</p>

<p>The Motif and OpenLook scrollbars are probably more
familiar. The left-most mouse button
is used for all operations. Clicking on
the little arrows will move up or down by one line. The scrollbar
indicator may be dragged in order to move about and scrolling up or
down by an entire pane may be accomplished by clicking above or below
the indicator. The OpenLook scrollbars provide additional mechanisms
for quickly moving to the top or bottom of the buffer.</p>

<p>In each version, there is a small handle above or below (i.e., between)
scrollbars which may be used to adjust the size of two adjacent panes.
In the "No Toolkit" version of <em class="emphasis">xvile</em>,
the pane resize handle blends in
with the mode line of two adjacent panes. In the other versions, the
resize handle is more distinguishable. But in each case, the mouse
cursor will change to a heavy vertical double arrow when placed above
the resize handle. The windows may be resized by clicking on and
dragging the handle.</p>

<p>A pane may be split into two by holding the control key down and
clicking the left mouse button on a scrollbar. Then you
will have two views of a particular buffer. Other
<em class="emphasis">vile</em> commands may
be used to replace one of the views with another buffer if desired. A
pane may be deleted by holding the control key down and clicking the
middle mouse button. Sometimes after creating a lot of panes, you
find yourself wanting to use all of the window real estate for just
one pane. To do this, control-click the right mouse button; all other
panes will be removed, leaving the entire <em class="emphasis">xvile</em>
window containing only the pane on which you clicked.</p>
</div>


<?troff .sp -.25?><a name="vi6-ch-12-sect-6.2.2" /><div class="sect3">
<h3 class="sect3">12.6.2.2. Setting the cursor position and mouse motions</h3>

<p>
<a name="IXT-12-282016" />
<a name="IXT-12-282017" />
Within the text area of a pane, the cursor may be set by clicking the
left mouse button.
This not only sets the cursor position, but also sets the pane in which
editing is being done.
<?troff .ne 10?>
In order to set just the pane but preserve the
old position, click on the mode line below the text you wish to edit.</p>

<p>A mouse click is viewed as a motion just like <tt class="literal">4j</tt> is considered
a motion. To delete five lines, you could enter <tt class="literal">d4j</tt>
which will delete
the current line and the four below it. You can do the same thing with
a mouse click. Position your cursor at the place you want to start
deleting from and then press <tt class="literal">d</tt>.
After this, click in the buffer
at the point to which you wish to delete to. Mouse clicks are real
motions and may be used with other operators as well.</p>
</div>


<a name="vi6-ch-12-sect-6.2.3" /><div class="sect3">
<h3 class="sect3">12.6.2.3. Selections</h3>

<p>
<a name="IXT-12-282018" />
Selections may be made by holding the left mouse button down and
dragging with the mouse.
Release of the mouse button will cause the
selection to be yanked and made available (if desired) for pasting.
You can force the selected region to be rectangular by holding the
control key down while dragging with the left button depressed. If the
dragging motion goes out of the current window, text will be scrolled in
the appropriate direction, if possible, to accommodate selections larger
than the window. The speed at which the scrolling occurs will
increase with the passage of time, making it practical to select large
regions of text quickly.</p>

<p>Individual words or lines may be selected by double- or triple-clicking 
on them.</p>

<p>A selection may be extended by clicking the right mouse button. As
with button one, the selection may be adjusted or scrolled by holding
the right button down and dragging with it. Selections may be extended in
any window open to the same buffer as the one in which
the selection was started.
That is, if you have two views of a buffer (in two different panes),
one containing the start of the buffer, and the other the end, it is
possible to select the entire buffer by clicking the left button at
the beginning of the pane showing the beginning of the buffer and then
clicking the right button in the pane showing the
end of the buffer. Also, selections may be extended in a rectangular
fashion by holding the control key down in conjunction with the use
of the right mouse button.</p>

<p>The middle button is used for pasting the selection. By default, it
pastes at the last text cursor position. If the shift key is held
down while clicking the middle button, the paste occurs at the
position of the mouse cursor.</p>

<p>A selection may be cleared (if owned by <em class="emphasis">xvile</em>)
by double-clicking on one of the mode lines.</p>
</div>


<a name="vi6-ch-12-sect-6.2.4" /><div class="sect3">
<h3 class="sect3">12.6.2.4. Clipboard</h3>

<p>
<a name="IXT-12-282019" />
Data may be exchanged between many X applications via the PRIMARY
selection. This selection is set and manipulated as described above.</p>

<p>Other applications, most notably OpenLook applications, use the
CLIPBOARD selection to exchange data between applications. On many
Sun keyboards, selected text is moved to the clipboard by pressing the
<span class="keycap">COPY</span> key and pasted by pressing
the <span class="keycap">PASTE</span> key. If you find that
you cannot paste text selected in
<em class="emphasis">xvile</em> into other applications or
vice versa, it may well be that these applications use the CLIPBOARD
selection instead of the PRIMARY selection. (The other mechanism used
among really old applications involves the use of a ring of cut
buffers.)</p>

<p>
<a name="IXT-12-282020" />
<a name="IXT-12-282021" />
<em class="emphasis">xvile</em> provides two commands for manipulating the clipboard.
These are <tt class="literal">copy-to-clipboard</tt>
and <tt class="literal">paste-from-clipboard</tt>.  When
<tt class="literal">copy-to-clipboard</tt> is executed,
the contents of the current selection
are copied to the special clipboard kill register
(denoted by <tt class="literal">;</tt> in
the register list). When an application requests the clipboard
selection, <em class="emphasis">xvile</em> gives it the contents of this kill register. The
<tt class="literal">paste-from-clipboard</tt> command requests clipboard data
from the current owner of the CLIPBOARD selection.</p>

<p>Users of Sun systems may want to put the following key bindings in
their <em class="filename">.vilerc</em> file in order to make
use of the
<span class="keycap">COPY</span> and <span class="keycap">PASTE</span> keys
found on their keyboards:</p>

<blockquote><pre class="code">bind-key copy-to-clipboard #-^
bind-key paste-from-clipboard #-*</pre></blockquote>

<p>Key bindings are described in detail later in this chapter.</p>
</div>


<a name="vi6-ch-12-sect-6.2.5" /><div class="sect3">
<h3 class="sect3">12.6.2.5. Resources</h3>

<p><em class="emphasis">xvile</em> has many resources which may be
used to control appearance and
behavior. Font choice is particularly important if you want italic or
oblique fonts to be displayed properly. <em class="emphasis">vile</em>'s
documentation has a
complete list of resources as well a sample set
of <em class="filename">.Xdefault</em> entries.</p>
</div>
</div>




<a name="vi6-ch-12-sect-6.3" /><div class="sect2">
<h3 class="sect2">12.6.3. Adding Menus</h3>

<p>
<a name="IXT-12-282022" />
<a name="IXT-12-282023" />
The Motif and Athena versions have menu support. Menu items, which are
user-definable, are read from the <em class="filename">.vilemenu</em> file,
in the current or home directory.</p>

<?troff .wcon_off?><p><em class="emphasis">xvile</em> allows three types of menu items:</p>

<ul><li><p>Built-in, i.e., specific to the menuing system, such as rereading the
<em class="filename">.vilerc</em> file,
or spawning a new copy of <em class="emphasis">xvile</em></p></li><li><p>Direct invocation of built-in commands (e.g., displaying the
<tt class="literal">[Buffer List]</tt>)</p></li><li><p>Invocation of arbitrary command strings (e.g., running interactive
macros such as a search command)</p></li></ul><p>The distinction between the last two is made because the
authors prefer making <em class="emphasis">vile</em>
able to check the validity of commands before they are executed.</p>

<p>The sidebar in this chapter contains an annotated sample
<em class="filename">.vilemenu</em> file.</p>
</div>




<a name="IXT-12-282024" />
<a name="IXT-12-282025" />
<a name="IXT-12-282026" />
<a name="IXT-12-282027" />


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch12_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch12_07.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">12.5. Multiwindow Editing</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">12.7. Extended Regular Expressions</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>