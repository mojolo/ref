<html><head><title>Using Different Printers (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch45_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch45_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">45.4. Using Different Printers</h2>

<p><a name="IXT-45-1777" />Each printer on your system should
have a name. By default, commands that send a file to a printer
assume that the printer is named <i class="command">lp</i> (a historical
artifact; it stands for "Line
Printer"). If you're using a
single-user workstation and have a printer connected directly to your
workstation, you can name your printer <i class="command">lp</i> and
forget about it.
</p>

<p>In many environments, there are more options available: e.g., there
are several printers in different locations that you can choose from.
Often, only one printer will be able to print your normal documents:
you may need to send your print jobs to a PostScript printer, not the
line printer that the accounting department uses for billing.
</p>

<p>There are two ways to choose a printer:</p>

<ul><li>
<p>Printing commands in the <i class="command">lpr</i> family accept the
option <tt class="literal">-P</tt><em class="replaceable"><tt>printer</tt></em>. This
includes <b class="emphasis-bold">lpr</b> (<a href="ch45_02.htm#upt3-CHP-45-SECT-2">Section 45.2</a>), various scripts to format typeset documents,
etc. For example, <em class="emphasis">lpr -Pps file.ps</em> sends the
file <em class="emphasis">file.ps</em> to the printer named
<em class="emphasis">ps</em>.
</p>
</li><li>
<p>Commands in the <i class="command">lpr</i> family recognize the
<em class="emphasis">PRINTER</em> <b class="emphasis-bold">environment
variable</b> (<a href="ch35_03.htm#upt3-CHP-35-SECT-3">Section 35.3</a>); if
<em class="emphasis">PRINTER</em> is defined, the command will read its
value and choose a printer accordingly. So the command:
</p>
<blockquote><pre class="code">% <tt class="userinput"><b>setenv PRINTER ps</b></tt>                <i class="lineannotation"> -- or</i>
$ <tt class="userinput"><b>PRINTER=ps ; export PRINTER</b></tt></pre></blockquote>
<p>ensures that the <i class="command">lpr</i>-style print commands will
send your documents to the printer named <em class="emphasis">ps</em>. The
<span class="option">-P</span> option overrides this environment variable, in
case you need to send a particular print job to a different printer.
</p>
</li><li>
<p>Commands in the <em class="emphasis">lp</em> family use the
<span class="option">-d</span> option to select a printer. So <tt class="literal">lp -d
prfile.ps</tt> sends <em class="emphasis">file.ps</em> to the printer
named <em class="emphasis">pr</em>; it's equivalent to
the previous <i class="command">lpr</i> example.
</p>
</li><li>
<p>Commands in the <i class="command">lp</i> family look for an environment
variable named <em class="emphasis">LPDEST</em>, rather than
<em class="emphasis">PRINTER</em>. So:
</p>
<blockquote><pre class="code">% <tt class="userinput"><b>setenv LPDEST ps</b></tt>                <i class="lineannotation"> -- or</i>
$ <tt class="userinput"><b>LPDEST=ps ; export LPDEST</b></tt></pre></blockquote>
<p>ensures that the <i class="command">lp</i>-style print commands will send
your documents to the printer named <em class="emphasis">ps</em>. The
<span class="option">-d</span> option overrides this environment variable.
</p>
</li></ul>

<p>Note that Solaris and others that use <i class="command">lp</i> can
include both the <i class="command">lp</i> and <i class="command">lpr</i>
print commands. This can make things confusing, particularly if
you're using a script to process documents, and that
script automatically sends your documents to the printer. Unless you
know how the script works, you won't know which
variable to set. I'd suggest setting both
<em class="emphasis">PRINTER</em> and <em class="emphasis">LPDEST</em> for
these systems.
</p>

<p>By the way, if you have only one printer, but you've
given it some name other than <em class="emphasis">lp</em>, the same
solution works: just set <em class="emphasis">PRINTER</em> or
<em class="emphasis">LPDEST</em> to the appropriate name.
</p>

<p> <em class="emphasis">-- ML</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch45_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch45_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">45.3. Printer Control with lpc</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">45.5. Using Symbolic Links for Spooling</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>