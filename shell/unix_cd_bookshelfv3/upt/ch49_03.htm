<html><head><title>Forgetting the root Password (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch49_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch49_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">49.3. Forgetting the root Password</h2>

<p><a name="IXT-49-389" /> <a name="IXT-49-390" />If a person forgets their password,
it's easy for root to reset it using
<em class="filename">passwd</em>, but what happens if you forget
root's password?
</p>

<p>Depending on the security implemented for a system, you can log in to
<a name="IXT-49-391" />single user
mode and then use
<em class="filename">passwd</em><a name="IXT-49-392" /> to reset the root password. Or you
can manually edit the password file to remove the password for root.
Once you reboot and login to the system as root, you can then use
<em class="filename">passwd</em> to change the password to something more
restrictive.
</p>

<p>In <a name="IXT-49-393" />Redhat Linux, access single-user mode
by typing <tt class="literal">linux single</tt> at the boot prompt. In
<a name="IXT-49-394" />Solaris, enter single-user mode by
pressing STOP-a and then typing <tt class="literal">boot-s</tt> at the
prompt. <a name="IXT-49-395" />FreeBSD boots in this mode by
booting with the <span class="option">-s</span> option and then mounting the
file system in read/write mode. Check your system documentation to
see how to do this for your particular flavor of Unix.
</p>

<p>This approach works only if the system doesn't
password-protect single-user mode. However, if you have access to the
physical machine and the installation disks, booting with the install
disk will usually allow you access to the partitions. Once you have
this access, edit the password file and remove the root password.
</p>

<p><a name="IXT-49-396" />As
an example, Debian requires a password in single-user mode. To reset
the root password with Debian, put the installation disk into the
machine and boot. Mount the <em class="filename">/root</em> partition and
manually edit the shadow file, setting the password to a blank
password. After rebooting into the system, reset the password using
<em class="filename">passwd</em>.
</p>

<p> <em class="emphasis">-- SP</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch49_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch49_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">49.2. When Does a User Become a User</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">49.4. Setting an Exact umask</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>