<html><head><title>Gatewaying from a Personal LAN over a Modem (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch46_12.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch47_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">46.13. Gatewaying from a Personal LAN over a Modem</h2>

<p>Often you have only dialup access but would like your home network to
be able to access the Internet. A simple way to do this is to
configure one Unix machine as a <b class="emphasis-bold">gateway</b> (<a href="ch46_11.htm#upt3-CHP-46-SECT-11">Section 46.11</a>), with
one side of the
<a name="IXT-46-623" /><a name="IXT-46-624" /><a name="IXT-46-625" />gateway your LAN and the other
side the modem connection. If you then set up the modem connection to
dial on demand, you have a simple way to share your connection
between all of the machines on the LAN.
</p>

<p>All that's required is that you <b class="emphasis-bold">set up your PPP connection</b>
(<a name="IXT-46-626" /><a href="ch44_11.htm#upt3-CHP-44-SECT-11">Section 44.11</a>), turn
on PPP's <b class="emphasis-bold">NAT</b> (<a href="ch46_11.htm#upt3-CHP-46-SECT-11">Section 46.11</a>) handling and then <b class="emphasis-bold">turn
on gatewaying</b> (<a href="ch46_11.htm#upt3-CHP-46-SECT-11">Section 46.11</a>). Make sure
that all your LAN machines point to the gateway as their default
gateway (handing out addresses via <b class="emphasis-bold">DHCP</b> (<a href="ch46_10.htm#upt3-CHP-46-SECT-10">Section 46.10</a>) is an easy
way to ensure this). Any attempt to access the Internet by any
machine on the LAN will then cause your gateway to dial up your ISP,
if the modem isn't currently connected.
</p>

<p>Note that I said that you had to turn on <a name="IXT-46-627" /><a name="IXT-46-628" />NAT handling. A dialup
almost always means that your dialup machine will be getting a
dynamic address, and the only way to have multiple machines behind a
dynamic address is NAT. Because this is so common, some PPP clients
have NAT built in; no configuration is required and no separate
<i class="command">natd</i> needs to be run. NAT simply has to be
enabled, generally with the <span class="option">-nat</span> option.
(Linux's <i class="command">pppd</i> does not support
NAT by itself. Read the masquerading HOWTO at <a href="http://www.linuxdoc.org/HOWTO/IP-Masquerade-HOWTO/">http://www.linuxdoc.org/HOWTO/IP-Masquerade-HOWTO/</a>
for more information on how to deal with NAT on Linux.)
</p>

<p> <em class="emphasis">-- DJPH<a name="IXTR3-634" /></em> 
</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch46_12.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch47_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">46.12. Firewalls</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">47. Connecting to MS Windows</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>