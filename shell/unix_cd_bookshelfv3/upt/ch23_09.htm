<html><head><title>Stop Background Output with stty tostop (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch23_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch23_10.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">23.9. Stop Background Output with stty tostop</h2>

<p><a name="IXT-23-5589" /><a name="IXT-23-5590" /><a name="IXT-23-5591" /><a name="IXT-23-5592" /><a name="IXT-23-5593" />If <a name="IXT-23-5594" />you put a job in the background and
don't <b class="emphasis-bold">redirect</b>
(<a href="ch43_01.htm#upt3-CHP-43-SECT-1">Section 43.1</a>) its output, text that the job writes
to its standard output and standard error comes to your screen. Those
messages can mess up the screen while you're using
another program. You could lose the (maybe important) messages,
too -- they might scroll off your screen and be lost, or your
foreground program may clear the screen and erase them.
</p>

<p>Many Unix systems have the command <em class="emphasis">stty tostop</em>.
Type that command at a prompt, or put it in your
<em class="emphasis">.login</em> or <em class="emphasis">.profile</em>
file.<a href="#FOOTNOTE-69">[69]</a> After that, your
shell's background jobs that try to write to your
terminal will be stopped. When you want to see the background
job's output, bring it into the foreground (with
<i class="command">fg</i>).
</p><blockquote class="footnote"> <a name="FOOTNOTE-69" /><p> [69]This command sets the Unix terminal device
driver for all processes started on it. <b class="emphasis-bold">You
don't need to set this for subshells</b>
(<a href="ch03_03.htm#upt3-CHP-3-SECT-3">Section 3.3</a>).</p> </blockquote>

<p>How will you know that the background job has been stopped? The shell
will print a message like this just before it prints a prompt:
</p>

<blockquote><pre class="code">[1] + Stopped (tty output)    <em class="replaceable"><tt>somejob</tt></em>
%</pre></blockquote>

<p><a name="IXT-23-5595" />The shell can also interrupt your
foreground job with that message as soon as the background job is
stopped. To make it do that, set <b class="emphasis-bold">notify</b> (<a href="ch23_08.htm#upt3-CHP-23-SECT-8">Section 23.8</a>).
</p>

<p><a name="IXT-23-5596" />In C shell, you can turn off this
feature and let background jobs write to your terminal any time with
the command:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>stty -tostop</b></tt></pre></blockquote>

<p>In <em class="emphasis">bash</em><a name="IXT-23-5597" />, the command is similar:
</p>

<blockquote><pre class="code">$ <tt class="userinput"><b>stty tostop</b></tt></pre></blockquote>

<p> <em class="emphasis">-- JP</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch23_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch23_10.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">23.8. Notification When Jobs Change State</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">23.10. nohup</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>