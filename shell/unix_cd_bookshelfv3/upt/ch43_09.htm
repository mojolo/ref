<html><head><title>How to tee Several Commands into One Place (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch43_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch43_10.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">43.9. How to tee Several Commands into One Place</h2>

<p>The <b class="emphasis-bold">tee</b> (<a href="ch43_08.htm#upt3-CHP-43-SECT-8">Section 43.8</a>) command <a name="IXT-43-2302" /><a name="IXT-43-2303" />writes its standard input to a file
and writes the same text to its standard output. You might want to
collect several commands' output and
<i class="command">tee</i> them all to the same file, one after another.
The obvious way to do that is with the <span class="option">-a</span> option:
</p>

<blockquote><pre class="code">$ <em class="replaceable"><tt>some-command</tt></em> <tt class="userinput"><b>| tee teefile</b></tt>
$ <em class="replaceable"><tt>another-command</tt></em> <tt class="userinput"><b>| tee -a teefile</b></tt>
$ <em class="replaceable"><tt>a-third--command</tt></em> <tt class="userinput"><b>| tee -a teefile</b></tt></pre></blockquote>

<p>A more efficient way is:</p>
<p><tt class="literal">&gt;</tt> <a href="ch28_12.htm#upt3-CHP-28-SECT-12">Section 28.12</a></p>
<blockquote><pre class="code">$ <tt class="userinput"><b>(</b></tt><em class="replaceable"><tt>some-command</tt></em>
&gt; <em class="replaceable"><tt>another-command</tt></em>
&gt; <em class="replaceable"><tt>a-third-command</tt></em><tt class="userinput"><b>) | tee teefile</b></tt></pre></blockquote>

<p><a name="IXT-43-2304" /> <a name="IXT-43-2305" />The <b class="emphasis-bold">subshell
operators</b> (<a href="ch43_07.htm#upt3-CHP-43-SECT-7">Section 43.7</a>) collect the
standard output of the three commands. The output all goes to one
<i class="command">tee</i> command. This has two differences from the
first method. First, you need two fewer pipes, two fewer
<i class="command">tee</i>s, and one more subshell. Second, you can pipe
the output of the single <i class="command">tee</i> command to another
process -- for example, to print it.
</p>

<p>Unfortunately, the C shell doesn't make this quite
as easy. If you can type all the commands on one line, you can do it
this way (the same thing works in the Bourne shell):
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>(</b></tt><em class="replaceable"><tt>command1; command2; command3</tt></em><tt class="userinput"><b>) | tee teefile</b></tt></pre></blockquote>

<p>Otherwise, use a semicolon and backslash (<tt class="literal">;\</tt>) at
the end of each line:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>(some-command</b></tt> <tt class="userinput"><b>;\</b></tt>
<tt class="userinput"><b>another command ;\</b></tt>
<tt class="userinput"><b>a-third-command) | tee teefile</b></tt></pre></blockquote>

<p>In all these examples, remember that if you don't
need to see the output of the commands, you don't
need <i class="command">tee</i>. Use the subshell as above, but replace
<tt class="literal">| tee teefile</tt> with <tt class="literal">&gt; outfile</tt>
or <tt class="literal">| somecommand</tt>.
</p>

<p> <em class="emphasis">-- JP</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch43_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch43_10.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">43.8. Send Output Two or More Places</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">43.10. Redirecting Output to More Than One Place</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>
