<html><head><title>Changing Fonts Dynamically (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_17.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch05_19.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">5.18. Changing Fonts Dynamically</h2>

<p><a name="upt3-IDXTERM-1028" /> <a name="upt3-IDXTERM-1029" /> <a name="upt3-IDXTERM-1030" />Ideally, you want to set
up your environment so that <i class="command">xterm</i> windows (and
other clients) come up automatically with the characteristics you
prefer, including the display font. I use the very large <b class="emphasis-bold">10&#215;20-pixel font</b> (<a href="ch05_16.htm#upt3-CHP-5-SECT-16">Section 5.16</a>) for all my <i class="command">xterm</i> windows
by specifying the <a name="IXT-5-7480" /><b class="emphasis-bold">resource
variable</b> (<a href="ch06_03.htm#upt3-CHP-6-SECT-3">Section 6.3</a>):
</p>

<blockquote><pre class="code">XTerm*font: 10x20</pre></blockquote>

<p>But if you start an <i class="command">xterm</i> and then decide you want
a different font, you do have an option.
</p>

<a name="upt3-CHP-5-SECT-18.1" /><div class="sect2">
<h3 class="sect2">5.18.1. VT Fonts Menu</h3>

<p><a name="IXT-5-7481" /><a name="IXT-5-7482" />The <i class="command">xterm</i> <b class="emphasis-bold">VT Fonts menu</b> (<a href="ch05_17.htm#upt3-CHP-5-SECT-17">Section 5.17</a>)
allows you to change a window's font on the fly,
which is a very handy capability. You can change the font any number
of times to accommodate a variety of uses. You might choose to use a
large font for text editing; you could then change to a smaller font
while a process is running, since you don't need to
be reading or typing in that <i class="command">xterm</i>. Since
<i class="command">xterm</i>'s dimensions are determined
by the number of characters wide by the number of lines high,
changing the font also changes the size of the window.
</p>

<p>When the focus is on an <i class="command">xterm</i>, you display the
menu by pressing CTRL and then the third pointer button. The default
menu is shown in <a href="ch05_18.htm#upt3-CHP-5-FIG-3">Figure 5-3</a>.
</p>

<a name="upt3-CHP-5-FIG-3" /><div class="figure"><img src="figs/upt3_0503.gif" alt="Figure 5-3" width="450" /></div><h4 class="objtitle">Figure 5-3. xterm's VT Fonts menu lets you change fonts dynamically</h4>

<p>The items on the <b class="emphasis-bold">VT Fonts</b> menu are
toggles, each of which provides a different size display font. If you
have not toggled any items on this menu, a check mark will appear
next to <b class="emphasis-bold">Default</b>, which is the font
specified when the <i class="command">xterm</i> was run. This font could
have been specified on the <i class="command">xterm</i> command line or
in a resource file. Whatever the case, this font remains the
<b class="emphasis-bold">Default</b> for the duration of the
current <i class="command">xterm</i> process.
</p>

<p>By default, the <b class="emphasis-bold">Unreadable</b>,
<b class="emphasis-bold">Tiny</b>, <b class="emphasis-bold">Small</b>, <b class="emphasis-bold">Medium</b>, <b class="emphasis-bold">Large</b>, and <b class="emphasis-bold">Huge</b> menu choices toggle the
<a name="IXT-5-7483" /><a name="IXT-5-7484" /><a name="IXT-5-7485" />constant-width fonts shown in <a href="ch05_18.htm#upt3-CHP-5-TABLE-4">Table 5-4</a>. 
</p>

<a name="upt3-CHP-5-TABLE-4" /><h4 class="objtitle">Table 5-4. VT Fonts menu defaults </h4><table border="1" cellpadding="3">



<tr>
<th>
<p>Menu item</p>
</th>
<th>
<p>Default font</p>
</th>
</tr>


<tr>
<td>
<p><b class="emphasis-bold">Unreadable</b></p>
</td>
<td>
<p>nil2</p>
</td>
</tr>
<tr>
<td>
<p><b class="emphasis-bold">Tiny</b></p>
</td>
<td>
<p>5&#215;7</p>
</td>
</tr>
<tr>
<td>
<p><b class="emphasis-bold">Small</b></p>
</td>
<td>
<p>6&#215;10</p>
</td>
</tr>
<tr>
<td>
<p><b class="emphasis-bold">Medium</b></p>
</td>
<td>
<p>7&#215;13</p>
</td>
</tr>
<tr>
<td>
<p><b class="emphasis-bold">Large</b></p>
</td>
<td>
<p>9&#215;15</p>
</td>
</tr>
<tr>
<td>
<p><b class="emphasis-bold">Huge</b></p>
</td>
<td>
<p>10&#215;20</p>
</td>
</tr>

</table><p>

<p>Bring up the <b class="emphasis-bold">VT Fonts</b> menu, and
toggle some of these fonts to see what they look like. The first
choice is not called <b class="emphasis-bold">Unreadable</b> for
nothing, but it does have a practical use.
</p>

<p>You can specify your own Unreadable, Tiny, Small, Medium, Large, and
Huge fonts using the <i class="command">xterm</i> resource variables
<tt class="literal">font1</tt>, <tt class="literal">font2</tt>,
<tt class="literal">font3</tt>, <tt class="literal">font4</tt>,
<tt class="literal">font5</tt>, and <tt class="literal">font6</tt>. You might
want to specify <a name="IXT-5-7486" />bold alternatives to some of the default
fonts. For example, 7&#215;13 bold is somewhat more readable
than the standard <b class="emphasis-bold">Medium</b> font.
</p>

<p>All of the references to fonts and command-line options also apply to
<i class="command">rxvt</i><a name="IXT-5-7487" />, which does not, however, support the
<b class="emphasis-bold">VT Fonts</b> menu supported by
<i class="command">xterm</i>.
</p>

</div>
<a name="upt3-CHP-5-SECT-18.2" /><div class="sect2">
<h3 class="sect2">5.18.2. Enabling Escape Sequence and Selection</h3>

<p><a name="IXT-5-7488" />When you first run an
<i class="command">xterm</i> window, the final two choices on the
<b class="emphasis-bold">VT Fonts</b><a name="IXT-5-7489" /> <a name="IXT-5-7490" /> menu, <b class="emphasis-bold">Escape Sequence</b> and <b class="emphasis-bold">Selection</b>, are not functional. (They will
appear in a lighter typeface than the other selections.) The average
user may not care about these items, but if you're
experimenting with fonts, they are sometimes useful.
</p>

<p>To enable <b class="emphasis-bold">Selection</b>, you first have
to select a font name. You can do this simply by highlighting a font
name with the pointer, as you would <b class="emphasis-bold">any text
selection</b> (<a href="ch05_13.htm#upt3-CHP-5-SECT-13">Section 5.13</a>). However,
it's more likely that you'll use
<b class="emphasis-bold">Selection</b> in concert with the
<i class="command">xfontsel</i> client. [This is a client that does
point-and-click selection of X11 font names; see its
manpage. -- <em class="emphasis">JP</em>] Once you've
selected a font name, you can toggle it using the <b class="emphasis-bold">Selection</b> menu item. A serious limitation:
<b class="emphasis-bold">Selection</b> tries to use the last
selected text as a font name. If the last selected text was not a
valid font name, toggling <b class="emphasis-bold">Selection</b>
will get you nothing more than a beep. When there is no
<span class="acronym">primary</span> text selection in memory, the menu item is
grayed out again.
</p>

<p>The <b class="emphasis-bold">Escape Sequence</b> item is a little
more complicated, but once set up it will be available for the
duration of the <i class="command">xterm</i> process. To make it
available, you first need to change the font by a more primitive
method, using a literal escape sequence that you send to the
<i class="command">xterm</i> using <i class="command">echo</i>:
</p>

<blockquote><pre class="code">val@ruby 181% <tt class="userinput"><b>echo "Esc]50;7x13boldControl-g"</b></tt></pre></blockquote>

<p>These are the literal keys you type to change the font to
7&#215;13bold. But pressing ESC actually generates the symbol
<tt class="literal">^[</tt>, and CTRL-g appears as <tt class="literal">^G</tt>,
so you'll get a line that looks like this:
</p>

<blockquote><pre class="code">val@ruby 181% <tt class="userinput"><b>echo "^[ ]50;7x13bold^G"</b></tt></pre></blockquote>

<p>If you <em class="emphasis">don't</em> get this string,
try typing the CTRL-v character before both the ESC and CTRL-g
characters, letting the system know you intend for the following
character to be a literal.
</p>

<p>I've used a short <b class="emphasis-bold">font name
alias</b> (<a href="ch05_16.htm#upt3-CHP-5-SECT-16">Section 5.16</a>), but you could use a
full name or a name with wildcards. Once you've
changed the font in this manner, you can toggle it using the
<b class="emphasis-bold">Escape Sequence</b> menu item. If you
change the font again using the literal escape sequence, that font
will be available via the menu item. Note that the trick for changing
the font discussed earlier also works in <i class="command">rxvt</i>, but
does not enable any font menus.<a name="IXTR3-7518" /> <a name="IXTR3-7519" /> <a name="IXTR3-7520" /> 
</p>

<p><em class="emphasis">--VQ and SJC</em></p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_17.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch05_19.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">5.17. The xterm Menus</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">5.19. Working with xclipboard</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>