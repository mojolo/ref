<html><head><title>More Ways to Back Up (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch38_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch38_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">38.4. More Ways to Back Up</h2>

<p><a name="IXT-38-2940" /><a href="ch38_03.htm#upt3-CHP-38-SECT-3">Section 38.3</a>
explains the minimal basics of using <i class="command">tar</i> to make
backups, but there are lots of variations that can be very useful.
</p>

<p>To create a <i class="command">tar</i> archive for copying to another
disk or another machine:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>tar cvf 20020214-book.tar ./book</b></tt></pre></blockquote>

<p><i class="command">tar</i><a name="IXT-38-2941" /> <a name="IXT-38-2942" /> <a name="IXT-38-2943" />'s
<span class="option">c</span> option stands for <em class="emphasis">c</em>reate,
<span class="option">v</span> for <em class="emphasis">v</em>erbose, and the
<span class="option">f</span> option for <em class="emphasis">f</em>ile.
<em class="filename">20020214-book.tar</em> is the new archive file to
create, and <em class="filename">./book</em> says to archive the directory
<em class="emphasis">book</em> in the current directory. Once you have an
archive, you might want to compress it to save space.
<i class="command">gzip</i><a name="IXT-38-2944" /> <a name="IXT-38-2945" /><a name="IXT-38-2946" /> and <i class="command">bzip2</i>
are your best bets. (I use <i class="command">bzip2</i> here largely
because it tends to give better compression, but be aware that
<i class="command">gzip</i> is more widely available and thus may be
safer for backups.) You can compress it once you've
made it:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>ls -l 20020214-book.tar</b></tt>
-rw-r--r--  1 deb  deb  19415040 Feb 14 23:15 20020214-book.tar
% <tt class="userinput"><b>bzip2 20020214-book.tar</b></tt>
% <tt class="userinput"><b>ls -l 20020214-book.tar.bz2</b></tt>
-rw-r--r--  1 deb  deb   4033775 Feb 14 23:15 20020214-book.tar.bz2</pre></blockquote>

<p>Or you can compress it as you make it. GNU <i class="command">tar</i>
supports <i class="command">gzip</i> compression on the fly with the
<span class="option">z</span><a name="IXT-38-2947" /> or <span class="option">- -gzip</span> options
and <i class="command">bzip2</i> compression on the fly with the
<span class="option">- -bzip2</span> option, or you can pipe into
<i class="command">gzip</i> or <i class="command">bzip2</i>:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>tar czvf 20020214-book.tar.gz ./book</b></tt>

% <tt class="userinput"><b>tar cvf 20020214-book.tar.bz2 --bzip2 ./book</b></tt>

% <tt class="userinput"><b>tar cvf - ./book | bzip2 &gt; 20020214-book.tar.bz2</b></tt></pre></blockquote>

<p><a href="ch39_02.htm#upt3-CHP-39-SECT-2">Section 39.2</a> and <a href="ch39_03.htm#upt3-CHP-39-SECT-3">Section 39.3</a> have more information on using
<i class="command">tar</i>.
</p>

<p>You can get more protection from certain kinds of mishaps by using a
<a name="IXT-38-2948" /><a name="IXT-38-2949" />version control system like
<b class="emphasis-bold">RCS</b> (<a href="ch39_05.htm#upt3-CHP-39-SECT-5">Section 39.5</a>)
or <b class="emphasis-bold">CVS</b> (<a href="ch39_07.htm#upt3-CHP-39-SECT-7">Section 39.7</a>) to save every version of a file you are
updating frequently. While it doesn't protect you
from disk crashes, a version control system provides the ability to
back up to a previous version if something gets changed or deleted
incorrectly.
</p>

<p> <em class="emphasis">-- DJPH</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch38_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch38_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">38.3. Make Your Own Backups</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">38.5. How to Make Backups to a Local Device</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>