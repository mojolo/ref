<html><head><title>Alphabetic and Numeric Sorting (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch22_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch22_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">22.5. Alphabetic and Numeric Sorting</h2>

<p><a name="IXT-22-1540" /> <a name="IXT-22-1541" /> <a name="IXT-22-1542" /><i class="command">sort</i>
performs two fundamentally different kinds of sorting operations:
alphabetic sorts and numeric sorts. An alphabetic sort is performed
according to the traditional "dictionary
order," using the ASCII collating sequence.
<a name="IXT-22-1543" />Uppercase letters come before lowercase
letters (unless you specify the <span class="option">-f</span> option, which
"folds" uppercase and lowercase
together), with numerals and punctuation interspersed. The
<span class="option">-l</span> (lowercase <em class="emphasis">L</em>) option sorts
by the current locale instead of the default
<span class="acronym">US/ASCII</span> order.
</p>

<p>This is all fairly trivial and common sense. However,
it's worth belaboring the difference, because
it's a frequent source of bugs in shell scripts. Say
you sort the numbers 1 through 12. A numeric sort gives you these
numbers "in order," just like
you'd expect. An alphabetic sort gives you:
</p>

<blockquote><pre class="code">1
11
12
2
...</pre></blockquote>

<p>Of course, this is how you'd sort the numbers if you
applied dictionary rules to the list. Numeric sorts can handle
<a name="IXT-22-1544" /> <a name="IXT-22-1545" />decimal numbers (for example, numbers like
123.44565778); they can't handle floating-point
numbers (for example, 1.2344565778E+02). The GNU
<i class="command">sort</i><a name="IXT-22-1546" /> <a name="IXT-22-1547" /> does provide the <tt class="literal">-g</tt>
flag for sorting numbers in scientific notation. Unfortunately, it is
significantly slower than plain old decimal sorting.
</p>

<p>What happens if you include alphabetic characters in a numeric sort?
Although the results are predictable, I would prefer to say that
they're
"undefined." Including alphabetic
characters in a numeric sort is a mistake, and
there's no guarantee that different versions of
<i class="command">sort</i> will handle them the same way. As far as I
know, there is no provision for sorting hexadecimal numbers.
</p>

<p>One final note: your version of numeric sort may treat initial blanks
as significant, sorting numbers with additional spaces before them
ahead of numbers without the additional spaces. This is an incredibly
stupid misfeature. There is a workaround: use the
<span class="option">-b</span><a name="IXT-22-1548" /> (ignore leading blanks) and always
specify a sort field.<a href="#FOOTNOTE-67">[67]</a> That is, <tt class="literal">sort -nb +0</tt> will do what you
expect; <tt class="literal">sort -n</tt> won't.
</p><blockquote class="footnote"> <a name="FOOTNOTE-67" /><p> [67]Stupid misfeature number 2:
<span class="option">-b</span> doesn't work unless you specify
a sort field explicitly, with a <span class="option">+n</span> option.</p>
</blockquote>

<p> <em class="emphasis">-- ML</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch22_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch22_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">22.4. Confusion with Whitespace Field Delimiters</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">22.6. Miscellaneous sort Hints</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>