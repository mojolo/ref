<html><head><title>A Bit of Unix Typesetting History (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch45_10.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch45_12.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">45.11. A Bit of Unix Typesetting History</h2>

<p><a name="IXT-45-1810" /><a name="IXT-45-1811" />Unix was one of the first operating
systems to provide the capability to drive a typesetter.
<i class="command">troff</i> is both a markup language and a tool for
generating typesetter output.
</p>

<p>Originally, <i class="command">troff</i> was designed to drive a device
called a C/A/T phototypesetter, and thus it generated a truly
frightening collection of idiosyncratic commands. For a while, there
were several version of
<i class="command">troff</i><a name="IXT-45-1812" />
and <i class="command">troff</i>-related tools, including tools to
translate C/A/T output into something useful, versions of
<i class="command">troff</i> that output slightly saner things than
C/A/T, and so forth. It was all very confusing.
</p>

<p>Most systems these days still have a version of
<i class="command">troff</i>, often GNU's
<i class="command">groff</i>, which outputs PostScript and other
device-independent formats. Unix manpages are still written in
<i class="command">nroff</i>, a related tool that takes the same input
and spits out ASCII-formatted text, using the
<em class="emphasis">man</em> macro package. However, most people
don't use <i class="command">troff</i> and its related
tools for general text formatting much any more.
</p>

<p>So why do we care about <i class="command">troff</i>? <em class="citetitle">The
Jargon Dictionary</em> (Version 4.2.2) has this to say:
</p>


<p><i class="command">troff</i> <em class="emphasis">/T'rof/ or /trof/
n</em>.
</p>
<blockquote>
<p>The gray eminence of Unix text processing; a formatting and
phototypesetting program, written originally in PDP-11 assembler and
then in barely-structured early C by the late Joseph Ossanna, modeled
after the earlier ROFF which was in turn modeled after the Multics
and CTSS program RUNOFF by Jerome Saltzer (that name came from the
expression "to run off a copy"). A
companion program, nroff, formats output for terminals and line
printers.
</p>

<p>In 1979, Brian Kernighan modified troff so that it could drive
phototypesetters other than the Graphic Systems CAT. His paper
describing that work ("A Typesetter-independent
troff," AT&amp;T CSTR #97) explains
troff's durability. After discussing the
program's "obvious
deficiencies -- a rebarbative input syntax, mysterious and
undocumented properties in some areas, and a voracious appetite for
computer resources" and noting the ugliness and
extreme hairiness of the code and internals, Kernighan concludes:
</p>

<p><em class="emphasis">"None of these remarks should be taken as denigrating
Ossanna's accomplishment with TROFF. It has proven a
remarkably robust tool, taking unbelievable abuse from a variety of
preprocessors and being forced into uses that were never conceived of
in the original design, all with considerable grace under fire."
</em></p>

<p>The success of T<sub class="subscript">E</sub>X and desktop publishing
systems have reduced troff's relative importance,
but this tribute perfectly captures the strengths that secured troff
a place in hacker folklore; indeed, it could be taken more generally
as an indication of those qualities of good programs that, in the
long run, hackers most admire.
</p>
</blockquote>

<p> <em class="emphasis">-- DJPH</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch45_10.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch45_12.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">45.10. Introduction to Typesetting</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">45.12. Typesetting Manpages: nroff</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>
