<html><head><title>Where, Oh Where Did That Packet Go? (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch46_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch46_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">46.4. Where, Oh Where Did That Packet Go?</h2>

<p><i class="command">ping</i><a name="IXT-46-497" /><a name="IXT-46-498" /><a name="IXT-46-499" /><a name="IXT-46-500" />is a
<a name="IXT-46-501" />very simple tool
and often the first used to diagnose a network problem.
<i class="command">ping</i> sends one or more <b class="emphasis-bold">ICMP</b> (<a href="ch46_01.htm#upt3-CHP-46-SECT-1">Section 46.1</a>) Echo
Request messages to a particular IP address. If there is a machine at
that IP address listening for ICMP messages (and no firewall
filtering out packets in the middle), <i class="command">ping</i> gets
back Echo Reply messages, thus telling you that basic IP
communication is functional between the two machines. If you
can't <i class="command">ping</i> something close by and
you know you don't have a <b class="emphasis-bold">firewall</b> (<a href="ch46_12.htm#upt3-CHP-46-SECT-12">Section 46.12</a>)
filtering out your packets, it's generally not worth
trying anything more complex; start looking for <b class="emphasis-bold">interfaces down or routing problems</b> (<a href="ch46_03.htm#upt3-CHP-46-SECT-3">Section 46.3</a>) or, possibly, unplugged cables or the like.
</p>

<p><i class="command">traceroute</i><a name="IXT-46-502" /><a name="IXT-46-503" /> does what you might expect
from the name: it traces the route between your machine and another
machine, using ICMP messages, and shows you each step of the way.
Sometimes, when you can't get to another machine
that's far away, you can use
<i class="command">traceroute</i> to see what's going
on.
</p>

<p><i class="command">mtr</i><a name="IXT-46-504" /> stands for Matt's
<em class="emphasis">traceroute</em> and is a more sophisticated
<em class="emphasis">traceroute</em>. Not only does it show you each hop
along the way, but it also sends multiple messages and gives you an
ongoing display of latency at each hop. I use <i class="command">mtr</i>
instead of <i class="command">traceroute</i> pretty exclusively.
It's available at <a href="http://www.bitwizard.nl/mtr/">http://www.bitwizard.nl/mtr/</a>, or your Unix
may have a binary package of it available.
</p>

<p>For serious network <a name="IXT-46-505" /> <a name="IXT-46-506" />debugging, take a look at
<i class="command">tcpdump</i> and <i class="command">ethereal</i>.
<i class="command">tcpdump</i> can take apart packets as they go by and
show you what's going on in excruciating detail, and
<i class="command">ethereal</i> provides a nice GUI on top of
<i class="command">tcpdump</i>.
</p>

<p> <em class="emphasis">-- DJPH</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch46_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch46_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">46.3. Status and Troubleshooting</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">46.5. The Director of Operations: inetd</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>