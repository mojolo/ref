<html><head><title>The ( ) Subshell Operators (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch43_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch43_08.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">43.7. The ( ) Subshell Operators</h2>

<p><a name="IXT-43-2287" /> <a name="IXT-43-2288" /><a name="IXT-43-2289" />A useful shell trick is
to use <a name="IXT-43-2290" />parentheses, <tt class="literal">( )</tt>,
to group commands.
</p>

<a name="upt3-CHP-43-SECT-7.1" /><div class="sect2">
<h3 class="sect2">43.7.1. Combining Several Commands</h3>

<p>The parentheses start a <b class="emphasis-bold">subshell</b>
(<a href="ch24_04.htm#upt3-CHP-24-SECT-4">Section 24.4</a>) that, in effect,
"collects" the output of all the
commands inside. (It does the same thing for the
<a name="IXT-43-2291" /><a name="IXT-43-2292" /><a name="IXT-43-2293" />standard input and
standard error.) The output of the entire group can be passed
together into a single pipeline. For example:
</p>

<p><tt class="literal">echo</tt> <a href="ch27_05.htm#upt3-CHP-27-SECT-5">Section 27.5</a></p>

<blockquote><pre class="code">$ <tt class="userinput"><b>(cat file1; echo .bp; cat file2) | nroff</b></tt></pre></blockquote>

<p>This will interpose the <i class="command">nroff</i>
<tt class="literal">.bp</tt> (break page) request between two files to be
formatted.<a href="#FOOTNOTE-130">[130]</a>
</p><blockquote class="footnote"> <a name="FOOTNOTE-130" /><p> [130]If you're using only
<i class="command">cat</i> and a single <i class="command">echo</i>, you can
use this command instead:</p> </blockquote>

<p>Parentheses are also useful in the Bourne shell if you want to put an
entire sequence of commands separated by <b class="emphasis-bold">semicolons (;)</b> (<a href="ch28_16.htm#upt3-CHP-28-SECT-16">Section 28.16</a>)
into the background. In the C shell, the command line below will go
immediately into the background.
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>nroff -ms file1; nroff -ms file2 &amp;</b></tt></pre></blockquote>

<p>But in the Bourne shell, the background request
(<tt class="literal">&amp;</tt>) will apply only to the second command,
forcing you to wait for completion of the first job before you get
back the system prompt. To get right back to work, you can type:
</p>

<blockquote><pre class="code">$ <tt class="userinput"><b>(nroff -ms file1; nroff -ms file2) &amp;</b></tt></pre></blockquote>

</div>
<a name="upt3-CHP-43-SECT-7.2" /><div class="sect2">
<h3 class="sect2">43.7.2. Temporary Change of Directory and Environment</h3>

<p><a name="IXT-43-2294" /><a name="IXT-43-2295" />Commands that run between the
parentheses won't affect the parent
shell's environment. For instance, to run a command
in another directory <b class="emphasis-bold">without changing your
active shell's current directory</b> (<a href="ch24_03.htm#upt3-CHP-24-SECT-3">Section 24.3</a>): 
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>pwd</b></tt>
/home/trent
% <tt class="userinput"><b>(cd</b></tt> <em class="replaceable"><tt>somewhere-else</tt></em><tt class="userinput"><b>; nroff -ms file1 &gt; file.out) &amp;</b></tt>
[1] 22670
% <tt class="userinput"><b>pwd</b></tt>
/home/trent</pre></blockquote>

<p>The file <em class="emphasis">file.out</em> will be created in the
<em class="emphasis">somewhere-else</em> directory.
</p>

<p><em class="emphasis">--TOR and JP</em></p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch43_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch43_08.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">43.6. Safe I/O Redirection with noclobber</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">43.8. Send Output Two or More Places</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>