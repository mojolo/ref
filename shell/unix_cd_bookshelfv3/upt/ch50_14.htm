<html><head><title>Why Can't You Change File Ownership? (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch50_13.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch50_15.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">50.14. Why Can't You Change File Ownership?</h2>

<p><a name="IXT-50-1106" /><a name="IXT-50-1107" /><a name="IXT-50-1108" />This
restriction is not bogus, because the system supports <b class="emphasis-bold">disk quotas</b> (<a href="ch15_11.htm#upt3-CHP-15-SECT-11">Section 15.11</a>). If
you could give away your own files, you could do something like the
following:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>mkdir .hide; chmod 700 .hide</b></tt>
% <tt class="userinput"><b>cd .hide</b></tt>
% <tt class="userinput"><b>create_huge_file &gt;foo</b></tt>
% <tt class="userinput"><b>chown prof1 foo</b></tt>
% <tt class="userinput"><b>create_huge_file &gt;bar</b></tt>
% <tt class="userinput"><b>chown prof2 bar</b></tt>
% <tt class="userinput"><b>create_huge_file &gt;ba</b></tt>z
% <tt class="userinput"><b>chown prof3 baz</b></tt></pre></blockquote>

<p>All you would need do is find someone with a high quota or no quota
(such as a professor) who does not often check his own usage (such as
a professor) and probably does not care that the disk is 99 percent
full (such as a, er, well, never mind), and then give away files as
necessary to keep under your own quota. You could regain ownership of
the file by copying it to another disk partition, removing the
original, and copying it back.
</p>

<p>If you need to change ownership, there is a <b class="emphasis-bold">workaround</b> (<a href="ch50_15.htm#upt3-CHP-50-SECT-15">Section 50.15</a>) that
doesn't require root access.
</p>

<p> <em class="emphasis">-- CT</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch50_13.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch50_15.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">50.13. Shell Scripts Must Be Readable and (Usually) Executable</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">50.15. How to Change File Ownership Without chown</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>