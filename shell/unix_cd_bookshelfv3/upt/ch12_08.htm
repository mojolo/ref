<html><head><title>How to Look at the End of a File: tail (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch12_07.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch12_09.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">12.8. How to Look at the End of a File: tail</h2>

<p><a name="upt3-IDXTERM-1917" /> <a name="upt3-IDXTERM-1918" />
<a name="upt3-IDXTERM-1919" />Let's say that you want
to look at the end of some large file. For example,
you've just sent some mail and want to find out
whether it was handled correctly. But when you look at your mail
logs, you find out that the log file is 30 or 40 KB long, and you
don't care about the whole thing -- you certainly
don't want to page through it until you get to the
end. How do you handle this?
</p>

<p>The <i class="command">tail</i> command is just what you need in this
situation. <i class="command">tail</i> reads its input and discards
everything except for the last ten lines (by default). Therefore, if
you're pretty sure that the information you want is
at the end of the file, you can use <i class="command">tail</i> to get
rid of the junk that you don't want. To see just the
end of that mail log (in this case,
<i class="command">qmail</i>'s log):
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>tail /var/log/maillog</b></tt>
Feb 19 10:58:45 yyy qmail: 1014141525.474209 delivery 6039: success: did_0+0+1/
Feb 19 10:58:45 yyy qmail: 1014141525.491370 status: local 0/10 remote 0/20
Feb 19 10:58:45 yyy qmail: 1014141525.492211 end msg 111214
Feb 19 11:11:15 yyy qmail: 1014142275.469000 new msg 111214
Feb 19 11:11:15 yyy qmail: 1014142275.469631 info msg 111214: bytes 281 from
&lt;xxx@yyy.zyzzy.com&gt; qp 51342 uid 1000
Feb 19 11:11:15 yyy qmail: 1014142275.562074 starting delivery 6040: msg 111214
to remote xyz@frob.com
Feb 19 11:11:15 yyy qmail: 1014142275.562630 status: local 0/10 remote 1/20
Feb 19 11:11:30 yyy qmail: 1014142290.110546 delivery 6040: success:
64.71.166.115_accepted_message./Remote_host_said:_250_Ok:_queued_as_C0EC73E84D/
Feb 19 11:11:30 yyy qmail: 1014142290.127763 status: local 0/10 remote 0/20
Feb 19 11:11:30 yyy qmail: 1014142290.128381 end msg 111214</pre></blockquote>

<p>For another common example, to see the latest entries from the BSD or
<a name="IXT-12-6483" />Linux kernel
ring buffer:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>dmesg | tail</b></tt>
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port
ppi0: &lt;Parallel I/O&gt; on ppbus0
IPsec: Initialized Security Association Processing.
ad0: 19569MB &lt;ST320430A&gt; [39761/16/63] at ata0-master UDMA66
afd0: 239MB &lt;IOMEGA ZIP 250 ATAPI&gt; [239/64/32] at ata0-slave using PIO3
acd0: CDROM &lt;ATAPI CDROM&gt; at ata1-master using PIO4
Mounting root from ufs:/dev/ad0s1a
pid 50882 (fetch), uid 0: exited on signal 10 (core dumped)
pid 88041 (smbd), uid 1000 on /usr: file system full</pre></blockquote>

<p>This will give you the <a name="IXT-12-6484" />last ten lines from the
<i class="command">dmesg</i> command. If you need more or less than ten
lines, look at <a href="ch12_09.htm#upt3-CHP-12-SECT-9">Section 12.9</a>.
</p>

<p>Althought the GNU version is better behaved, some older versions of
<i class="command">tail</i> accept one (and <em class="emphasis">only</em>
one!) filename:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>tail </b></tt><em class="replaceable"><tt>somefile</tt></em></pre></blockquote>

<p>There are many other situations in which <i class="command">tail</i> is
useful: I've used it to make sure that a job that
produces a big output file has finished correctly, to remind me what
the last piece of mail in my mailbox was about, and so on.
You'll find <i class="command">tail</i> important
whenever you're interested only in the end of
something.
</p>

<p> <em class="emphasis">-- ML</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch12_07.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch12_09.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">12.7. Squash Extra Blank Lines</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">12.9. Finer Control on tail</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>