<html><head><title>Querying Your xterm Size: resize (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch05_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">5.5. Querying Your xterm Size: resize</h2>

<p><a name="IXT-5-7321" /><a name="IXT-5-7322" />When the
<i class="command">xterm</i><a name="IXT-5-7323" /><a name="IXT-5-7324" /> client is called, it not only sets
the <em class="emphasis">TERM</em> environment variable, but it also
adjusts the terminal definition for the size of the window being
created. The size of <i class="command">xterm</i> windows, however, can
be changed later on by using the window manager. If the window is
resized, then the user's shell may need to be passed
the new size information as well, or programs that use termcap and
terminfo won't work correctly. The
<i class="command">resize</i><a name="IXT-5-7325" />
client is provided for redefining the number of lines and columns for
the terminal database used in an <i class="command">xterm</i> window.
Note that <i class="command">resize</i> cannot be used for terminal
emulators other than <i class="command">xterm</i> (except for those, like
<i class="command">rxvt</i>, that emulate <i class="command">xterm</i>)
because it depends on <i class="command">xterm</i>'s
escape sequences.
</p>

<p>Some systems can send a "window size
changed" signal (<em class="emphasis">SIGWINCH</em>) to
programs and do not require <i class="command">resize</i> to be run for a
resized <i class="command">xterm</i> window. We recommend using
<i class="command">resize</i> only if terminal-based programs start to
have problems with your window size. A typical terminal-based program
that is having problems with the window size will fill only some of
the lines in the window -- or may scroll lines down the window
when it shouldn't.
</p>

<p>The <i class="command">resize</i> client is typically used immediately
after the dimensions of an <i class="command">xterm</i> window are
changed. A peculiarity of the <i class="command">resize</i> client is
that it does not access the shell itself, but simply returns the
shell commands that would be needed; to have those commands read by
the shell, you either save its output in a file and read the file
with the shell commands <i class="command">source</i> or <b class="emphasis-bold">.</b> (<a href="ch35_29.htm#upt3-CHP-35-SECT-29">Section 35.29</a>), or
<a name="IXT-5-7326" />evaluate <i class="command">resize</i>
output using the shell command <b class="emphasis-bold">eval</b>
(<a href="ch27_08.htm#upt3-CHP-27-SECT-8">Section 27.8</a>). For example, after resizing a window,
you would type in that shell:
</p>

<p><tt class="literal">`...`</tt> <a href="ch28_14.htm#upt3-CHP-28-SECT-14">Section 28.14</a></p>

<blockquote><pre class="code">% eval `resize`</pre></blockquote>

<p>When you call the <i class="command">resize</i> command under a termcap
system, it produces the commands for resetting the
<a name="IXT-5-7327" />TERMCAP environment variable with the
<em class="emphasis">li#</em> and <em class="emphasis">co#</em> capabilities
reflecting the current dimensions. When you call the
<i class="command">resize</i> command under a
<a name="IXT-5-7328" />terminfo system, it produces the
commands for resetting the
<em class="emphasis">LINES</em><a name="IXT-5-7329" /> and <em class="emphasis">COLUMNS</em>
environment variables.
</p>

<p>The <i class="command">resize</i> command consults the value of your
<em class="emphasis">SHELL</em><a name="IXT-5-7330" /> <a name="IXT-5-7331" />
environment variable and generates the commands for setting variables
within that shell. If you're using a nonstandard
shell, <i class="command">resize</i> may still recognize your shell; as
of X Release 5, <i class="command">resize</i> recognizes
<i class="command">tcsh</i>, <i class="command">jcsh</i>,
<i class="command">ksh</i>, <i class="command">bash</i>, and
<i class="command">jsh</i>. But if <i class="command">resize</i> does not
recognize your shell, try using the
<span class="option">-c</span><a name="IXT-5-7332" /> or
<span class="option">-u</span> options to force <i class="command">resize</i> to use
C- or Bourne-shell syntax (respectively), depending on which syntax
is appropriate for your shell.
</p>

<p><em class="emphasis">--LM, EP, and SJC</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch05_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">5.4. Querying Your Terminal Type: qterm</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">5.6. Checklist: Terminal Hangs When I Log In</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>