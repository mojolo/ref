<html><head><title>Wildcards with "Fast find" Database (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_18.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch09_20.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">9.19. Wildcards with "Fast find" Database</h2>

<p><em class="filename">locate</em><a name="IXT-9-123" /> <a name="IXT-9-124" /><a name="IXT-9-125" /> and all the
"fast <em class="filename">find</em>"
commands I've used can match <b class="emphasis-bold">shell wildcards</b>
(<a name="IXT-9-126" /><a href="ch01_13.htm#upt3-CHP-1-SECT-13">Section 1.13</a>) (<tt class="literal">*</tt><a name="IXT-9-127" /> <a name="IXT-9-128" /> <a name="IXT-9-129" />,
<tt class="literal">?</tt>, <tt class="literal">[ ]</tt>). If you use a wildcard
on one end of the pattern, the search pattern is automatically
"anchored" to the opposite end of
the string (the end where the wildcard isn't). The
shell matches filenames in the same way.
</p>

<p>The difference between the shell's wildcard matching
and <em class="filename">locate</em><a name="IXT-9-130" /> matching is that the shell treats
slashes (<tt class="literal">/</tt><a name="IXT-9-131" />) in a special manner: you have to type
them as part of the expression. In <em class="filename">locate</em>, a
wildcard matches slashes and any other character. When you use a
wildcard, be sure to put quotes around the pattern so the shell
won't touch it.
</p>

<p>Here are some examples:</p>

<ul><li>
<p>To find any pathname that ends with <em class="filename">bin</em>:</p>
<blockquote><pre class="code">% <tt class="userinput"><b>locate '*bin'</b></tt>
/bin
/home/robin
/home/robin/bin
   ...</pre></blockquote>

</li>

<li>
<p>To find any pathname that ends with <em class="filename">/bin</em> (a good
way to find a file or directory named exactly
<em class="filename">bin</em>):
</p>
<blockquote><pre class="code">% <tt class="userinput"><b>locate '*/bin'</b></tt>
/bin
/home/robin/bin
/usr/bin
   ...</pre></blockquote>
</li>

<li>
<p>Typing <tt class="literal">locate '*bin*'</tt> is the same as typing
<tt class="literal">locate bin</tt>.
</p>
</li>

<li>
<p>To match the files in a directory named <em class="filename">bin</em>, but
not the directory itself, try something like this:
</p>
<blockquote><pre class="code">% <tt class="userinput"><b>locate '*/bin/*'</b></tt>
/bin/ar
/bin/cat
   ...
/home/robin/bin/prog</pre></blockquote>
</li>

<li>
<p>To find the files in <em class="filename">/home</em> whose names end with
a tilde (<tt class="literal">~</tt>) (these are probably backup files from
the Emacs editor):
</p>
<blockquote><pre class="code">% <tt class="userinput"><b>locate '/home/*~'</b></tt>
/home/testfile~
/home/allan/.cshrc~
/home/allan/.login~
/home/dave/.profile~
   ...</pre></blockquote>

<p>Notice that the <em class="filename">locate</em> asterisk matches dot
files, unlike shell wildcards.
</p>
</li>

<li>
<p>The question mark (<tt class="literal">?</tt>) and square brackets
(<tt class="literal">[ ]</tt>) operators work, too.
They're not quite as useful as they are in the shell
because they match the slashes (<tt class="literal">/</tt>) in the
pathnames. Here are a couple of quick examples:
</p>
<blockquote><pre class="code">% <tt class="userinput"><b>locate '????'</b></tt>
/bin
/etc
/lib
/src
/sys
/usr
% <tt class="userinput"><b>locate '/[bel]??'</b></tt>
/bin
/etc
/lib</pre></blockquote>
</li></ul>


<p> <em class="emphasis">-- JP</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_18.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch09_20.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">9.18. Using "Fast find" Databases</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">9.20. Finding Files (Much) Faster with a find Database</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>