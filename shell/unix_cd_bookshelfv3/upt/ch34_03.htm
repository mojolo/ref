<html><head><title>Invoking sed (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch34_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch34_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">34.3. Invoking sed</h2>

<p><a name="IXT-34-696" /> <a name="IXT-34-697" />If you
were using <i class="command">sed</i> on the fly, as a <b class="emphasis-bold">stream editor</b> (<a href="ch34_02.htm#upt3-CHP-34-SECT-2">Section 34.2</a>),
you might execute it as simply as this:
</p>

<blockquote><pre class="code">% <em class="replaceable"><tt>somecommand</em><tt class="userinput"><b> | sed 's/old/new/' | </b></tt><em class="replaceable">othercommand</tt></em></pre></blockquote>

<p>Given filenames, <i class="command">sed</i> will read them instead of
standard input:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>sed 's/old/new/' myfile</b></tt></pre></blockquote>

<p>A simple script can go right on the command line. If you want to
execute more than one editing command, you can use the
<span class="option">-e</span><a name="IXT-34-698" />
option:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>sed -e 's/old/new/' -e '/bad/d' myfile</b></tt></pre></blockquote>

<p>Or you can use semicolons (<tt class="literal">;</tt>), which are a
<i class="command">sed</i> command separator:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>sed 's/old/new/; /bad/d' myfile</b></tt></pre></blockquote>

<p>Or (especially useful in <b class="emphasis-bold">shell
scripts</b> (<a href="ch01_08.htm#upt3-CHP-1-SECT-8">Section 1.8</a>)) you can use the
Bourne shell's ability to understand
<a name="IXT-34-699" />multiline commands:
</p>

<blockquote><pre class="code">sed '
s/old/new/
/bad/d' myfile</pre></blockquote>

<p>Or you can put your commands into a file and tell
<i class="command">sed</i> to read that file with the
<span class="option">-f</span><a name="IXT-34-700" /> option:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>sed -f scriptfile myfile</b></tt></pre></blockquote>

<p>There's only one other command-line option:
<span class="option">-n</span><a name="IXT-34-701" />.
<i class="command">sed</i> normally prints every line of its input
(except those that have been deleted by the editing script). But
there are times when you want only lines that your script has
affected or that you explicitly ask for with the
<em class="emphasis">p</em> command. In these cases, use
<span class="option">-n</span> to suppress the normal output.
</p>

<p> <em class="emphasis">-- TOR</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch34_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch34_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">34.2. Two Things You Must Know About sed</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">34.4. Testing and Using a sed Script: checksed, runsed</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>