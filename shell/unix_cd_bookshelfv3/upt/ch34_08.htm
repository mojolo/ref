<html><head><title>Delimiting a Regular Expression (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch34_07.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch34_09.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">34.8. Delimiting a Regular Expression</h2>

<p>Whether in<a name="IXT-34-725" /> <a name="IXT-34-726" />
<i class="command">sed</i> or <i class="command">vi</i>, when using the
<a name="IXT-34-727" />substitution command, a
delimiter is required to separate the <a name="IXT-34-728" /><a name="IXT-34-729" />search pattern from the
replacement string. The delimiter can be any character except blank
or a newline (<i class="command">vi</i><a name="IXT-34-730" /> seems to be
more restrictive than <i class="command">sed</i>, although
<i class="command">vim</i> is extremely flexible). However, the usual
practice is to use the <a name="IXT-34-731" />slash (<tt class="literal">/</tt>) as a
delimiter (for example,
<tt class="literal">s/</tt><em class="replaceable"><tt>search</em><tt class="literal">/</tt><em class="replaceable">replacement</tt></em><tt class="literal">/</tt>).
</p>

<p>When <a name="IXT-34-732" />either the search pattern or
the replacement string contains a slash, it is easier to change the
delimiter character than to escape the slash. Thus, if the pattern
was attempting to match Unix pathnames, which contain slashes, you
could choose another character, such as a colon, as the delimiter:
</p>

<blockquote><pre class="code">s:/usr/mail:/usr2/mail:</pre></blockquote>

<p>Note that the delimiter appears three times and is required after the
replacement. Regardless of which delimiter you use, if it does appear
in the search pattern or the replacement, put a backslash
(<tt class="literal">\</tt>) before it to escape it.
</p>

<p>If you don't know what characters the search pattern
might have (in a shell program that handles any kind of input, for
instance), the safest choice for the delimiter can be a control
character.
</p>

<p>You can use any delimiter for a pattern address (not just a slash).
Put a backslash before the first delimiter. For example, to delete
all lines containing <em class="emphasis">/usr/mail</em>, using a colon
(:) as the delimiter:
</p>

<blockquote><pre class="code">\:/usr/mail:d</pre></blockquote>

<p>--<em class="emphasis">DD and JP</em></p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch34_07.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch34_09.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">34.7. One Thing at a Time</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">34.9. Newlines in a sed Replacement</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>