<html><head><title>vi Word Abbreviation (Unix Power Tools, 3rd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Shelley Powers, Jerry Peek, Tim O'Reilly, Mike Loukides and  " /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00330-7" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="UNIX Power Tools, 3rd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Unix Power Tools" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Unix Power Tools" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch17_22.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch17_24.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">17.23. vi Word Abbreviation</h2>

<p><a name="upt3-IDXTERM-2538" />
<a name="upt3-IDXTERM-2539" /> <a name="upt3-IDXTERM-2540" />You can define abbreviations that
<i class="command">vi</i> will automatically expand into the full text
whenever it's typed during text-input mode. To define an
abbreviation, use the <i class="command">ex</i> command:
</p>

<blockquote><pre class="code"><tt class="userinput"><b>:ab</b></tt> <em class="replaceable"><tt>abbr phrase</tt></em></pre></blockquote>

<p><em class="emphasis">abbr</em> is an abbreviation for the specified
<em class="emphasis">phrase</em>. The sequence of characters that make up
the abbreviation will be expanded during text-input mode only if you
type it as a full word; <em class="emphasis">abbr</em> will not be
expanded within a word. [I abbreviate <em class="emphasis">Covnex</em> to
<em class="emphasis">Convex</em>, my company's name, because I have
dyslexic fingers.  <em class="emphasis">-- TC</em>]
</p>

<p>Suppose you want to enter text that contains a frequently occuring
phrase, such as a difficult product or company name. The command:
</p>

<blockquote><pre class="code"><tt class="userinput"><b>:ab ns the Nutshell Handbook</b></tt></pre></blockquote>

<p>abbreviates <em class="emphasis">the Nutshell Handbook</em> to the
initials <em class="emphasis">ns</em>. Now whenever you type
<em class="emphasis">ns</em> as a separate word during text-input mode,
<em class="emphasis">ns</em> expands to the full text.
</p>

<p>Abbreviations expand as soon as you press a nonalphanumeric character
(e.g., punctuation), a carriage return, or ESC (returning to command
mode).<a href="#FOOTNOTE-50">[50]</a> When you are choosing abbreviations,
choose combinations of characters that don't ordinarily occur while
you are typing text. If you create an abbreviation that ends up
expanding in places where you don't want it to, you can disable the
abbreviation by typing:
</p><blockquote class="footnote"> <a name="FOOTNOTE-50" /><p> [50]An abbreviation won't expand when you type an
underscore ( <tt class="literal">_</tt> ); it's treated as part of the
abbreviation.</p> </blockquote>

<blockquote><pre class="code"><tt class="userinput"><b>:unab</b></tt> <em class="replaceable"><tt>abbr</tt></em></pre></blockquote>

<p>To list your currently defined abbreviations, type:</p>

<blockquote><pre class="code"><tt class="userinput"><b>:ab</b></tt></pre></blockquote>

<p>The characters that compose your abbreviation cannot appear at the
end of your phrase. For example, if you issue the command:
</p>

<blockquote><pre class="code"><tt class="userinput"><b>:ab PG This movie is rated PG</b></tt></pre></blockquote>

<p>you'll get the message <tt class="literal">No tail recursion</tt>, and the
abbreviation won't be set. The message means that you have tried to
define something that will expand itself repeatedly, creating an
infinite loop. If you issue the command:
</p>

<blockquote><pre class="code"><tt class="userinput"><b>:ab PG the PG rating system</b></tt></pre></blockquote>

<p>you may or may not produce an infinite loop, but in either case you
won't get a warning message. For example, when the previous command
was tested on a System V version of Unix, the expansion worked. On a
Berkeley version, though, the abbreviation expanded repeatedly, like
this:
</p>

<blockquote><pre class="code">the the the the the ...</pre></blockquote>

<p>until a memory error occurred and <i class="command">vi</i> quit. We
recommend that you avoid repeating your abbreviation as part of the
defined phrase.
</p>

<p>--<em class="emphasis">DD and DG, from <em class="emphasis">Learning the vi Editor</em>
(O'Reilly, 1998)</em>
</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch17_22.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch17_24.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">17.22. vi Compound Searches</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">17.24. Using vi Abbreviations as Commands </td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>