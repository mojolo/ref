<html><head><title>The 1988 Korn Shell (Learning the Korn Shell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Arnold Robbins and Bill Rosenblatt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00195-9" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Learning the Korn Shell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Book Title" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appa_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="appa_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">A.2. The 1988 Korn Shell</h2>

<p>
<a name="korn2-IDXTERM-2053" />
<a name="korn2-IDXTERM-2054" />

Perhaps the most obvious shell with which to compare <em class="emphasis">ksh93</em>
is <em class="emphasis">ksh88</em>, the 1988 version of the Korn shell.
This section
briefly describes those features of <em class="emphasis">ksh93</em>
that are either different or nonexistent in <em class="emphasis">ksh88</em>.
As with the presentation for the Bourne shell,
the topics are covered in the same order as they're presented in the rest of
the book.
</p>

<dl>

<dt><i><a href="ch01_01.htm">Chapter 1</a></i></dt>
<dd>
The built-in help facilities (such as <em class="emphasis">-?</em></tt>,
<em class="emphasis">--man</em></tt>, and so on) are not available.
</p>

<p>
Tilde substitution does not occur during variable expansion
(<tt class="literal">${</tt><tt><em class="replaceable"><tt>var</tt></em></tt>
<tt><em class="replaceable"><tt>op</em></tt> <tt><em class="replaceable">word</tt></em></tt><tt class="literal">}</tt>).
</p></dd>


<dt><i><a href="ch02_01.htm">Chapter 2</a></i></dt>
<dd>
CTRL-T works differently in emacs editing mode.
In <em class="emphasis">ksh88</em>, it transposes the two
characters to the right of point and moves point forward
by one character.
</p>

<p>
In emacs-mode,
ESC ESC, ESC <tt class="literal">*</tt>, and ESC <tt class="literal">=</tt> don't work on the
first word of a command line, i.e., there is no command completion facility.
The ESC <tt class="literal">#</tt> command always prepends a <tt class="literal">#</tt>
character.  It never removes them.
</p>

<p>
Similarly, in vi-mode, the <tt class="literal">*</tt>, <tt class="literal">\</tt>
and <tt class="literal">=</tt> commands don't work on the first word of a command line,
and the <tt class="literal">#</tt> command always prepends a <tt class="literal">#</tt>
character.  It never removes them.
</p>

<p>
Finally, there is no variable completion, the <em class="emphasis">hist</em>
command is called <em class="emphasis">fc</em>,
<tt class="literal">FCEDIT</tt> is used in place of <tt class="literal">HISTEDIT</tt>,
and the <tt class="literal">HISTCMD</tt>
variable is not available.
</p></dd>


<dt><i><a href="ch03_01.htm">Chapter 3</a></i></dt>
<dd>
The <tt class="literal">ENV</tt> file is
sourced for all shells, and  <em class="emphasis">ksh88</em></tt> only does
variable substitution on the value of <tt class="literal">$ENV</tt>.
</p>

<p>
Alias tracking can be turned off in <em class="emphasis">ksh88</em></tt>.
</p>

<p>
The <em class="emphasis">-p</em></tt> option to <em class="emphasis">alias</em></tt> is not
present in <em class="emphasis">ksh88</em></tt>, nor is the <em class="emphasis">-a</em></tt>
option to <em class="emphasis">unalias</em></tt>.
</p>

<p>
The following built-in variables aren't supported:
</p>

<table border="1" cellpadding="3">


<tr>
<td><tt class="literal">.sh.edchar</tt></td>
<td><tt class="literal">.sh.match</tt></td>
<td><tt class="literal">.sh.version</tt></td>
<td><tt class="literal">LANG</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.edcol</tt></td>
<td><tt class="literal">.sh.name</tt></td>
<td><tt class="literal">FIGNORE</tt></td>
<td><tt class="literal">LC_ALL</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.edmode</tt></td>
<td><tt class="literal">.sh.subscript</tt></td>
<td><tt class="literal">HISTCMD</tt></td>
<td><tt class="literal">LC_COLLATE</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.edtext</tt></td>
<td><tt class="literal">.sh.value</tt></td>
<td><tt class="literal">HISTEDIT</tt></td>
<td><tt class="literal">LC_CTYPE</tt></td>
</tr>


</table><p>
</dd>


<dt><i><a href="ch04_01.htm">Chapter 4</a></i></dt>
<dd>
In <em class="emphasis">ksh88</em>, both syntaxes for defining functions produce functions
with Korn shell semantics.  You cannot apply the dot command to a function name.
</p>

<p>
The command search order in <em class="emphasis">ksh88</em> is
keywords, aliases,
all built-in commands, functions, and then external commands and scripts.
The order was changed in <em class="emphasis">ksh93</em> for POSIX compliance.
</p>

<p>
In <em class="emphasis">ksh88</em>, undefined (autoloaded) functions are searched
for exclusively along the list in the <tt class="literal">FPATH</tt> variable, and
<tt class="literal">PATH</tt> is not involved.
</p>

<p>
The <em class="emphasis">.paths</em> file feature is not available.
</p>

<p>
Many of the variable substitution features described in the main text are new
to <em class="emphasis">ksh93</em>.  Only the following are available in <em class="emphasis">ksh88</em>:
<tt class="literal">${</tt><em class="replaceable"><tt>name</em><tt class="literal">:-</tt><em class="replaceable">string</tt></em><tt class="literal">}</tt>,
<tt class="literal">${</tt><em class="replaceable"><tt>name</em><tt class="literal">:=</tt><em class="replaceable">string</tt></em><tt class="literal">}</tt>,
<tt class="literal">${</tt><em class="replaceable"><tt>name</em><tt class="literal">:?</tt><em class="replaceable">string</tt></em><tt class="literal">}</tt>,
<tt class="literal">${</tt><em class="replaceable"><tt>name</em><tt class="literal">:+</tt><em class="replaceable">string</tt></em><tt class="literal">}</tt>,
<tt class="literal">${</tt><em class="replaceable"><tt>name</em><tt class="literal">#</tt><em class="replaceable">pattern</tt></em><tt class="literal">}</tt>,
<tt class="literal">${</tt><em class="replaceable"><tt>name</em><tt class="literal">##</tt><em class="replaceable">pattern</tt></em><tt class="literal">}</tt>,
<tt class="literal">${</tt><em class="replaceable"><tt>name</em><tt class="literal">%</tt><em class="replaceable">pattern</tt></em><tt class="literal">}</tt>,
<tt class="literal">${</tt><em class="replaceable"><tt>name</em><tt class="literal">%%</tt><em class="replaceable">pattern</tt></em><tt class="literal">}</tt>,
$<tt class="literal">{#</tt><em class="replaceable"><tt>name</tt></em><tt class="literal">}</tt>,
$<tt class="literal">{#</tt><em class="replaceable"><tt>name</tt></em><tt class="literal">[*]}</tt>,
and
$<tt class="literal">{#</tt><em class="replaceable"><tt>name</tt></em><tt class="literal">[@]}</tt>.
</p>

<p>
Compound variables, namerefs and
the <tt class="literal">+=</tt> operator for appending to a variable
are not in <em class="emphasis">ksh88</em>.
</p>

<p>
The \<em class="emphasis">n</em> notation in patterns is not available,
nor are
non-greedy matching, the
use of backslash escapes in patterns,
options in subpatterns, nor any of the <tt class="literal">[:</tt>...<tt class="literal">:]</tt>
character classes.
</p>

<p>
The <tt class="literal">.sh.match</tt> array is not available.
</p></dd>


<dt><i><a href="ch05_01.htm">Chapter 5</a></i></dt>

<dd>
Exit values in <em class="emphasis">ksh88</em></tt>
only go up to 128. Programs that die due to a signal have exit status
128 plus signal number.
</p>

<p>
There is no <em class="emphasis">command</em></tt> built-in command.
To replace a built-in, you
have to use an awkward combination of aliasing, functions, and quoting.
</p>

<p>
The <em class="emphasis">set -o pipefail</em></tt> option and the
the <tt class="literal">!</tt> keyword for reversing the sense of a test are
not available. Instead of the
<tt class="literal">==</tt> operator for <tt class="literal">[[</tt>...<tt class="literal">]]</tt>,
<em class="emphasis">ksh88</em></tt> uses <tt class="literal">=</tt>.
</p>

<p>
The arithmetic <tt class="literal">for</tt> loop is not in <em class="emphasis">ksh88</em></tt>.
The use of <tt class="literal">;&amp;</tt> for falling through cases existed in
<em class="emphasis">ksh88</em></tt> but was undocumented.
The <tt class="literal">TMOUT</tt> variable existed in <em class="emphasis">ksh88</em></tt>,
but it only applied to the shell itself, not to the <em class="emphasis">select</em></tt>
loop or the <em class="emphasis">read</em></tt> command.
</p></dd>


<dt><i><a href="ch06_01.htm">Chapter 6</a></i></dt>
<dd>
The <em class="emphasis">ksh88</em> getopts did not have
the ability to specify numeric arguments to options, nor
a way to specify optional arguments to options.
</p>

<p>
The built-in arithmetic only supports integers, and the
<tt class="literal">++</tt>, <tt class="literal">--</tt>,
<tt class="literal">?:</tt> and comma operators aren't available.
Numeric constants of the form
<em class="replaceable"><tt>base</em><tt class="literal">#</tt><em class="replaceable">number</tt></em>
can only go up to base 36.  There are no built-in arithmetic functions.
</p>

<p>
Only indexed arrays exist, and the maximum index is 1023.
</p></dd>


<dt><i><a href="ch07_01.htm">Chapter 7</a></i></dt>
<dd>
The following I/O redirectors are not supported:
</p>



<table border="1" cellpadding="3">


<tr>
<td><tt class="literal">&lt;&amp;</tt><tt><em class="replaceable"><tt>n</tt></em></tt><tt class="literal">-</tt></td>

<td><tt class="literal">&gt;&amp;</tt><tt><em class="replaceable"><tt>n</tt></em></tt><tt class="literal">-</tt></td>

<td><tt class="literal">&lt;&lt;&lt;</tt></td>
</tr>


</table><p>

<p>
TCP/IP networking is available starting with <em class="emphasis">ksh88e</em></tt>,
but you must use IP addresses.
</p>

<p>
<em class="emphasis">ksh88</em></tt> does not have the <em class="emphasis">printf</em></tt> command,
nor the <em class="emphasis">-A</em></tt>, <em class="emphasis">-d</em></tt>,
<em class="emphasis">-n</em></tt>, and <em class="emphasis">-t</em></tt> options to <em class="emphasis">read</em></tt>.
<tt class="literal">TMOUT</tt> does not affect <em class="emphasis">read</em></tt>.
</p>

<p>
Brace expansion and process substitution are compile-time options that
are generally not available in <em class="emphasis">ksh88</em></tt>.
</p>

<p>
Locale translation with <tt class="literal">$"</tt>...<tt class="literal">"</tt> and
ANSI C strings with <tt class="literal">$'</tt>...<tt class="literal">'</tt> are not available.
</p></dd>


<dt><i><a href="ch08_01.htm">Chapter 8</a></i></dt>
<dd>
The <em class="emphasis">disown</em> command is not available, and
neither are the <em class="emphasis">-n</em>
and <em class="emphasis">-s</em> options to <em class="emphasis">kill</em>.
<em class="emphasis">kill -l</em> can only be used
by itself to list the available signals.
</p>

<p>
<em class="emphasis">true</em> and <em class="emphasis">false</em> are predefined aliases
instead of built-in commands.
</p>

<p>
Functions and aliases are exported to shell subprocesses; this is not true of <em class="emphasis">ksh93</em>.
</p></dd>


<dt><i><a href="ch09_01.htm">Chapter 9</a></i></dt>
<dd>
Traps for the DEBUG fake signal are executed <em class="emphasis">after</em></tt> each
command is executed, not before.
</p>

<p>
Discipline functions are not available.
</p></dd>


<dt><i><a href="ch10_01.htm">Chapter 10</a></i></dt>
<dd>
The <em class="emphasis">umask</em> command only works with octal masks.
</p>

<p>
You cannot customize the built-in editors; the KEYBD fake signal
does not exist.
<a name="IXTR3-1" />
<a name="IXTR3-2" />

</p></dd>


</dl>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="appa_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="appa_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">A. Related Shells</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">A.3. The IEEE 1003.2 POSIX Shell Standard</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>