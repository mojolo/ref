<html><head><title>Related Shells (Learning the Korn Shell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Arnold Robbins and Bill Rosenblatt" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00195-9" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Learning the Korn Shell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Book Title" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch10_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="appa_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>


<h1 class="chapter">Appendix A. Related Shells</h1>
<div class="htmltoc"><h4 class="tochead">Contents:</h4><p>
<a href="appa_01.htm#sect1">The Bourne Shell</a><br />
<a href="appa_02.htm">The 1988 Korn Shell</a><br />
<a href="appa_03.htm">The IEEE 1003.2 POSIX Shell Standard</a><br />
<a href="appa_04.htm">dtksh</a><br />
<a href="appa_05.htm">tksh</a><br />
<a href="appa_06.htm">pdksh</a><br />
<a href="appa_07.htm">bash</a><br />
<a href="appa_08.htm">zsh</a><br />
<a href="appa_09.htm">Workalikes on PC Platforms</a><br /></p></div><p>
<a name="korn2-IDXTERM-2050" />

The fragmentation of the Unix marketplace has had its advantages and
disadvantages. The advantages came mostly in the early days: 
lack of standardization and proliferation among technically
savvy academics and professionals
contributed to a healthy "free market" for Unix software, in which
several programs of the same type (e.g., shells, text editors,
system administration tools) would often compete for popularity.
The best programs would usually become the most widespread,
while inferior software tended to fade away.
</p><p>
But often there was no single "best" program in a given category,
so several would prevail.

This led to the current situation, where multiplicity of similar
software has led to confusion, lack of compatibility, and -- most
unfortunate of all -- Unix's inability to capture as big a share of
the market as other operating platforms.
In particular, Unix has been relegated to its current position as a very
popular operating system for servers, but it's a rarity on desktop machines.
</p><p>
The "shell" category has probably suffered in this way more than
any other type of software. As we said in
<a href="ch00_01.htm">the preface</a> and <a href="ch01_01.htm">Chapter 1</a>,
it is one of the strengths of Unix that the shell is replaceable, and thus
a number of shells are currently available; the differences
between them are often not all that great. We believe that the Korn
shell is one of the best of the most widely used shells, but other shells
certainly have their staunch adherents, so they aren't likely to
fade into obscurity.
In fact, it seems that shells, Bourne-compatible or not, continue to proliferate.
</p><p>
Therefore we felt it necessary to include information on 
shells similar to the Korn shell. This Appendix
summarizes the differences between the Korn shell and the following shells:
</p><ul>

<li><p>


The System V Release 4 Bourne shell, as a kind of baseline
</p></li>

<li><p>
The 1988 version of the Korn shell
</p></li>


<li><p>

The IEEE POSIX 1003.2 Shell Standard, to which the Korn
shell and other shells adhere
</p></li>


<li><p>

The Desk Top Korn shell (<em class="emphasis">dtksh</em>), a Korn shell with
enhancements for X Window System programming, as part of the Common Desktop
Environment (CDE)
</p></li>


<li><p>

The <em class="emphasis">tksh</em> shell, an interesting blend
of <em class="emphasis">ksh93</em> with Tcl/Tk
</p></li>


<li><p>

<em class="emphasis">pdksh</em>, a widely used public domain version of the Korn shell
</p></li>


<li><p>

The <em class="emphasis">bash</em> shell, another enhanced Bourne shell
with some C shell and Korn shell features
</p></li>

<li><p>

The Z shell, <em class="emphasis">zsh</em>, yet another enhanced Bourne shell
with some C shell and Korn shell features and many, many more of its own
</p></li>

<li><p>
Korn shell workalikes on desktop PC platforms
</p></li>

</ul><div class="sect1"><a name="korn2-APP-A-SECT-1" />
<h2 class="sect1"><a name="sect1" />A.1. The Bourne Shell</h2>

<p>
<a name="korn2-IDXTERM-2051" />

The Korn shell is almost completely backward-compatible
with the Bourne shell.  

The only significant feature of the latter that
the Korn shell doesn't support is <tt class="literal">^</tt> (caret) as a synonym
for the pipe (|) character.<a href="#FOOTNOTE-145">[145]</a>
This is an archaic feature that
the Bourne shell includes for its own backward compatibility
with earlier shells. No modern Unix version has any shell code
that uses <tt class="literal">^</tt> as a pipe.
</p><blockquote class="footnote">
<a name="FOOTNOTE-145" /><p> [145]
There are also a few differences in how the two shells react to certain 
extremely pathological input. Usually, the Korn shell processes correctly
what causes the Bourne shell to "choke."
</p>
</blockquote>

<p>
To describe the differences between the Bourne shell
and the Korn shell, we'll go through each chapter of this book
and enumerate the features discussed in the chapter that the Bourne
shell does <em class="emphasis">not</em> support.  

</p>

<dl>
<dt><i><a href="ch01_01.htm">Chapter 1</a></i></dt>

<dd>

The <tt class="literal">cd</tt> <tt><em class="replaceable"><tt>old new</tt></em></tt>
and <tt class="literal">cd -</tt> forms of the <em class="emphasis">cd</em></tt> command.
</p>

<p>

Tilde (<tt class="literal">~</tt>) expansion.
</p>

<p>
The Bourne shell always follows the physical file layout, which affects
what happens when you <tt class="literal">cd ..</tt> out of somewhere that
was a symbolic link.
</p>

<p>
The built-in commands don't have online help.
</p>

<p>

Some older versions of the Bourne shell don't support
the <em class="emphasis">jobs</em></tt> command and job control,
or they may require being invoked as <em class="emphasis">jsh</em></tt> in order
to enable job control features.
</p></dd>


<dt><i><a href="ch02_01.htm">Chapter 2</a></i></dt>

<dd>
All (i.e., the Bourne shell doesn't support any of
the history and editing features discussed in <a href="ch02_01.htm">Chapter 2</a>).
</p></dd>


<dt><i><a href="ch03_01.htm">Chapter 3</a></i></dt>

<dd>

Aliases are not supported.
</p>

<p>
<em class="emphasis">set -o</em></tt> options don't work. The Bourne shell
supports the abbreviations listed in the "Options" table in
<a href="appb_01.htm">Appendix B</a>, except
<em class="emphasis">-A</em></tt>,
<em class="emphasis">-b</em></tt>,
<em class="emphasis">-C</em></tt>,
<em class="emphasis">-m</em></tt>,
<em class="emphasis">-p</em></tt>,
and <em class="emphasis">-s</em></tt>.
</p>

<p>

Environment files aren't supported; neither is the <em class="emphasis">print</em></tt>
command (use <em class="emphasis">echo</em></tt> instead).
The following built-in variables aren't supported:
</p>

<table border="1" cellpadding="3">


<tr>
<td><tt class="literal">.sh.edchar</tt></td>
<td><tt class="literal">.sh.version</tt></td>
<td><tt class="literal">HISTEDIT</tt></td>
<td><tt class="literal">LINENO</tt></td>
<td><tt class="literal">PS4</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.edcol</tt></td>
<td><tt class="literal">COLUMNS</tt></td>
<td><tt class="literal">HISTFILE</tt></td>
<td><tt class="literal">LINES</tt></td>
<td><tt class="literal">PWD</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.edmode</tt></td>
<td><tt class="literal">EDITOR</tt></td>
<td><tt class="literal">HISTSIZE</tt></td>
<td><tt class="literal">OLDPWD</tt></td>
<td><tt class="literal">RANDOM</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.edtext</tt></td>
<td><tt class="literal">ENV</tt></td>
<td><tt class="literal">LANG</tt></td>
<td><tt class="literal">OPTARG</tt></td>
<td><tt class="literal">REPLY</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.match</tt></td>
<td><tt class="literal">FCEDIT</tt></td>
<td><tt class="literal">LC_ALL</tt></td>
<td><tt class="literal">OPTIND</tt></td>
<td><tt class="literal">SECONDS</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.name</tt></td>
<td><tt class="literal">FIGNORE</tt></td>
<td><tt class="literal">LC_COLLATE</tt></td>
<td><tt class="literal">PPID</tt></td>
<td><tt class="literal">TMOUT</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.subscript</tt></td>
<td><tt class="literal">FPATH</tt></td>
<td><tt class="literal">LC_CTYPE</tt></td>
<td><tt class="literal">PS3</tt></td>
<td><tt class="literal">VISUAL</tt></td>
</tr>

<tr>
<td><tt class="literal">.sh.value</tt></td>
<td><tt class="literal">HISTCMD</tt></td>
<td><tt class="literal">LC_NUMERIC</tt></td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>


</table><p>

<p>
Some of these variables (e.g., <tt class="literal">EDITOR</tt> and <tt class="literal">VISUAL</tt>)
are still used by other programs, like <em class="emphasis">mail</em></tt> and news readers.
</p></dd>


<dt><i><a href="ch04_01.htm">Chapter 4</a></i></dt>

<dd>
Extended variable names (those with a dot in them), as well as compound
variable assignment are not available, nor is string concatenation
with the <tt class="literal">+=</tt> operator.
</p>

<p>
Indirect variables (namerefs) are not available.
</p>

<p>
The <em class="emphasis">whence</em> command is not available; use
<em class="emphasis">type</em> instead.
</p>

<p>

The pattern-matching variable operators
(<tt class="literal">%</tt>, <tt class="literal">%%</tt>, <tt class="literal">#</tt>, <tt class="literal">##</tt>, etc.)
and advanced (regular expression) wildcards are not available; use
the external command <em class="emphasis">expr</em> instead.
</p>

<p>
Autoloaded functions are not available, and
only POSIX-style functions (those defined using the <em class="replaceable"><tt>name</tt></em><tt class="literal">()</tt>
syntax) may be used.
</p>

<?troff .Nd 10?>

<p>

Command substitution syntax is different: use the older
<tt class="literal">`</tt><em class="replaceable"><tt>command</tt></em><tt class="literal">`</tt>
instead of
<tt class="literal">$(</tt><em class="replaceable"><tt>command</tt></em><tt class="literal">)</tt>.
(Some vendors have enhanced their Bourne shells to support the
<tt class="literal">$(</tt><em class="replaceable"><tt>command</tt></em><tt class="literal">)</tt>
notation, since it's defined by the POSIX standard.)

</p></dd>


<dt><i><a href="ch05_01.htm">Chapter 5</a></i></dt>
<dd>
<tt class="literal">return</tt> may only be used from within a function.
</p>

<p>

Conditional tests use older syntax:
<tt class="literal">[</tt> <tt><em class="replaceable"><tt>condition</tt></em></tt> <tt class="literal">]</tt> or
<tt class="literal">test</tt> <tt><em class="replaceable"><tt>condition</tt></em></tt>
instead of <tt class="literal">[[</tt> <tt><em class="replaceable"><tt>condition</tt></em></tt> <tt class="literal">]]</tt>.
These are actually two forms of the same command
(see the <em class="emphasis">test</em></tt>(1) manual page).  
</p>

<p>

The logical operators
<tt class="literal">&amp;&amp;</tt> and <tt class="literal">||</tt>
are <tt class="literal">-a</tt> and <tt class="literal">-o</tt> instead.
Supported test operators differ from system to system.<a href="#FOOTNOTE-146">[146]</a>
</p><blockquote class="footnote">
<a name="FOOTNOTE-146" /><p> [146]
In the original Version 7 Bourne Shell
(and in Berkeley Unix systems through 4.3BSD),
<em class="emphasis">test</em></tt> and
<tt class="literal">[</tt> <tt><em class="replaceable"><tt>condition</tt></em></tt> <tt class="literal">]</tt>
were actually external commands.  (They were hard links to each
other in <em class="emphasis">/bin</em></tt>.)  However, they've been built into
the Bourne shell in all systems since System III (circa 1981).
</p>
</blockquote>

<p>
The <tt class="literal">!</tt> keyword
to reverse the exit status of a command
was not in the SVR4 Bourne shell,
although it may be available on your system, since it is
required by POSIX.
</p>

<p>

The <tt class="literal">select</tt> construct isn't supported.
Neither is the arithmetic <tt class="literal">for</tt> loop,
and there is no way to fall through from one case to another
inside a <tt class="literal">case</tt> statement.
</p>

<p>
There is no equivalent for <tt class="literal">TMOUT</tt>.
</p></dd>


<dt><i><a href="ch06_01.htm">Chapter 6</a></i></dt>

<dd>

The SVR4 Bourne shell <em class="emphasis">getopts</em> command is similar, but
not identical to, that in <em class="emphasis">ksh</em>.
It does not allow options that begin with a plus sign,
nor any of the advanced features described in
<a href="appb_01.htm">Appendix B</a>.
</p>

<p>

Arithmetic isn't supported: use the external command
<em class="emphasis">expr</em> instead of
the <tt class="literal">$((</tt>...<tt class="literal">))</tt> syntax.  
For numeric conditionals, use the old condition test syntax
and relational operators <em class="emphasis">-lt</em>, <em class="emphasis">-eq</em>, etc., instead of
<tt class="literal">((</tt>...<tt class="literal">))</tt>.
<em class="emphasis">let</em> isn't supported.
</p>

<p>
Array variables and the <em class="emphasis">typeset</em> command are not supported.
</p></dd>


<dt><i><a href="ch07_01.htm">Chapter 7</a></i></dt>

<dd>
The following I/O redirectors are not supported:<a href="#FOOTNOTE-147">[147]</a>
</p><blockquote class="footnote">
<a name="FOOTNOTE-147" /><p> [147]
The <tt class="literal">&lt;&gt;</tt> operator was in the original Version 7 Bourne shell,
but not documented, since it didn't always work correctly across all Unix systems.
Its availability should not be relied upon for Bourne shell programming.
</p>
</blockquote>



<table border="1" cellpadding="3">

<tr>
<td><tt class="literal">&gt;|</tt></td>

<td><tt class="literal">&lt;&gt;</tt></td>

<td><tt class="literal">&lt;&lt;&lt;</tt></td>

<td><tt class="literal">&lt;&amp;p</tt></td>

<td><tt class="literal">&gt;&amp;p</tt></td>

<td><tt class="literal">&lt;&amp;</tt><tt><em class="replaceable"><tt>n</tt></em></tt><tt class="literal">-</tt></td>

<td><tt class="literal">&gt;&amp;</tt><tt><em class="replaceable"><tt>n</tt></em></tt><tt class="literal">-</tt></td>

<td><tt class="literal">|&amp;</tt></td>

</tr>

</table><p>

<p>

<em class="emphasis">print</em></tt> isn't supported (use <em class="emphasis">echo</em></tt> instead).
<em class="emphasis">printf</em></tt> is generally available as an external command.
</p>

<p>
None of the options to <em class="emphasis">read</em></tt> are supported,
nor is the ability to supply a prompt with the first variable's name.
</p>

<p>
The Bourne shell does not do special interpretations of pathnames,
such as <em class="emphasis">/dev/fd/2</em></tt> or
<em class="emphasis">/dev/tcp/ftp.oreilly.com/ftp</em></tt>.
</p>

<p>
The <tt class="literal">$"</tt>...<tt class="literal">"</tt>
and <tt class="literal">$'</tt>...<tt class="literal">'</tt>
quoting mechanisms are not available.
</p></dd>


<dt><i><a href="ch08_01.htm">Chapter 8</a></i></dt>

<dd>
Job control is supported, but only if the shell is invoked with
the <em class="emphasis">-j</em> option or as <em class="emphasis">jsh</em>.
</p>

<p>
The <tt class="literal">-</tt> option to <em class="emphasis">trap</em> (reset trap to
the default for that signal) is not available.
Instead, a missing trap indicates that the supplied traps should
be reset.
<em class="emphasis">trap</em> accepts only signal
numbers, not logical names.
</p>

<p>
Coroutines aren't supported.
</p>

<p>
The <em class="emphasis">wait</em> command only accepts process IDs.
</p></dd>


<dt><i><a href="ch09_01.htm">Chapter 9</a></i></dt>

<dd>


The ERR and DEBUG fake signals are not available. The EXIT fake signal
<em class="emphasis">is</em></tt> supported, as signal 0. 
</p>

<p>
<em class="emphasis">set -n</em></tt> takes effect even in interactive shells.
</p>

<p>
The output from tracing with <em class="emphasis">set -x</em></tt> is
not customizable (no <tt class="literal">PS4</tt> variable).
</p>

<p>
Discipline functions are not available.
</p></dd>


<dt><i><a href="ch10_01.htm">Chapter 10</a></i></dt>

<dd>

Privileged mode isn't supported.
(Some Bourne shells do have it.)
</p>

<p>
The <em class="emphasis">ulimit</em> and <em class="emphasis">umask</em> commands are not as capable.
</p>

<p>
The KEYBD trap is not available.
<a name="IXTR3-0" />

</p></dd>

</dl>
</div>

<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch10_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="appa_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">10.4. System Security Features</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">A.2. The 1988 Korn Shell</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
      </map>

</body></html>