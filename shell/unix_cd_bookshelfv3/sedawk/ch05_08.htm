<html><head><title>Print (sed & awk, Second Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Dale Dougherty and Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-225-5" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="sed &amp; awk, Second Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="sed &amp; awk" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="sed &amp; awk" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_07.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch05_09.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">5.8. Print</h2>

<p>
<a name="IXT-5-265728" />
The print command (<b class="emphasis-bold">p</b>) causes the contents of the
pattern space to be output.  It does not clear the pattern space nor
does it change the flow of control in the script.  However, it is
frequently used before commands (<b class="emphasis-bold">d</b>,
<b class="emphasis-bold">N</b>, <b class="emphasis-bold">b</b>) that do change flow
control.  Unless the default output is suppressed
(<em class="emphasis">-n</em>), the print command will cause duplicate copies
of a line to be output.  It can be used when default output is
suppressed or when the flow control through the program avoids
reaching the bottom of the script.</p>

<p>
<a name="IXT-5-265729" />
Let's look at a script that shows how the print command might be used
for debugging purposes.  It is used to show what the line looked like
before you made any changes.</p>

<blockquote><pre class="code">#n Print line before and after changes.
/^\.Ah/{
p
s/"//g
s/^\.Ah //p
}</pre></blockquote>

<p>Note that the print flag is supplied to the substitute command.  The
substitute command's print flag differs from the print command in that
it is conditional upon a successful substitution.</p>

<p>Here's a sample run of the above script:</p>

<blockquote><pre class="code">$ <tt class="userinput"><b>sed -f sed.debug ch05</b></tt>
.Ah "Comment"
Comment
.Ah "Substitution"
Substitution
.Ah "Delete"
Delete
.Ah "Append, Insert and Change"
Append, Insert and Change
.Ah "List"
List</pre></blockquote>

<p>Each affected line is printed twice.</p>

<p>We'll see additional examples of the print command in the next
chapter.  See also the multiline print command (<b class="emphasis-bold">P</b>)
in the next chapter.</p>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_07.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch05_09.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">5.7. Transform</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">5.9. Print Line Number</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>