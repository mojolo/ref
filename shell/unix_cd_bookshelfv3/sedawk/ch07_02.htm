<html><head><title>Hello, World (sed & awk, Second Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Dale Dougherty and Arnold Robbins" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1-56592-225-5" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="sed &amp; awk, Second Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="sed &amp; awk" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="sed &amp; awk" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch07_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch07_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">7.2. Hello, World</h2>

<p>It has become a convention to introduce a programming language by
demonstrating the "Hello, world" program.  Showing how this program
works in awk will demonstrate just how unconventional awk is.  In
fact, it's necessary to show several different approaches to printing
"Hello, world."</p>

<p>In the first example, we create a file named <em class="filename">test</em>
that contains a single line.  This example shows a script that
contains the <b class="emphasis-bold">print</b> statement:</p>

<blockquote><pre class="code">$ <tt class="userinput"><b>echo 'this line of data is ignored' &gt; test</b></tt>
$ <tt class="userinput"><b>awk '{ print "Hello, world" }' test</b></tt>
Hello, world</pre></blockquote>

<p>This script has only a single action, which is enclosed in braces.
That action is to execute the <b class="emphasis-bold">print</b> statement for
each line of input.  In this case, the <em class="filename">test</em> file
contains only a single line; thus, the action occurs once.  Note that
the input line is read but never output.</p>

<p>Now let's look at another example.  Here, we use a file that contains
the line "Hello, world."</p>

<blockquote><pre class="code">$ <tt class="userinput"><b>cat test2</b></tt>
Hello, world
$ <tt class="userinput"><b>awk '{ print }' test2</b></tt>
Hello, world</pre></blockquote>

<p>
<a name="IXT-7-265806" />
In this example, "Hello, world" appears in the input file.  The same
result is achieved because the <b class="emphasis-bold">print</b> statement,
without arguments, simply outputs each line of input.  If there were
additional lines of input, they would be output as well.</p>

<p>Both of these examples illustrate that awk is usually input-driven.
That is, nothing happens unless there are lines of input on which to
act.  When you invoke the awk program, it reads the script that you
supply, checking the syntax of your instructions.  Then awk attempts
to execute the instructions for each line of input.  Thus, the
<b class="emphasis-bold">print</b> statement will not be executed unless there
is input from the file.</p>

<p>To verify this for yourself, try entering the command line in the
first example but omit the filename.  You'll find that because awk
expects input to come from the keyboard, it will wait until you give
it input to process: press RETURN several times, then
type an EOF (CTRL-D on most systems) to signal the
end of input.  For each time that you pressed RETURN,
the action that prints "Hello, world" will be executed.</p>

<p>
<a name="IXT-7-265807" />
There is yet another way to write the "Hello, world" message and not
have awk wait for input.  This method associates the action with the
<b class="emphasis-bold">BEGIN</b> pattern.  The <b class="emphasis-bold">BEGIN</b>
pattern specifies actions that are performed
<em class="emphasis">before</em> the first line of input is read.</p>

<blockquote><pre class="code">$ <tt class="userinput"><b>awk 'BEGIN { print "Hello, world" }'</b></tt>
Hello, world</pre></blockquote>

<p>Awk prints the message, and then exits.  If a program has only a
<b class="emphasis-bold">BEGIN</b> pattern, and no other statements, awk will
not process any input files.</p>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch07_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch07_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">7. Writing Scripts
for awk</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">7.3. Awk's Programming Model</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2003</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,88,96" href="../index.htm"><area shape="rect" coords="90,0,165,96" href="../upt/index.htm"><area shape="rect" coords="168,1,253,107" href="../mac/index.htm"><area shape="rect" coords="255,0,335,97" href="../korn/index.htm"><area shape="rect" coords="337,0,415,109" href="../unixnut/index.htm"><area shape="rect" coords="417,0,512,122" href="../sedawk/index.htm"><area shape="rect" coords="514,0,605,105" href="../lunix/index.htm"><area shape="rect" coords="611,2,694,121" href="../vi/index.htm">
</map>

</body></html>