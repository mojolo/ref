<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> <html style><!--
 Page saved with SingleFile 
 url: https://tldp.org/LDP/abs/html/functions.html 
 saved date: Tue Jul 04 2023 00:57:28 GMT-0700 (Pacific Daylight Time)
--><meta charset=utf-8><style>:root{--sf-img-1: url("data:image/gif;base64,R0lGODdhGAAYAPcAAAAAAAEBAQICAgMDAwQEBAUFBQYGBgcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BgYGFhYWJiYmNjY2RkZGVlZWZmZmdnZ2hoaGlpaWpqamtra2xsbG1tbW5ubm9vb3BwcHFxcXJycnNzc3R0dHV1dXZ2dnd3d3h4eHl5eXp6ent7e3x8fH19fX5+fn9/f4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpeXl5iYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb6+vr+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3t/f3+Dg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f7+/v///ywAAAAAGAAYAAAI/gD/CRxI8JxBgwQTKhTYqxSlUhAfOluY8J0xRqWsnXvH8ZwxSpQmUjz30BvFf84o1Vr4rtTKkwJb9qpIaSZMgjUJOit1s2IpkwJ/9ky4U2BRgsZ61VLay9tBhP9KnYvq7Z01a6UY1XLmzZozRoQgRqR0bus5qSC3CjyX0pizOU29dQ3pjWxGsgPfURqjRYmUPTVrLTX2jqS3u1MZ7uF6mNK/d48H1j3rjVFivXNU9sK4kCRlSntKcVyzx6uxPUATnv1Xy5rAWiHXbJ4zxqbCUhOxxjwtJTMhYxRbQo4q8p/T4yd72caaeOjO4a95Dv3HqPjAXpSgU/xqnSBswp2/FMPEilHuOW87tTaHiR4kSNzaBwYEADs=")}</style><style class="darkreader darkreader--user-agent" media=screen>.jfk-bubble.gtx-bubble,.captcheck_answer_label>input+img,span#closed_text>img[src^="https://www.gstatic.com/images/branding/googlelogo"],span[data-href^="https://www.hcaptcha.com/"]>#icon,#bit-notification-bar-iframe,::-webkit-calendar-picker-indicator{filter:invert(100%) hue-rotate(180deg) contrast(90%) sepia(5%)!important}[data-darkreader-inline-bgcolor]{background-color:var(--darkreader-inline-bgcolor)!important}[data-darkreader-inline-color]{color:var(--darkreader-inline-color)!important}:root{--darkreader-neutral-background:#131516;--darkreader-neutral-text:#dcd6cf;--darkreader-selection-background:#054da5;--darkreader-selection-text:#ece8e2}html{background-color:#191a1b!important}html{color-scheme:dark!important}html,body{background-color:#191a1b}html,body{border-color:#756c5e;color:#ece8e2}a{color:#3992f8}table{border-color:#565c5d}::placeholder{color:#b5ada1}::-webkit-scrollbar{background-color:#212324;color:#aea699}::-webkit-scrollbar-thumb{background-color:#464b4d}::-webkit-scrollbar-corner{background-color:#191a1b}*{scrollbar-color:#464b4d #212324}::selection{background-color:#054da5!important;color:#ece8e2!important}::-moz-selection{background-color:#054da5!important;color:#ece8e2!important}</style><title>Functions</title><meta name=GENERATOR content="Modular DocBook HTML Stylesheet Version 1.7"><link rel=HOME title="Advanced Bash-Scripting Guide" href=https://tldp.org/LDP/abs/html/index.html><meta name=darkreader content=fdc6c93545fa433ca7ff1333d62be6c2><style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style><link rel=UP title="Advanced Topics" href=https://tldp.org/LDP/abs/html/part5.html><link rel=PREVIOUS title="Process Substitution" href=https://tldp.org/LDP/abs/html/process-sub.html><link rel=NEXT title="Complex Functions and Function Complexities" href=https://tldp.org/LDP/abs/html/complexfunct.html><link type=image/x-icon rel="shortcut icon" href="data:image/x-icon;base64,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"><link rel=canonical href=https://tldp.org/LDP/abs/html/functions.html><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style><body class=CHAPTER style=--darkreader-inline-bgcolor:#191a1b data-darkreader-inline-bgcolor vlink=#840084 text=#000000 link=#0000FF bgcolor=#FFFFFF alink=#0000FF><div class=NAVHEADER><table summary="Header navigation table" width=100% cellspacing=0 cellpadding=0 border=0><tbody><tr><th colspan=3 align=center>Advanced Bash-Scripting Guide: <tr><td width=10% valign=bottom align=left><a href=https://tldp.org/LDP/abs/html/process-sub.html accesskey=P>Prev</a><td width=80% valign=bottom align=center><td width=10% valign=bottom align=right><a href=https://tldp.org/LDP/abs/html/complexfunct.html accesskey=N>Next</a></table><hr width=100% align=LEFT></div><div class=CHAPTER><h1><a name=FUNCTIONS></a>Chapter 24. Functions</h1><div class=TOC><dl><dt><b>Table of Contents</b><dt>24.1. <a href=https://tldp.org/LDP/abs/html/complexfunct.html>Complex Functions and Function Complexities</a><dt>24.2. <a href=https://tldp.org/LDP/abs/html/localvar.html>Local Variables</a><dt>24.3. <a href=https://tldp.org/LDP/abs/html/recurnolocvar.html>Recursion Without Local Variables</a></dl></div><p><a name=FUNCTIONREF></a><p>Like <span class=QUOTE>"real"</span> programming languages,
 Bash has functions, though in a somewhat limited implementation.
 A function is a subroutine, a <a href=https://tldp.org/LDP/abs/html/special-chars.html#CODEBLOCKREF>code
 block</a> that implements a set of operations, a <span class=QUOTE>"black
 box"</span> that performs a specified task. Wherever there is
 repetitive code, when a task repeats with only slight variations in
 procedure, then consider using a function.<p><p><b class=COMMAND>function</b> <tt class=REPLACEABLE><i>function_name</i></tt> { <br> <tt class=REPLACEABLE><i>command</i></tt>... <br> } <br></p>
 or 
 <p> <tt class=REPLACEABLE><i>function_name</i></tt> () { <br> <tt class=REPLACEABLE><i>command</i></tt>... <br> } <br></p>
 <p><p>This second form will cheer the hearts of C programmers
 (and is more <a href=https://tldp.org/LDP/abs/html/portabilityissues.html>portable</a>).<p>As in C, the function's opening bracket may optionally appear
 on the second line.<p><p> <tt class=REPLACEABLE><i>function_name</i></tt> () <br> { <br> <tt class=REPLACEABLE><i>command</i></tt>... <br> } <br></p>
 <p><div class=NOTE><p><table class=NOTE width=100% border=0><tbody><tr><td width=25 valign=TOP align=CENTER><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><rect fill-opacity="0"/></svg>' alt=Note style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-1)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" hspace=5><td valign=TOP align=LEFT><p>A function may be <span class=QUOTE>"compacted"</span> into a single
 line.<p><table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>fun () { echo "This is a function"; echo; }
#                                 ^     ^</pre></font></table><p>In this case, however, a <i class=FIRSTTERM>semicolon</i>
 must follow the final command in the function.<p><table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>fun () { echo "This is a function"; echo } # Error!
#                                       ^

fun2 () { echo "Even a single-command function? Yes!"; }
#                                                    ^</pre></font></table></p></table></div><p>Functions are called, <i class=FIRSTTERM>triggered</i>, simply by
 invoking their names. <em>A function call is equivalent to
 a command.</em><div class=EXAMPLE><a name=EX59></a><p><b>Example 24-1. Simple functions</b><table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>#!/bin/bash
# ex59.sh: Exercising functions (simple).

JUST_A_SECOND=1

funky ()
{ # This is about as simple as functions get.
  echo "This is a funky function."
  echo "Now exiting funky function."
} # Function declaration must precede call.


fun ()
{ # A somewhat more complex function.
  i=0
  REPEATS=30

  echo
  echo "And now the fun really begins."
  echo

  sleep $JUST_A_SECOND    # Hey, wait a second!
  while [ $i -lt $REPEATS ]
  do
    echo "----------FUNCTIONS----------&gt;"
    echo "&lt;------------ARE-------------"
    echo "&lt;------------FUN------------&gt;"
    echo
    let "i+=1"
  done
}

  # Now, call the functions.

funky
fun

exit $?</pre></font></table></div><p><a name=FUNCTDEFMUST></a><p>The function definition must precede the first call to
 it. There is no method of <span class=QUOTE>"declaring"</span> the function,
 as, for example, in C.
 <table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>f1
# Will give an error message, since function "f1" not yet defined.

declare -f f1      # This doesn't help either.
f1                 # Still an error message.

# However...

	  
f1 ()
{
  echo "Calling function \"f2\" from within function \"f1\"."
  f2
}

f2 ()
{
  echo "Function \"f2\"."
}

f1  #  Function "f2" is not actually called until this point,
    #+ although it is referenced before its definition.
    #  This is permissible.
    
    # Thanks, S.C.</pre></font></table>
 <div class=NOTE><p><table class=NOTE width=100% border=0><tbody><tr><td width=25 valign=TOP align=CENTER><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><rect fill-opacity="0"/></svg>' alt=Note style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-1)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" hspace=5><td valign=TOP align=LEFT><p><a name=EMPTYFUNC></a>Functions may not be empty!
 <table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>#!/bin/bash
# empty-function.sh

empty ()
{
}

exit 0  # Will not exit here!

# $ sh empty-function.sh
# empty-function.sh: line 6: syntax error near unexpected token `}'
# empty-function.sh: line 6: `}'

# $ echo $?
# 2


# Note that a function containing only comments is empty.

func ()
{
  # Comment 1.
  # Comment 2.
  # This is still an empty function.
  # Thank you, Mark Bova, for pointing this out.
}
# Results in same error message as above.


# However ...

not_quite_empty ()
{
  illegal_command
} #  A script containing this function will *not* bomb
  #+ as long as the function is not called.

not_empty ()
{
  :
} # Contains a : (null command), and this is okay.


# Thank you, Dominick Geyer and Thiemo Kellner.</pre></font></table></p></table></div><p>It is even possible to nest a function within another function,
 although this is not very useful.
 <table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>f1 ()
{

  f2 () # nested
  {
    echo "Function \"f2\", inside \"f1\"."
  }

}  

f2  #  Gives an error message.
    #  Even a preceding "declare -f f2" wouldn't help.

echo    

f1  #  Does nothing, since calling "f1" does not automatically call "f2".
f2  #  Now, it's all right to call "f2",
    #+ since its definition has been made visible by calling "f1".

    # Thanks, S.C.</pre></font></table>
 <p>Function declarations can appear in unlikely places, even where a
 command would otherwise go.
 <table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>ls -l | foo() { echo "foo"; }  # Permissible, but useless.



if [ "$USER" = bozo ]
then
  bozo_greet ()   # Function definition embedded in an if/then construct.
  {
    echo "Hello, Bozo."
  }
fi  

bozo_greet        # Works only for Bozo, and other users get an error.



# Something like this might be useful in some contexts.
NO_EXIT=1   # Will enable function definition below.

[[ $NO_EXIT -eq 1 ]] &amp;&amp; exit() { true; }     # Function definition in an "and-list".
# If $NO_EXIT is 1, declares "exit ()".
# This disables the "exit" builtin by aliasing it to "true".

exit  # Invokes "exit ()" function, not "exit" builtin.



# Or, similarly:
filename=file1

[ -f "$filename" ] &amp;&amp;
foo () { rm -f "$filename"; echo "File "$filename" deleted."; } ||
foo () { echo "File "$filename" not found."; touch bar; }

foo

# Thanks, S.C. and Christopher Head</pre></font></table>
 <p><a name=FSTRANGEREF></a>Function names can take strange
 forms.
 <table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>  _(){ for i in {1..10}; do echo -n "$FUNCNAME"; done; echo; }
# ^^^         No space between function name and parentheses.
#             This doesn't always work. Why not?

# Now, let's invoke the function.
  _         # __________
#             ^^^^^^^^^^   10 underscores (10 x function name)!  
# A "naked" underscore is an acceptable function name.


# In fact, a colon is likewise an acceptable function name.

:(){ echo ":"; }; :

# Of what use is this?
# It's a devious way to obfuscate the code in a script.</pre></font></table>
 See also <a href=https://tldp.org/LDP/abs/html/contributed-scripts.html#GRONSFELD>Example A-56</a><div class=NOTE><p><table class=NOTE width=100% border=0><tbody><tr><td width=25 valign=TOP align=CENTER><img src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><rect fill-opacity="0"/></svg>' alt=Note style="background-blend-mode:normal!important;background-clip:content-box!important;background-position:50% 50%!important;background-color:rgba(0,0,0,0)!important;background-image:var(--sf-img-1)!important;background-size:100% 100%!important;background-origin:content-box!important;background-repeat:no-repeat!important" hspace=5><td valign=TOP align=LEFT><p>What happens when different versions of the same function
 appear in a script?
 <table style=--darkreader-inline-bgcolor:#2b2d2f data-darkreader-inline-bgcolor width=100% border=0 bgcolor=#E0E0E0><tbody><tr><td><font style=--darkreader-inline-color:#ece8e2 data-darkreader-inline-color color=#000000><pre class=PROGRAMLISTING>#  As Yan Chen points out,
#  when a function is defined multiple times,
#  the final version is what is invoked.
#  This is not, however, particularly useful.

func ()
{
  echo "First version of func ()."
}

func ()
{
  echo "Second version of func ()."
}

func   # Second version of func ().

exit $?

#  It is even possible to use functions to override
#+ or preempt system commands.
#  Of course, this is *not* advisable.</pre></font></table></p></table></div></div><div class=NAVFOOTER><hr width=100% align=LEFT><table summary="Footer navigation table" width=100% cellspacing=0 cellpadding=0 border=0><tbody><tr><td width=33% valign=top align=left><a href=https://tldp.org/LDP/abs/html/process-sub.html accesskey=P>Prev</a><td width=34% valign=top align=center><a href=https://tldp.org/LDP/abs/html/index.html accesskey=H>Home</a><td width=33% valign=top align=right><a href=https://tldp.org/LDP/abs/html/complexfunct.html accesskey=N>Next</a><tr><td width=33% valign=top align=left>Process Substitution<td width=34% valign=top align=center><a href=https://tldp.org/LDP/abs/html/part5.html accesskey=U>Up</a><td width=33% valign=top align=right>Complex Functions and Function Complexities</table></div>